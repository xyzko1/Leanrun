#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_ZLGC_BASEINFO/TBL_ZLGC_BASEINFOIndexQueryBrowse.csh" +
        "tml")]
    public partial class _Areas_JXGeoManage_Views_TBL_ZLGC_BASEINFO_TBL_ZLGC_BASEINFOIndexQueryBrowse_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_ZLGC_BASEINFO_TBL_ZLGC_BASEINFOIndexQueryBrowse_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_ZLGC_BASEINFO\TBL_ZLGC_BASEINFOIndexQueryBrowse.cshtml"
  
    ViewBag.Title = "治理工程查询浏览列表页面";
    Layout = "~/Views/Shared/_IndexMap.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n <style>\r\n     .ui-layout .center-Panel {\r\n         margin-top: 0px;\r\n     }\r" +
"\n\r\n     .ui-layout-center {\r\n         overflow-x: hidden !important;\r\n     }\r\n\r\n" +
"     .ui-layout-resizer {\r\n         background-color: #f0f3f4 !important;\r\n     " +
"}\r\n\r\n     .link-detail {\r\n         text-decoration: none;\r\n         color: blue;" +
"\r\n     }\r\n\r\n     #ui_map {\r\n         overflow: hidden !important;\r\n     }\r\n\r\n   " +
"  .ui-jqgrid .ui-jqgrid-htable th {\r\n         border-bottom: 1px solid #ccc !imp" +
"ortant;\r\n     }\r\n\r\n     .titlePanel .toolbar {\r\n         float: right;\r\n        " +
" padding-right: 20px;\r\n         line-height: 15px;\r\n     }\r\n\r\n     .form-control" +
", .ui-select, .ui-select-text {\r\n         border-radius: 3px;\r\n     }\r\n\r\n     #D" +
"ZHJManage {\r\n         background-color: rgba(236, 247, 255, 1) !important;\r\n    " +
" }\r\n\r\n         #DZHJManage #TOWN {\r\n             display: none;\r\n         }\r\n   " +
"  /*#GJCX #districtsCtls2 #TOWN {\r\n        display:none; \r\n    }*/\r\n     .spansa" +
" {\r\n         padding: 0 20px !important;\r\n         width: 9%;\r\n         text-ali" +
"gn: center;\r\n         height: 28px;\r\n         line-height: 28px;\r\n         min-w" +
"idth: 113px;\r\n     }\r\n\r\n     .spans {\r\n         padding: 0 10px;\r\n         width" +
": 9%;\r\n         text-align: center;\r\n         height: 28px;\r\n         line-heigh" +
"t: 28px;\r\n         min-width: 100px;\r\n     }\r\n\r\n     .divselect {\r\n         widt" +
"h: 21%;\r\n     }\r\n\r\n     .snone {\r\n         display: none;\r\n     }\r\n\r\n     #gridT" +
"able td {\r\n         border-right: 1px solid #ccc !important;\r\n     }\r\n\r\n     .ui" +
"-jqgrid-btable tr:nth-child(odd) {\r\n         /*background:#DCDCDC*/\r\n     }\r\n\r\n " +
"    .fa-folder-open {\r\n         color: transparent !important;\r\n         backgro" +
"und: url(\"../../Content/images/zTreeStandard.png\") no-repeat;\r\n         backgrou" +
"nd-position: -110px -16px;\r\n         margin-right: 2px;\r\n         width: 16px !i" +
"mportant;\r\n         height: 16px !important;\r\n     }\r\n\r\n     .fa-folder {\r\n     " +
"    color: transparent !important;\r\n         background: url(\"../../Content/imag" +
"es/zTreeStandard.png\") no-repeat;\r\n         background-position: -110px 0;\r\n    " +
"     margin-right: 2px;\r\n         width: 16px !important;\r\n         height: 16px" +
" !important;\r\n     }\r\n\r\n     .fa-file-o {\r\n         color: transparent !importan" +
"t;\r\n         background: url(\"../../Content/images/zTreeStandard.png\") no-repeat" +
";\r\n         background-position: -110px -32px;\r\n         width: 16px !important;" +
"\r\n         height: 16px !important;\r\n     }\r\n </style>\r\n<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"ui-layout-west\"");

WriteLiteral(" style=\"height: 100%\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"west-Panel\"");

WriteLiteral(" style=\"margin: 0px; height: 100%\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(" style=\"height: 40px; line-height: 40px; background-color: rgba(236, 247, 255, 1)" +
"; color: #000\"");

WriteLiteral(">行政区划</div>\r\n            <div");

WriteLiteral(" id=\"itemTree\"");

WriteLiteral("></div>\r\n        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_center\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"center-Panel\"");

WriteLiteral(" style=\"height: 100%; width: 100%; margin-top: 0px; overflow-y: hidden;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" id=\"\"");

WriteLiteral(" style=\"width: 100%; height: 38px; background: #fff\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"GJCX\"");

WriteLiteral(" style=\"position: absolute; top: -120px; z-index: 3; width: 99%; transition: all " +
"0.6s\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" id=\"\"");

WriteLiteral(" style=\"width: 100%; height: 40px; background-color: rgba(255, 255, 255, 0.8); co" +
"lor: #000; display: flex; align-items: center; position: relative;\"");

WriteLiteral(">\r\n                        ");

WriteLiteral("\r\n                        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">立项开始时间:</span><input");

WriteLiteral(" id=\"ZLGCSTARTTIME\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral(" onfocus=\"WdatePicker()\"");

WriteLiteral(" />\r\n                        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">立项结束时间:</span><input");

WriteLiteral(" id=\"ZLGCENDTIME\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral(" onfocus=\"WdatePicker()\"");

WriteLiteral(" />\r\n                        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">灾害类型:</span><div");

WriteLiteral(" id=\"DISASTERTYPE\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral("></div>\r\n                    </div>\r\n                    <div");

WriteLiteral(" id=\"\"");

WriteLiteral(" style=\"width: 100%; height: 40px; background-color: rgba(255, 255, 255, 0.8); co" +
"lor: #000; display: flex; align-items: center; position: relative;\"");

WriteLiteral(">\r\n                        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">项目阶段:</span><div");

WriteLiteral(" id=\"ITEMTYPE\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral("></div>\r\n                        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">负责单位:</span><input");

WriteLiteral(" id=\"XMFZDW\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral(" />\r\n                        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">\r\n                            <a");

WriteLiteral(" id=\"btn_Search_higher\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" style=\"cursor: pointer; color: white; padding: 4px 4px;\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>查询</a>\r\n                        </span>\r\n                        <div");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral(">\r\n                            <a");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" id=\"btn_Reset\"");

WriteLiteral(" style=\"background: gray; border-color: gray; height: 28px; padding: 4px 12px; co" +
"lor: white; cursor: pointer;\"");

WriteLiteral(">重置</a>\r\n                        </div>\r\n                        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral("></span>\r\n                        <div");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral(">\r\n                        </div>\r\n                    </div>\r\n                </" +
"div>\r\n                ");

WriteLiteral("\r\n                <div");

WriteLiteral(" id=\"DZHJManage\"");

WriteLiteral(" class=\"\"");

WriteLiteral(" style=\"width: 100%; height: 40px; background: rgba(236, 247, 255, 1); display: f" +
"lex; align-items: center; position: relative; z-index: 23; justify-content: star" +
"t;\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" style=\"width: 10%; font-weight: 900; min-width: 80px; white-space: nowrap;\"");

WriteLiteral(">\r\n                        <i");

WriteLiteral(" class=\"fa fa-bars\"");

WriteLiteral(" style=\"margin: 0 5px; font-weight: 700;\"");

WriteLiteral("></i><span>查询条件:</span>\r\n                    </div>\r\n                    <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" id=\"filter-form\"");

WriteLiteral(" style=\"width: 40%; align-items: center; flex-wrap: nowrap; margin-top: 3px;\"");

WriteLiteral(">\r\n                        <table>\r\n                            <tr>\r\n           " +
"                     <td>\r\n                                    <input");

WriteLiteral(" id=\"NAMESS\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入治理工程名称、灾害点名称、灾害点编号\"");

WriteLiteral(" style=\"width: 280px;\"");

WriteLiteral(" /></td>\r\n                                <td");

WriteLiteral(" style=\"padding-left: 10px;\"");

WriteLiteral("><a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" style=\"font-size: 16px; cursor: pointer;\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral(" style=\"margin: -9px 10px 0px 0px\"");

WriteLiteral("></i></a></td>\r\n                            </tr>\r\n                        </tabl" +
"e>\r\n                    </div>\r\n                    ");

WriteLiteral("\r\n                    <div");

WriteLiteral(" style=\"width: 90%; align-items: center; flex-wrap: nowrap;\"");

WriteLiteral(">\r\n                        ");

WriteLiteral("\r\n                        <span");

WriteLiteral(" id=\"serch-btn\"");

WriteLiteral(" style=\"font-size: 13px; float: right; maring-right: 10px; position: absolute; to" +
"p: 10px; right: 10px; cursor: pointer\"");

WriteLiteral(">\r\n                            <i");

WriteLiteral(" id=\"fontfamily\"");

WriteLiteral(" class=\"fa fa-caret-right\"");

WriteLiteral("></i>\r\n                            高级查询\r\n                        </span>\r\n       " +
"             </div>\r\n                </div>\r\n            </div>\r\n            <di" +
"v");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout2\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"ui-layout-north\"");

WriteLiteral(" id=\"ui_map\"");

WriteLiteral(" style=\"position:relative;\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" id=\"mapControl\"");

WriteLiteral(" style=\"height: 350px;\"");

WriteLiteral("></div>\r\n                    <div");

WriteLiteral(" id=\"tl\"");

WriteLiteral(" style=\"position: absolute; bottom: 0%; right: 0%;\"");

WriteLiteral(">\r\n                        <img");

WriteAttribute("src", Tuple.Create(" src=\"", 10159), Tuple.Create("\"", 10191)
, Tuple.Create(Tuple.Create("", 10165), Tuple.Create<System.Object, System.Int32>(Href("~/Content/images/七大类图例.png")
, 10165), false)
);

WriteLiteral(" />\r\n                    </div>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_grid\"");

WriteLiteral(" style=\"margin: 0\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(" style=\"height: 40px; line-height: 40px\"");

WriteLiteral(">\r\n                        <span");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(" style=\"color: #000\"");

WriteLiteral(">数据列表</span>\r\n                        <div");

WriteLiteral(" class=\"toolbar\"");

WriteLiteral(" style=\"height: 40px; line-height: 40px\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(" style=\"margin-bottom: 3px\"");

WriteLiteral(">\r\n                                <a");

WriteLiteral(" id=\"lr-replace\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"reload()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-refresh\"");

WriteLiteral("></i>刷新</a>\r\n                                <a");

WriteLiteral(" id=\"lr-export\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"EXL_Export()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-file-excel-o\"");

WriteLiteral("></i>导出</a>\r\n                                <a");

WriteLiteral(" id=\"lr-message\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_message()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>详情</a>\r\n                                <a");

WriteLiteral(" id=\"lr-colgrid\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"ColDataGrid()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-chevron-down\"");

WriteLiteral("></i>列表</a>\r\n                                <a");

WriteLiteral(" id=\"lr-colmap\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"ColMapDiv()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-chevron-up\"");

WriteLiteral("></i>地图</a>\r\n                            </div>\r\n                        </div>\r\n" +
"                    </div>\r\n                    <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                        <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                        <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n" +
"        </div>\r\n    </div>\r\n</div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script>\r\n    var layout2NorthH = 1;\r\n    var authToken = getAuthorizationToken" +
"();\r\n    var AreaCode = 0, PROVINCE = \"\", CITY = \"\", COUNTY = \"\";\r\n    $(functio" +
"n () {\r\n        initControl();\r\n        InitialPage();\r\n        GetTree();\r\n    " +
"    GetMapData();\r\n        GetGrid();\r\n        BindMapMarker();\r\n        //重置\r\n " +
"       $(\"#btn_Reset\").click(function () {\r\n            $(\"#ZLGCNAME\").val(\"\");\r" +
"\n            $(\"#DISASTERNAME\").val(\"\");\r\n            $(\"#DISASTERTYPE .ui-selec" +
"t-text\").text(\"\");\r\n            $(\"#DISASTERTYPE\").attr(\"data-value\", \"\").attr(\"" +
"data-text\", \"\");\r\n            $(\"#ZLGCSTARTTIME\").val(\"\");\r\n            $(\"#ZLGC" +
"ENDTIME\").val(\"\");\r\n            $(\"#ITEMTYPE .ui-select-text\").text(\"\");\r\n      " +
"      $(\"#ITEMTYPE\").attr(\"data-value\", \"\").attr(\"data-text\", \"\");\r\n            " +
"$(\"#XMFZDW\").val(\"\");\r\n            \r\n        });\r\n\r\n        //查询点击事件\r\n        $(" +
"\"#btn_Search\").click(function () {\r\n            SearchEvent();\r\n            //Bi" +
"ndMapMarker();\r\n        });\r\n        //高级查询点击事件\r\n        $(\"#btn_Search_higher\")" +
".click(function () {\r\n            SearchEvent();\r\n            //BindMapMarker();" +
"\r\n        })\r\n    });\r\n    //公共控件初始化\r\n    function initControl() {\r\n        //折叠" +
"\r\n        var flag = true;\r\n        $(\"#serch-btn\").click(function () {\r\n       " +
"     if (flag) {\r\n                $(\"#GJCX\").css(\"top\", 40)\r\n                $(\"" +
"#fontfamily\").removeClass();\r\n                $(\"#fontfamily\").addClass(\"fa fa-c" +
"aret-down\")\r\n                flag = false\r\n            } else {\r\n               " +
" $(\"#GJCX\").css(\"top\", -120)\r\n                $(\"#fontfamily\").removeClass();\r\n " +
"               $(\"#fontfamily\").addClass(\"fa fa-caret-right\");\r\n                " +
"flag = true\r\n            }\r\n        })\r\n        //灾害类型\r\n        $(\"#DISASTERTYPE" +
"\").ComboBox({\r\n            data: eval(\"([{\'text\':\'滑坡\',\'value\':\'滑坡\'},{\'text\':\'崩塌\'" +
",\'value\':\'崩塌\'},{\'text\':\'泥石流\',\'value\':\'泥石流\'},{\'text\':\'地面塌陷\',\'value\':\'地面塌陷\'},{\'tex" +
"t\':\'地面沉降\',\'value\':\'地面沉降\'},{\'text\':\'地裂缝\',\'value\':\'地裂缝\'},{\'text\':\'斜坡\',\'value\':\'斜坡\'" +
"}])\"),\r\n            id: \"value\",\r\n            text: \"text\",\r\n            height:" +
" \'200px\'\r\n        });\r\n        //项目阶段\r\n        $(\"#ITEMTYPE\").ComboBox({\r\n      " +
"      data: eval(\"([{\'text\':\'项目立项\',\'value\':\'项目立项\'},{\'text\':\'野外勘察\',\'value\':\'野外勘察\'" +
"},{\'text\':\'施工设计\',\'value\':\'施工设计\'},{\'text\':\'工程施工\',\'value\':\'工程施工\'},{\'text\':\'工程监理\',\'" +
"value\':\'工程监理\'},{\'text\':\'项目验收\',\'value\':\'项目验收\'}])\"),\r\n            id: \"value\",\r\n  " +
"          text: \"text\",\r\n            height: \'200px\'\r\n        });\r\n    }\r\n\r\n    " +
"//初始化页面\r\n    function InitialPage() {\r\n        //layout布局\r\n        $(\'#layout\')." +
"layout({\r\n            west__size: 190,\r\n            applyDemoStyles: true,\r\n    " +
"        onresize: function () {\r\n                if (isResize < 10) {\r\n         " +
"           isResize++;\r\n                }\r\n                resize();\r\n          " +
"  }\r\n        });\r\n        var isResize = 0;\r\n        var count = 0;\r\n        var" +
" resized = 0;\r\n        $(\'#layout2\').layout({\r\n            applyDemoStyles: true" +
",\r\n            onresize: function () {\r\n                resize();\r\n             " +
"   if (isResize > 1) {\r\n                    resized = 1;\r\n                } else" +
" {\r\n                    if (count == 1 || resized == 0) {\r\n                     " +
"   $(\'#layout2 .ui-layout-center\').height($(\'#layout2 .ui-layout-center\').height" +
"() - 8);\r\n                    }\r\n                }\r\n                count++;\r\n  " +
"          }\r\n        });\r\n        //resize重设布局;\r\n        $(window).resize(functi" +
"on (e) {\r\n            if (isResize < 10) {\r\n                isResize++;\r\n       " +
"     }\r\n            resize();\r\n            e.stopPropagation();\r\n        });\r\n  " +
"      function resize() {\r\n            window.setTimeout(function () {\r\n        " +
"        if (mapCtlExt != null) {\r\n                    mapCtlExt.setHeight($(\'#ma" +
"pControl\').parent().height() - 4);\r\n                }\r\n                $(\'#gridT" +
"able\').setGridWidth(($(\'.gridPanel\').width()));\r\n                $(\'#layout2 .ui" +
"-layout-center\').width($(\'#layout2 .ui-layout-center\').parent().width());\r\n     " +
"           $(\'#layout2 .ui-layout-resizer\').width($(\'#layout2 .ui-layout-center\'" +
").parent().width());\r\n                $(\'.ui-jqgrid-bdiv\').height($(\'#layout2 .u" +
"i-layout-center\').height() - 60 - 60);\r\n                $(\'#layout2 .ui-layout-c" +
"enter\').height($(\'#layout2\').height() - $(\'#layout2 .ui-layout-north\').height())" +
";\r\n                $(\'#gridTable\').setGridHeight($(\'#layout2 .ui-layout-center\')" +
".height() - 138 - 8);\r\n                $(\'#layout2 .ui-layout-center\').css(\'over" +
"flow\', \'hidden\');\r\n                $(\"#itemTree\").height($(\'.ui-layout-west\').he" +
"ight() - 45);\r\n            }, 200);\r\n        };\r\n        $(window).resize();\r\n  " +
"      layout2NorthH = $(\"#layout2 .ui-layout-north\").height();\r\n    }\r\n    //加载行" +
"政区划树\r\n    function GetTree() {\r\n        var item = {\r\n            height: $(wind" +
"ow).height() - 52,\r\n            isAllExpand: false,\r\n            url: \"../../Map" +
"/GetTreeJsonForMap\",\r\n            onnodeclick: function (item) {\r\n              " +
"  AreaCode = item.id;\r\n                var level = item.value.split(\',\')[1];\r\n  " +
"              if (level == -1) {\r\n                    PROVINCE = \"\";\r\n          " +
"          CITY = \"\";\r\n                    COUNTY = \"\";\r\n                } else i" +
"f (level == 1) {\r\n                    PROVINCE = item.id;\r\n                    C" +
"ITY = \"\";\r\n                    COUNTY = \"\";\r\n                } else if (level ==" +
" 2) {\r\n                    PROVINCE = item.id.substring(0, 2) + \"0000\";\r\n       " +
"             CITY = item.id;\r\n                    COUNTY = \"\";\r\n                " +
"} else if (level == 3) {\r\n                    PROVINCE = item.id.substring(0, 2)" +
" + \"0000\";\r\n                    CITY = item.id.substring(0, 4) + \"00\";\r\n        " +
"            COUNTY = item.id;\r\n                }\r\n                var data = [{\r" +
"\n                    latitude: item.value.split(\',\')[3],\r\n                    lo" +
"ngitude: item.value.split(\',\')[2],\r\n                    popupHtml: \"\"\r\n         " +
"       }]\r\n                $(\'#btn_Search_higher\').trigger(\"click\");\r\n          " +
"      mapCtlExt.addLocation(data, false, level);\r\n            },\r\n        };\r\n  " +
"      //初始化\r\n        $(\"#itemTree\").treeview(item);\r\n    };\r\n    //查询表格函数\r\n    f" +
"unction SearchEvent(high) {\r\n        var queryJson = {};\r\n        queryJson = $." +
"extend(queryJson, $(\"#GJCX\").getWebControls());\r\n        queryJson[\"NAMESS\"] = $" +
"(\"#NAMESS\").val();\r\n        queryJson[\"PROVINCE\"] = PROVINCE;\r\n        queryJson" +
"[\"CITY\"] = CITY;\r\n        queryJson[\"COUNTY\"] = COUNTY;\r\n        BindMapMarker()" +
";\r\n        $(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n            postData: { con" +
"dition: JSON.stringify(WKTString), queryJson: JSON.stringify(queryJson) },\r\n    " +
"        loadBeforeSend: function (a) {\r\n                a.setRequestHeader(\"Auth" +
"orization\", authToken);\r\n            },\r\n            url: \"../../api/TBL_ZLGC/Po" +
"stPageListJson\",\r\n            page: 1,\r\n        }).trigger(\'reloadGrid\');\r\n    }" +
"\r\n    //加载地图\r\n    var mapCtlExt = null;\r\n    function GetMapData() {\r\n        ma" +
"pCtlExt = $(\"#mapControl\").mapCtl(\r\n            cfGetMapData({\r\n                " +
"gdzbdbx: true,\r\n                markerDataId: \"keyID\",\r\n                getMarke" +
"rData: getMarkerData\r\n            })\r\n        );\r\n        usercode = \"");

            
            #line 416 "..\..\Areas\JXGeoManage\Views\TBL_ZLGC_BASEINFO\TBL_ZLGC_BASEINFOIndexQueryBrowse.cshtml"
               Write(Infoearth.Application.Code.OperatorProvider.Provider.Current().XZQHCode);

            
            #line default
            #line hidden
WriteLiteral("\";\r\n        GetAreaGeometry(usercode);\r\n    };\r\n    //获取点击Marker时对应的数据\r\n    var i" +
"sMarkerClick = false;\r\n    function getMarkerData(UNIFIEDCODE) {\r\n        isMark" +
"erClick = true;\r\n        var datas = $(\'#gridTable\').jqGrid(\"getRowData\");\r\n    " +
"    var count = 0;\r\n        $.each(datas, function (i, e) {\r\n            if (e.U" +
"NIFIEDCODE.trim().indexOf(UNIFIEDCODE) > -1) {\r\n                count = 1;\r\n    " +
"            $(\'#gridTable\').setSelection(i + 1);\r\n                $(\'#gridTable " +
"tr\').eq(i + 1).focus();\r\n            }\r\n        });\r\n    };\r\n    //加载表格\r\n    fun" +
"ction GetGrid() {\r\n        var selectedRowIndex = 0;\r\n        var queryJson = $." +
"extend($(\"#filter-form\").getWebControls(), $(\"#DZHJManage\").getWebControls(), $(" +
"\"#GJCX\").getWebControls());\r\n        var $gridTable = $(\'#gridTable\');\r\n        " +
"$gridTable.jqGrid({\r\n            autowidth: true,\r\n            loadBeforeSend: f" +
"unction (a) {\r\n                a.setRequestHeader(\"Authorization\", authToken);\r\n" +
"            },\r\n            height: $(window).height() - 593,\r\n            url: " +
"\"../../api/TBL_ZLGC/PostPageListJson\",\r\n            datatype: \"json\",\r\n         " +
"   mtype: \'POST\',\r\n            postData: { queryJson: JSON.stringify(queryJson) " +
"},\r\n            colModel: [\r\n                { label: \'GUID\', name: \'GUID\', inde" +
"x: \'GUID\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n         " +
"       { label: \'治理工程名称\', name: \'ZLGCNAME\', index: \'ZLGCNAME\', width: 250, align" +
": \'left\', sortable: true },\r\n                { label: \'灾害点名称\', name: \'DISASTERNA" +
"ME\', index: \'DISASTERNAME\', width: 250, align: \'left\', sortable: true },\r\n      " +
"          { label: \'灾害点类型\', name: \'DISASTERTYPE\', index: \'DISASTERTYPE\', width: " +
"100, align: \'left\', sortable: true },\r\n                { label: \'项目阶段\', name: \'Z" +
"LSTATE\', index: \'ZLSTATE\', width: 150, align: \'left\', sortable: true },\r\n       " +
"         { label: \'负责单位\', name: \'XMFZDW\', index: \'XMFZDW\', width: 150, align: \'l" +
"eft\', sortable: true },\r\n                { label: \'批复资金(万元)\', name: \'XMPFZJ\', in" +
"dex: \'XMPFZJ\', width: 150, align: \'left\', sortable: true },\r\n                {\r\n" +
"                    label: \'立项时间\', name: \'XMJLXSJ\', index: \'XMJLXSJ\', width: 100" +
", align: \'left\', sortable: true,\r\n                    formatter: function (cellv" +
"alue, options, rowObject) {\r\n                        if (cellvalue) {\r\n         " +
"                   cellvalue = cellvalue.replace(\"T00:00:00\", \" \");\r\n           " +
"             } else {\r\n                            cellvalue = \"\";\r\n            " +
"            }\r\n                        return cellvalue;\r\n                    }\r" +
"\n                },\r\n\r\n                { label: \'工程地理位置\', name: \'LOCATION\', inde" +
"x: \'LOCATION\', width: 250, align: \'left\', sortable: true },\r\n                { l" +
"abel: \'灾害点编号\', name: \'UNIFIEDCODE\', index: \'UNIFIEDCODE\', width: 200, align: \'le" +
"ft\', sortable: true, hidden: true },\r\n                { label: \'经度\', name: \'LONG" +
"ITUDE\', index: \'LONGITUDE\', width: 100, align: \'left\', sortable: true, hidden: t" +
"rue, },\r\n                { label: \'纬度\', name: \'LATITUDE\', index: \'LATITUDE\', wid" +
"th: 100, align: \'left\', sortable: true, hidden: true, },\r\n            ],\r\n      " +
"      viewrecords: true,\r\n            rowNum: 30,\r\n            rowList: [30, 50," +
" 100],\r\n            pager: \"#gridPager\",\r\n            sortname: \'GUID\',\r\n       " +
"     sortorder: \'desc\',\r\n            rownumbers: true,\r\n            shrinkToFit:" +
" false,\r\n            gridview: true,\r\n            onSelectRow: function (rowId, " +
"status) {\r\n                selectedRowIndex = $(\'#\' + this.id).getGridParam(\'sel" +
"row\');\r\n                var dt = $gridTable.jqGrid(\"getRowData\", rowId);\r\n      " +
"          var data = [];\r\n                var longitude = 0, latitude = 0;\r\n    " +
"            if (dt.LONGITUDE) {\r\n                    longitude = parseFloat(dt.L" +
"ONGITUDE);\r\n                }\r\n                if (dt.LATITUDE) {\r\n             " +
"       latitude = parseFloat(dt.LATITUDE);\r\n                }\r\n                d" +
"ata.push({ longitude: longitude, latitude: latitude });\r\n                if (isM" +
"arkerClick) {\r\n                    isMarkerClick = false;\r\n                } els" +
"e {\r\n                    mapCtlExt.addLocation(data, true);\r\n                }\r\n" +
"            },\r\n            gridComplete: function () {\r\n                $(\'#\' +" +
" this.id).setSelection(selectedRowIndex, false);\r\n            }\r\n        });\r\n  " +
"  }\r\n\r\n    //加载地图marker\r\n    function BindMapMarker() {\r\n        var queryJson =" +
" $.extend($(\"#filter-form\").getWebControls(), $(\"#DZHJManage\").getWebControls()," +
" $(\"#GJCX\").getWebControls());\r\n        queryJson[\"PROVINCE\"] = PROVINCE;\r\n     " +
"   queryJson[\"CITY\"] = CITY;\r\n        queryJson[\"COUNTY\"] = COUNTY;\r\n        que" +
"ryJson[\"zhd\"] = \"zhd\";\r\n        $.ajax({\r\n            url: contentPath + \"/api/T" +
"BL_ZLGC/PostZYListJson\",\r\n            beforeSend: function (a) {\r\n              " +
"  if (authToken != null)\r\n                    a.setRequestHeader(\"Authorization\"" +
", authToken);\r\n            },\r\n            type: \"POST\",\r\n            data: { co" +
"ndition: JSON.stringify(WKTString), queryJson: JSON.stringify(queryJson) },\r\n   " +
"         async: true,\r\n            cache: false,\r\n            success: function " +
"(dataList) {\r\n                var data = eval(dataList);\r\n                var re" +
"turnValue = [];\r\n                var type = [];\r\n                for (var i = 0;" +
" i < data.length; i++) {\r\n                    //详情页面\r\n                    var di" +
"vhtml = \'<div style=\"font-weight: bold;\"></div>\';\r\n                    divhtml +" +
"= \'<div style=\"font-weight: bold;margin-bottom:5px;\"><span style=\"margin-left:10" +
"px;\">治理工程名称：</span><span>\' + data[i].ZLGCNAME + \'</span></div>\';\r\n              " +
"      divhtml += \'<div style=\"margin-bottom:5px;\"><span style=\"margin-left:10px;" +
"\">灾害点名称：</span><span>\' + data[i].DISASTERNAME + \'</span></div>\';\r\n              " +
"      divhtml += \'<div style=\"margin-bottom:5px;\"><span style=\"margin-left:10px;" +
"\">灾害点类型：</span><span>\' + data[i].DISASTERTYPE + \'</span></div>\';\r\n              " +
"      divhtml += \'<div><input type=\"hidden\" id=\"keyID\" value=\"\' + data[i].UNIFIE" +
"DCODE + \'\"/></div>\';\r\n                    divhtml += \'<div style=\"margin-bottom:" +
"5px;\"><span style=\"margin-left:10px;\">工程地理位置：</span><span>\' + data[i].LOCATION +" +
" \'</span></div>\';\r\n                    divhtml += \'<span style=\"margin-right:20p" +
"x; float:right; cursor: pointer;\"><a onclick=\"ViewZLGCDetail(\\\'\' + data[i].GUID " +
"+ \'\\\')\" href=\"#\" class=\"link-detail\">详细信息</a></span>\';\r\n\r\n\r\n                    " +
"var longitude, latitude;\r\n                    if (data[i].LONGITUDE != \'\' && dat" +
"a[i].LONGITUDE != null && data[i].LONGITUDE != undefined) {\r\n                   " +
"     longitude = parseFloat(data[i].LONGITUDE);\r\n                    }\r\n        " +
"            if (data[i].LATITUDE != \'\' && data[i].LATITUDE != null && data[i].LA" +
"TITUDE != undefined) {\r\n                        latitude = parseFloat(data[i].LA" +
"TITUDE);\r\n                    }\r\n                    returnValue.push({ id: \"all" +
"\", url: contentPath + \"/Content/images/\" + data[i].DISASTERTYPE + \"-16.png\", loc" +
"ation: [longitude, latitude], popupHtml: divhtml });\r\n\r\n                }\r\n     " +
"           mapCtlExt.addMarker(returnValue);\r\n            }, error: function (e)" +
" {\r\n            },\r\n            cache: false\r\n        });\r\n    };\r\n\r\n    //详情\r\n " +
"   function btn_message() {\r\n        var keyValue = $(\"#gridTable\").jqGridRowVal" +
"ue(\'GUID\');\r\n        if (checkedRow(keyValue)) {\r\n            ViewZLGCDetail(key" +
"Value);\r\n        }\r\n    }\r\n    //对应导出\r\n    function EXL_Export() {\r\n        //va" +
"r queryJson = $.extend($(\"#filter-form\").getWebControls(), $(\"#DZHJManage\").getW" +
"ebControls(), $(\"#GJCX\").getWebControls());\r\n        var queryJson = {};\r\n      " +
"  queryJson = $.extend(queryJson, $(\"#GJCX\").getWebControls());\r\n        queryJs" +
"on[\"NAMESS\"] = $(\"#NAMESS\").val();\r\n        queryJson[\"PROVINCE\"] = PROVINCE;\r\n " +
"       queryJson[\"CITY\"] = CITY;\r\n        queryJson[\"COUNTY\"] = COUNTY;\r\n       " +
" location.href = \"../../JXGeoManage/TBL_ZLGC_BASEINFO/ExcelZLGCDownloadExt?query" +
"Json=\" + JSON.stringify(queryJson);\r\n    }\r\n\r\n    //详情新标签栏打开方式\r\n    function Vie" +
"wZLGCDetail(keyValue) {\r\n        //getInfoTop().tablist.newTab({\r\n        //    " +
"id: \"ZLGC_Manage_Form\",\r\n        //    closed: true,\r\n        //    replace: tru" +
"e,\r\n        //    icon: \"fa fa-file-text-o\",\r\n        //    id: \'Form\',\r\n       " +
" //    title: \"治理工程详情\",\r\n        //    url: \'/JXGeoManage/TBL_ZLGC_BASEINFO/TBL_" +
"ZLGC_BASICAMANAGE?keyValue=\' + keyValue + \'&IdetIfrem=Idetnew\' + \"&readonly=01\"," +
"\r\n        //    callBack: function (iframeId) {\r\n        //        getInfoTop()." +
"frames[iframeId].AcceptClick();\r\n        //    }\r\n        //});\r\n        var url" +
" = document.location.protocol + \"//\" + document.location.host + \'/JXGeoManage/TB" +
"L_ZLGC_BASEINFO/TBL_ZLGC_BASICAMANAGE?keyValue=\' + keyValue + \'&IdetIfrem=Idetne" +
"w\' + \"&readonly=01\" + \"&details=01\" + \"&callback=\" + document.URL;\r\n        //do" +
"cument.location.href = url;\r\n        newTabs({\r\n            id: \"ZLGCXQ\",\r\n     " +
"       url: url\r\n        });\r\n    }\r\n\r\n    //列表上下点击功能\r\n    function ColDataGrid(" +
") {\r\n        var centerHeight = $(\"#layout2\").height();\r\n        var layout2 = $" +
"(\'#layout2\').layout();\r\n        if ($(\"#lr-colgrid i\").hasClass(\"fa-chevron-down" +
"\")) {\r\n            var northH = centerHeight - 80;\r\n            layout2.sizePane" +
"(\"north\", northH);\r\n            $(\"#lr-colgrid i\").removeClass(\"fa-chevron-down\"" +
");\r\n            $(\"#lr-colgrid i\").addClass(\"fa-chevron-up\");\r\n            if ($" +
"(\"#lr-colmap i\").hasClass(\"fa-chevron-down\")) {\r\n                $(\"#lr-colmap i" +
"\").removeClass(\"fa-chevron-down\");\r\n                $(\"#lr-colmap i\").addClass(\"" +
"fa-chevron-up\");\r\n            }\r\n        }\r\n        else {\r\n            layout2." +
"sizePane(\"north\", layout2NorthH);\r\n            $(\"#lr-colgrid i\").removeClass(\"f" +
"a-chevron-up\");\r\n            $(\"#lr-colgrid i\").addClass(\"fa-chevron-down\");\r\n  " +
"      }\r\n        mapCtlExt.updateSize();\r\n    }\r\n    //地图上下切换功能\r\n    function Co" +
"lMapDiv() {\r\n        var layout2 = $(\'#layout2\').layout();\r\n        if ($(\"#lr-c" +
"olmap i\").hasClass(\"fa-chevron-up\")) {\r\n            layout2.sizePane(\"north\", 1)" +
";\r\n            $(\"#lr-colmap i\").removeClass(\"fa-chevron-up\");\r\n            $(\"#" +
"lr-colmap i\").addClass(\"fa-chevron-down\");\r\n            if ($(\"#lr-colgrid i\").h" +
"asClass(\"fa-chevron-up\")) {\r\n                $(\"#lr-colgrid i\").removeClass(\"fa-" +
"chevron-up\");\r\n                $(\"#lr-colgrid i\").addClass(\"fa-chevron-down\");\r\n" +
"            }\r\n        }\r\n        else {\r\n            layout2.sizePane(\"north\", " +
"layout2NorthH);\r\n            $(\"#lr-colmap i\").removeClass(\"fa-chevron-down\");\r\n" +
"            $(\"#lr-colmap i\").addClass(\"fa-chevron-up\");\r\n            if (mapCtl" +
"Ext != null) {\r\n                mapCtlExt.setHeight($(\"#mapControl\").parent().he" +
"ight() - 32 - 4);\r\n            }\r\n        }\r\n        mapCtlExt.updateSize();\r\n  " +
"  }\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
