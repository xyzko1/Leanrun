#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_QCQF_ADMINISTRATIVE/TBL_QCQF_TJFX.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_QCQF_ADMINISTRATIVE_TBL_QCQF_TJFX_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_QCQF_ADMINISTRATIVE_TBL_QCQF_TJFX_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_QCQF_ADMINISTRATIVE\TBL_QCQF_TJFX.cshtml"
  
    ViewBag.Title = "列表页面";
    Layout = "~/Views/Shared/_Index.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\n\n\n");

DefineSection("Scripts", () => {

WriteLiteral(@"
<script>
    var layout2NorthH = 1;
    var authToken = getAuthorizationToken();
    $(function () {
        InitialPage();
        GetTree();
        GetGrid();
    });
    //初始化页面
    function InitialPage() {
        //layout布局
        $('#layout').layout({
            west__size: 160,
            applyDemoStyles: true,
            onresize: function () {
                if (isResize < 10) {
                    isResize++;
                }
                $('#gridTable').setGridWidth(($('.gridPanel').width()));
                $('#gridTable').setGridHeight($('#layout .ui-layout-center').height() - 85);
            }
        });
        var isResize = 0;
        //resize重设布局;
        $(window).resize(function (e) {
            window.setTimeout(function () {
                $(""#itemTree"").height($('.ui-layout-west').height() - 45);
            }, 200);
            e.stopPropagation();
        });
    }
    //加载行政区划树
    //  var AreaCode = 0;
    var AreaCode = """);

            
            #line 41 "..\..\Areas\JXGeoManage\Views\TBL_QCQF_ADMINISTRATIVE\TBL_QCQF_TJFX.cshtml"
               Write(Infoearth.Application.Code.OperatorProvider.Provider.Current().XZQHCode);

            
            #line default
            #line hidden
WriteLiteral("\";\n    if (AreaCode == \"000000\") {\r\n        AreaCode = \"0\";\r\n    }\n    function G" +
"etTree() {\r\n        var item = {\r\n            height: $(window).height() - 52,\n " +
"           isAllExpand: false,\n            url: \"../../Map/GetTreeJsonForMaps\",\n" +
"            onnodeclick: function (item) {\n                //console.log(item.id" +
");\n                AreaCode = item.id;\n                $(\"#gridTable\").jqGrid(\'s" +
"etGridParam\');\n                var queryJson = { AreaCode: AreaCode }\n          " +
"      $(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n                    postData: { " +
"queryJson: JSON.stringify(queryJson) },\n                    url: \"../../JXGeoMan" +
"age/TBL_QCQF_DISASTERPREVENTION/GetQCQFStatisticsNew\",\n                    page:" +
" 1\r\n                }).trigger(\'reloadGrid\');\r\n            },\r\n        }    //初始" +
"化\n        $(\"#itemTree\").treeview(item);\r\n    };\n\n    //加载统计表\n    function GetGr" +
"id() {\r\n        var data;\n        var selectedRowIndex = 0;\n        var queryJso" +
"n = { AreaCode: AreaCode }\n        var $gridTable = $(\'#gridTable\');\n        $gr" +
"idTable.jqGrid({\r\n            autowidth: true,\n            loadBeforeSend: funct" +
"ion (a) {\r\n                a.setRequestHeader(\"Authorization\", authToken);\r\n    " +
"        },\n            height: $(window).height() - 85,\n            postData: { " +
"queryJson: JSON.stringify(queryJson) },\n            url: \"../../JXGeoManage/TBL_" +
"QCQF_DISASTERPREVENTION/GetQCQFStatisticsNew\",\n            treeGrid: true,\n     " +
"       treeGridModel: \'adjacency\',\n            ExpandColume: \'parent\',\n         " +
"   datatype: \"json\",\n            colModel: [\n                {\r\n                " +
"    label: \'行政区划\', name: \'id\', index: \'id\', width: 230, align: \'left\', sortable:" +
" false,\n                    formatter: function (cellvalue, options, rowObject) " +
"{\r\n                        return rowObject.data\r\n                    }\r\n       " +
"         },\n                { label: \'行政区划\', name: \'data\', index: \'data\', width:" +
" 300, align: \'left\', sortable: false, hidden: true },\n                { label: \'" +
"行政区划编码\', name: \'code\', index: \'code\', width: 300, align: \'left\', sortable: false" +
", hidden: true },\n                { label: \'数据\', name: \'datas\', index: \'datas\', " +
"width: 300, align: \'left\', sortable: false, hidden: true },\n                { la" +
"bel: \'责任人\', name: \'MONITORRESPONSIBLE\', index: \'MONITORRESPONSIBLE\', width: 100," +
" align: \'left\', sortable: false },\n                { label: \'责任人电话\', name: \'MONI" +
"TORRESPONSIBLETEL\', index: \'MONITORRESPONSIBLETEL\', width: 100, align: \'left\', s" +
"ortable: false },\n                { label: \'群测群防人数量\', name: \'count\', index: \'cou" +
"nt\', width: 100, align: \'left\', sortable: false },\n                { label: \'群测群" +
"防点数量\', name: \'qcqfcount\', index: \'qcqfcount\', width: 100, align: \'left\', sortabl" +
"e: false },\n                {\r\n                    label: \'短信单发\', name: \'DXDF\', " +
"index: \'DXDF\', width: 100, align: \'left\', sortable: false,\n                    f" +
"ormatter: function (cellvalue, options, rowObject) {\r\n                        re" +
"turn \'<a style=\"color:#3185c7;cursor:pointer;\" onclick=\"dxfs(\\\'df\\\',\\\'\' + escape" +
"(rowObject.MONITORRESPONSIBLE) + \'\\\')\">短信单发</a>\';\r\n                    }\r\n      " +
"          },\n                {\r\n                    label: \'短信群发\', name: \'DXQF\'," +
" index: \'DXQF\', width: 100, align: \'left\', sortable: false,\n                    " +
"formatter: function (cellvalue, options, rowObject) {\r\n                        r" +
"eturn \'<a style=\"color:#3185c7;cursor:pointer;\" onclick=\"dxfs(\\\'\' + rowObject.id" +
" + \'\\\')\">短信群发</a>\';\r\n                    }\r\n                },\n            ],\n  " +
"          pager: \'false\',\n            jsonReader: {\r\n                root: \'rows" +
"Data\',\n                repeatitems: false,\r\n            },\n            treeReade" +
"r: {\r\n                level_field: \'level\',\n                parent_id_field: \'pa" +
"rent\',\n                leaf_field: \'isLeaf\',\n                expanded_field: \'ex" +
"panded\'\r\n            },\n            onSelectRow: function (rowId, status) {\n    " +
"            var thisId = rowId.slice(0, 3)+\'tableflag\';//打标记\n                $(\'" +
"#\' + this.id).setSelection(selectedRowIndex, false);\n                var ids = $" +
"gridTable.jqGrid(\'getDataIDs\');\n                var id = $gridTable.jqGrid(\'getG" +
"ridParam\', \'selrow\');\n                if (id.length == 9) {\n                    " +
"if ($(\'#\' + rowId + \'_01\').length == 0) {\n                        var removeId =" +
" [], subdatas = [[]];\n                        var subgrid_table_id = id + \"_t\";\n" +
"                        $(\'#\' + id).after(\'<tr role=\"row\" id=\"\' + rowId + \'_01\" " +
"tabindex=\"-1\" class=\"\' +thisId+\' ui-widget-content jqgrow ui-row-ltr\"><td colspa" +
"n=\"8\"  role=\"gridcell\" style=\"text-align:left;\" title=\"\' + id + \'\" aria-describe" +
"dby=\"gridTable_id\"><table id=\"\' + id + \'_t\"></table></td></tr>\')\r\n              " +
"          subgridTable(id + \"_t\", id);\n                    } else {\n            " +
"            if (!$(\'#\' + rowId + \'_01\').is(\':hidden\')) {\n                       " +
"     $(\'#\' + rowId + \'_01\').hide();\n                        } else {\n           " +
"                 $(\'#\' + rowId + \'_01\').show();\n                        }\n      " +
"              }\n                }\n            },\n            loadComplete: funct" +
"ion () {\n                $(\'#gridTable .treeclick\').click(function () {\n        " +
"            var id = $(this).parents(\'tr\').attr(\'id\').slice(0,3);\n              " +
"      $(\'.\' + id + \'tableflag\').hide();\n                })\n            },\n      " +
"      gridComplete: function () {\r\n            }\r\n        });\r\n    }\n\n    functi" +
"on subgridTable(subgrid_table_id, c) {\r\n        var queryJson = { TOWN: c };\r\n  " +
"      //$(\"#\" + subgrid_table_id).jqGrid(\'GridUnload\');\n        //if ($(\"#\" + su" +
"bgrid_table_id).length >= 1) {\r\n        //    return;\r\n        //}\n       // $(\"" +
"#gridTable\").jqGrid(\'GridUnload\');\n        $(\"#\" + subgrid_table_id).jqGrid({\r\n " +
"           loadBeforeSend: function (a) {\r\n                a.setRequestHeader(\"A" +
"uthorization\", authToken);\r\n            },\n            autowidth: true,\n        " +
"    height: \"auto\",\n            postData: { queryJson: JSON.stringify(queryJson)" +
" },\n            url: contentPath + \"/api/TBL_HAZARDBASICINFOApi/GetPageListJsonN" +
"oQCQF\",\n            datatype: \"json\",\n            colModel: [\n                {\r" +
"\n                    label: \'灾害点名称\', name: \'DISASTERNAME\', index: \'DISASTERNAME\'" +
", width: 300, align: \'left\', sortable: false\r\n                },\n               " +
" {\r\n                    label: \'灾害点类型\', name: \'DISASTERTYPE\', index: \'DISASTERTY" +
"PE\', width: 100, align: \'left\', sortable: false\r\n                },\r\n           " +
"     {\r\n                    label: \'市名称\', name: \'CITYNAME\', index: \'CITYNAME\', w" +
"idth: 200, align: \'left\', sortable: false\r\n                },\n                 {" +
"\r\n                     label: \'乡镇名称\', name: \'TOWNNAME\', index: \'TOWNNAME\', width" +
": 200, align: \'left\', sortable: false\r\n                 },\n               {\r\n   " +
"                label: \'地理位置\', name: \'LOCATION\', index: \'LOCATION\', width: 200, " +
"align: \'left\', sortable: false\r\n               },\n               {\r\n            " +
"       label: \'经度\', name: \'LONGITUDE\', index: \'LONGITUDE\', width: 200, align: \'l" +
"eft\', sortable: false\r\n               },\n               {\r\n                   la" +
"bel: \'纬度\', name: \'LATITUDE\', index: \'LATITUDE\', width: 200, align: \'left\', sorta" +
"ble: false\r\n               },\n            ],\n            viewrecords: false,\n   " +
"         rowNum: 10,\n            rowList: [10, 20, 30],\n            //pager: \"#g" +
"ridPager1\",\n            sortname: \'CITYNAME\',\n            sortorder: \'desc\',\n   " +
"         rownumbers: true,\n            shrinkToFit: false,\n            gridview:" +
" true,\n            onSelectRow: function () {\r\n                selectedRowIndex1" +
" = $(\'#\' + this.id).getGridParam(\'selrow\');\r\n            },\n            gridComp" +
"lete: function () {\r\n            }\r\n        });\r\n\r\n    }\n    function subgridTab" +
"leOld(subgrid_table_id, data) {\r\n        $(\"#\" + subgrid_table_id).jqGrid({\r\n   " +
"         autowidth: true,\n            height: \"auto\",\n            datatype: \"loc" +
"al\",\n            colModel: [\n                {\r\n                    label: \'灾害点名" +
"称\', name: \'DISASTERNAME\', index: \'DISASTERNAME\', width: 300, align: \'left\', sort" +
"able: false,\n                    formatter: function (cellvalue, options, rowObj" +
"ect) {\r\n                        var str = removeAllSpace(rowObject.data);\n      " +
"                  str = str.substring(1, str.length - 1);\n                      " +
"  cellvalue = JSON.parse(str).DISASTERNAME;\n                        return cellv" +
"alue\r\n                    }\r\n                },\n                {\r\n             " +
"       label: \'灾害点类型\', name: \'DISASTERTYPE\', index: \'DISASTERTYPE\', width: 100, " +
"align: \'left\', sortable: false,\n                    formatter: function (cellval" +
"ue, options, rowObject) {\r\n                        var str = removeAllSpace(rowO" +
"bject.data);\n                        str = str.substring(1, str.length - 1);\n   " +
"                     cellvalue = JSON.parse(str).DISASTERTYPE;\n                 " +
"       return cellvalue\r\n                    }\r\n                },\n             " +
"    {\r\n                     label: \'乡镇名称\', name: \'TOWNNAME\', index: \'TOWNNAME\', " +
"width: 200, align: \'left\', sortable: false,\n                     formatter: func" +
"tion (cellvalue, options, rowObject) {\r\n                         var str = remov" +
"eAllSpace(rowObject.data);\n                         str = str.substring(1, str.l" +
"ength - 1);\n                         cellvalue = JSON.parse(str).TOWNNAME;\n     " +
"                    return cellvalue\r\n                     }\r\n                 }" +
",\n                 {\r\n                     label: \'监测责任人\', name: \'MONITORRESPONS" +
"IBLE\', index: \'MONITORRESPONSIBLE\', width: 200, align: \'left\', sortable: false,\n" +
"                     formatter: function (cellvalue, options, rowObject) {\r\n    " +
"                     var str = removeAllSpace(rowObject.data);\n                 " +
"        str = str.substring(1, str.length - 1);\n                         cellval" +
"ue = JSON.parse(str).MONITORRESPONSIBLE;\n                         return cellval" +
"ue\r\n                     }\r\n                 },\n                 {\r\n            " +
"         label: \'监测责任人电话\', name: \'MONITORRESPONSIBLETEL\', index: \'MONITORRESPONS" +
"IBLETEL\', width: 200, align: \'left\', sortable: false,\n                     forma" +
"tter: function (cellvalue, options, rowObject) {\r\n                         var s" +
"tr = removeAllSpace(rowObject.data);\n                         str = str.substrin" +
"g(1, str.length - 1);\n                         cellvalue = JSON.parse(str).MONIT" +
"ORRESPONSIBLETEL;\n                         return cellvalue\r\n                   " +
"  }\r\n                 },\n                 {\r\n                     label: \'群测群防人\'" +
", name: \'GROUPMONITORINGSTAFF\', index: \'GROUPMONITORINGSTAFF\', width: 200, align" +
": \'left\', sortable: false,\n                     formatter: function (cellvalue, " +
"options, rowObject) {\r\n                         var str = removeAllSpace(rowObje" +
"ct.data);\n                         str = str.substring(1, str.length - 1);\n     " +
"                    cellvalue = JSON.parse(str).LOCATION;\n                      " +
"   return cellvalue\r\n                     }\r\n                 },\n               " +
"  {\r\n                     label: \'群测群防人电话\', name: \'GROUPMONITORINGSTAFFTEL\', ind" +
"ex: \'GROUPMONITORINGSTAFFTEL\', width: 200, align: \'left\', sortable: false,\n     " +
"                formatter: function (cellvalue, options, rowObject) {\r\n         " +
"                var str = removeAllSpace(rowObject.data);\n                      " +
"   str = str.substring(1, str.length - 1);\n                         cellvalue = " +
"JSON.parse(str).LOCATION;\n                         return cellvalue\r\n           " +
"          }\r\n                 },\n                //{\n                //    label" +
": \'地理位置\', name: \'LOCATION\', index: \'LOCATION\', width: 200, align: \'left\', sortab" +
"le: false,\n                //    formatter: function (cellvalue, options, rowObj" +
"ect) {\n                //        var str = removeAllSpace(rowObject.data);\n     " +
"           //        str = str.substring(1, str.length - 1);\n                // " +
"       cellvalue = JSON.parse(str).LOCATION;\n                //        return ce" +
"llvalue\n                //    }\n                //},\n                //{\n       " +
"         //    label: \'经度\', name: \'LONGITUDE\', index: \'LONGITUDE\', width: 150, a" +
"lign: \'left\', sortable: false,\n                //    formatter: function (cellva" +
"lue, options, rowObject) {\n                //        var str = removeAllSpace(ro" +
"wObject.data);\n                //        str = str.substring(1, str.length - 1);" +
"\n                //        cellvalue = JSON.parse(str).LONGITUDE;\n              " +
"  //        return cellvalue\n                //    }\n                //},\n      " +
"          //{\n                //    label: \'纬度\', name: \'LATITUDE\', index: \'LATIT" +
"UDE\', width: 150, align: \'left\', sortable: false,\n                //    formatte" +
"r: function (cellvalue, options, rowObject) {\n                //        var str " +
"= removeAllSpace(rowObject.data);\n                //        str = str.substring(" +
"1, str.length - 1);\n                //        cellvalue = JSON.parse(str).LATITU" +
"DE;\n                //        return cellvalue\n                //    }\n         " +
"       //},\n                //{\n                //    label: \'短信发送\', name: \'DXFS" +
"\', index: \'DXFS\', width: 100, align: \'left\', sortable: false,\n                //" +
"    formatter: function (cellvalue, options, rowObject) {\n                //    " +
"    return \'<a style=\"color:#3185c7;cursor:pointer;\" onclick=\"dxfs(\\\'df\\\',\\\'\' + " +
"escape(rowObject.UsreInfo) + \'\\\')\">短信发送</a>\'\n                //    }\n           " +
"     //},\n            ],\n            pager: \'false\',\n            onSelectRow: fu" +
"nction (rowId, status) {\r\n            },\n            gridComplete: function () {" +
"\n                //$(\'#\' + this.id).setSelection(selectedRowIndex, false);\n     " +
"           //var data = $gridTable.getRowData();\n            }\r\n        });\n\n   " +
"     $(\"#\" + subgrid_table_id).jqGrid(\'setGridParam\', {\r\n            data: data\r" +
"\n        }).trigger(\'reloadGrid\');\r\n    }\n    function removeAllSpace(str) {\r\n  " +
"      return str.replace(/\\s+/g, \"\");\r\n    }\n    //责任人info\n    function zrrInfo(" +
"userinfo) {\r\n        dialogOpen({\r\n            id: \'zrrInfoForm\',\n            ti" +
"tle: \'责任人详情\',\n            url: \'../../JXGeoManage/TBL_QCQF_ADMINISTRATIVE/TBL_QC" +
"QF_ZRRINFOFrom?userinfo=\' + userinfo,\n            width: \'400px\',\n            he" +
"ight: \'300px\',\n            btn: null,\n            callBack: function (iframeId) " +
"{\r\n                var data = getInfoTop().frames[iframeId].AcceptClick();\r\n    " +
"        }\r\n        });\r\n    }\n    //短信单发，短信群发\n    function dxfs(typeorcode, user" +
"info) {\r\n        var url, title;\n        if (typeorcode == \'df\') {\r\n            " +
"title = \"短信单发\";\n            url = \"../../JXGeoManage/TBL_QCQF_ADMINISTRATIVE/TBL" +
"_QCQF_LXRFrom?userinfo=\" + userinfo;\r\n        } else {\r\n            title = \"短信群" +
"发\";\n            url = \"../../JXGeoManage/TBL_QCQF_ADMINISTRATIVE/TBL_QCQF_LXRFro" +
"m?typeorcode=\" + typeorcode + \"&userinfo=qf\";\r\n        }\n        dialogOpen({\r\n " +
"           id: \'dxfsForm\',\n            title: title,\n            url: url,\n     " +
"       width: \'900px\',\n            height: \"800px\",\n            btn: [\'发送\', \'取消\'" +
"],\n            callBack: function (iframeId) {\r\n                var data = getIn" +
"foTop().frames[iframeId].AcceptClick();\r\n            }\r\n        });\r\n    }\n</scr" +
"ipt>\n");

});

WriteLiteral(@"<style>
    html, body {
        height: 100%;
    }

    .fa-folder-open {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px -16px;
        margin-right: 2px;
        width: 16px !important;
        height: 16px !important;
    }

    .fa-folder {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px 0;
        margin-right: 2px;
        width: 16px !important;
        height: 16px !important;
    }

    .fa-file-o {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px -32px;
        width: 16px !important;
        height: 16px !important;
    }

    .ui-state-highlight, .ui-widget-content .ui-state-highlight, .ui-widget-header .ui-state-highlight a {
        color: #fff !important;
    }

        .ui-state-highlight a, .ui-widget-content .ui-state-highlight a {
            color: #fff !important;
        }
</style>
<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\n    <div");

WriteLiteral(" class=\"ui-layout-west\"");

WriteLiteral(" style=\"height:100%;\"");

WriteLiteral(">\n        <div");

WriteLiteral(" class=\"west-Panel\"");

WriteLiteral(" style=\"margin:0px;height:100%\"");

WriteLiteral(";>\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(" style=\"height:40px;line-height:40px;background-color: rgba(236, 247, 255, 1);col" +
"or:#000\"");

WriteLiteral(">行政区划</div>\n            <div");

WriteLiteral(" id=\"itemTree\"");

WriteLiteral("></div>\n        </div>\n    </div>\n    <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_center\"");

WriteLiteral(">\n        <div");

WriteLiteral(" class=\"center-Panel\"");

WriteLiteral(" style=\"height: 100%;width:100%;margin-top:0px;\"");

WriteLiteral(">\n            <div");

WriteLiteral(" id=\"DZHJManage\"");

WriteLiteral(" class=\"\"");

WriteLiteral(" style=\"width: 100%;background: #fff; padding: 0\"");

WriteLiteral(">\n                <div");

WriteLiteral(" style=\"width: 100%; height: 40px; background: rgba(236, 247, 255, 1); display: f" +
"lex; align-items: center; justify-content: start; padding-left: 9px\"");

WriteLiteral(">\n                    <div");

WriteLiteral(" style=\"width: 7%;font-weight: 900;min-width:80px;white-space:nowrap;\"");

WriteLiteral(">\n                        <i");

WriteLiteral(" class=\"fa fa-bars\"");

WriteLiteral(" style=\"margin: 0 5px;font-weight:900\"");

WriteLiteral("></i><span>群测群防统计分析</span>\n                    </div>\n                </div>\n    " +
"            <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\n                    <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\n                </div>\n            </div>\n        </div>\n    </div>\n</d" +
"iv>");

        }
    }
}
#pragma warning restore 1591
