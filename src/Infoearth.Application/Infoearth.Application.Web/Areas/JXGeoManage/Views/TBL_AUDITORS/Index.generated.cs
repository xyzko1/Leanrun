#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_AUDITORS/Index.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_AUDITORS_Index_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_AUDITORS_Index_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_AUDITORS\Index.cshtml"
  
    ViewBag.Title = "审核人管理";
    Layout = "~/Views/Shared/_IndexMap.cshtml";

            
            #line default
            #line hidden
WriteLiteral(@"
<style>
    .ui-layout .west-Panel,
    .ui-layout .center-Panel {
        margin: 0;
    }

    .fa-folder-open {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px -16px;
        margin-right: 2px;
        width: 16px !important;
        height: 16px !important;
    }

    .fa-folder {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px 0;
        margin-right: 2px;
        width: 16px !important;
        height: 16px !important;
    }

    .fa-file-o {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px -32px;
        width: 16px !important;
        height: 16px !important;
    }

    .ui-layout-pane-west {
        overflow: initial!important;
    }

    .ui-layout-center {
        overflow: initial!important;
    }
</style>
<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"ui-layout-west\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"west-Panel\"");

WriteLiteral(" style=\"height: 100%\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(" style=\"height: 40px; line-height: 40px; background-color: rgba(236, 247, 255, 1)" +
"; color: #000\"");

WriteLiteral(">目录信息</div>\r\n            <div");

WriteLiteral(" id=\"itemTree\"");

WriteLiteral(" style=\"height: calc(100% - 50px)\"");

WriteLiteral("></div>\r\n        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"center-Panel\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(" style=\"height: 40px; line-height: 40px; background-color: rgba(236, 247, 255, 1)" +
"; color: #000\"");

WriteLiteral(">审核人信息</div>\r\n            <div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" id=\"filter-form\"");

WriteLiteral(">\r\n                    <table>\r\n                        <tr>\r\n                   " +
"         <td>\r\n                                <input");

WriteLiteral(" id=\"txt_Keyword\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入要查询审核人\"");

WriteLiteral(" style=\"width: 200px;\"");

WriteLiteral(" />\r\n                            </td>\r\n                            <td");

WriteLiteral(" style=\"padding-left: 5px;\"");

WriteLiteral(">\r\n                                <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>&nbsp;查询</a>\r\n                            </td>\r\n                        </t" +
"r>\r\n                    </table>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"toolbar\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                        <a");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"Btnstart();\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-refresh\"");

WriteLiteral("></i>&nbsp;开启审核</a>\r\n                        <a");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"Btnclose()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-plus\"");

WriteLiteral("></i>&nbsp;关闭审核</a>\r\n                    </div>\r\n                    <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                        <a");

WriteLiteral(" id=\"lr-replace\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"learun.reload();\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-refresh\"");

WriteLiteral("></i>&nbsp;刷新</a>\r\n                        <a");

WriteLiteral(" id=\"lr-add\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_add()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-plus\"");

WriteLiteral("></i>&nbsp;新增</a>\r\n                        <a");

WriteLiteral(" id=\"lr-edit\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_edit()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>&nbsp;编辑</a>\r\n                        <a");

WriteLiteral(" id=\"lr-delete\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_delete()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-trash-o\"");

WriteLiteral("></i>&nbsp;删除</a>\r\n                    </div>\r\n                </div>\r\n          " +
"      <div");

WriteLiteral(" style=\"clear: both\"");

WriteLiteral("></div>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script>\r\n    var authToken = getAuthorizationToken();\r\n    var AreaCode = Defa" +
"lutCode;\r\n    var selectedRowIndex = 0;\r\n    $(function () {\r\n        InitialPag" +
"e();\r\n        GetTree();\r\n        GetGrid();\r\n    });\r\n    //初始化页面\r\n    function" +
" InitialPage() {\r\n        //layout布局\r\n        $(\'#layout\').layout({\r\n           " +
" west__size: 190,\r\n            applyDemoStyles: true,\r\n            onresize: fun" +
"ction () {\r\n                $(window).resize();\r\n            }\r\n        });\r\n   " +
"     //resize重设(表格、树形)宽高\r\n        $(window).resize(function (e) {\r\n            w" +
"indow.setTimeout(function () {\r\n                $(\'#gridTable\').setGridWidth($(\'" +
".gridPanel\').width());\r\n                $(\"#gridTable\").setGridHeight($(window)." +
"height() - 175);\r\n            }, 200);\r\n            e.stopPropagation();\r\n      " +
"  });\r\n    };\r\n    //加载树\r\n    function GetTree() {\r\n        var item = {\r\n      " +
"      isAllExpand: false,\r\n            url: \"../../Map/GetTreeJsonForMap\",\r\n    " +
"        onnodeclick: function (item) {\r\n                AreaCode = item.id;\r\n   " +
"             if (item.value.split(\',\')[1] < 3) {\r\n                    //展开下级\r\n  " +
"                  $(\".bbit-tree-selected\").children(\'.bbit-tree-ec-icon\').trigge" +
"r(\"click\");\r\n                }\r\n                $(\'#btn_Search\').trigger(\"click\"" +
");\r\n            },\r\n        };\r\n        //初始化\r\n        $(\"#itemTree\").treeview(i" +
"tem);\r\n    };\r\n\r\n    var guids = \"\";\r\n    //加载表格\r\n    function GetGrid() {\r\n\r\n  " +
"      var $gridTable = $(\"#gridTable\");\r\n        var queryJson = $(\"#filter-form" +
"\").getWebControls();\r\n        queryJson[\"AreaCode\"] = AreaCode;\r\n        $gridTa" +
"ble.jqGrid({\r\n            url: \"../../api/TBL_AUDITORSApi/GetPageListJson\",\r\n   " +
"         datatype: \"json\",\r\n            height: $(window).height() - 175,\r\n     " +
"       postData: { queryJson: JSON.stringify(queryJson) },\r\n            autowidt" +
"h: true,\r\n            loadBeforeSend: function (a) {\r\n                if (authTo" +
"ken != null)\r\n                    a.setRequestHeader(\"Authorization\", authToken)" +
";\r\n            },\r\n            colModel: [\r\n                { label: \'GUID\', nam" +
"e: \'GUID\', index: \'GUID\', width: 100, align: \'left\', sortable: true, hidden: tru" +
"e },\r\n                { label: \'行政区划编码\', name: \'DISTRICTCODE\', index: \'DISTRICTC" +
"ODE\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n              " +
"  { label: \'省\', name: \'PROVINCE\', index: \'PROVINCE\', width: 120, align: \'left\', " +
"sortable: true },\r\n                { label: \'市\', name: \'CITY\', index: \'CITY\', wi" +
"dth: 120, align: \'left\', sortable: true },\r\n                { label: \'县\', name: " +
"\'COUNTY\', index: \'COUNTY\', width: 120, align: \'left\', sortable: true },\r\n       " +
"         { label: \'乡镇\', name: \'TOWN\', index: \'TOWN\', width: 150, align: \'left\', " +
"sortable: true, hidden: true },\r\n                { label: \'审核人\', name: \'NAME\', i" +
"ndex: \'NAME\', width: 100, align: \'left\', sortable: true },\r\n                { la" +
"bel: \'登录名\', name: \'LOGINNAME\', index: \'LOGINNAME\', width: 100, align: \'left\', so" +
"rtable: true },\r\n                {\r\n                    label: \'业务类型\', name: \'BU" +
"SSNESSTYPE\', index: \'BUSSNESSTYPE\', width: 150, align: \'left\', sortable: true,\r\n" +
"                    formatter: \"select\", editoptions: { value: \"A:地灾调查;B:月报审核\" }" +
"\r\n                },\r\n                {\r\n                    label: \"有效\", name: " +
"\"ISAUDIT\", index: \"ISAUDIT\", width: 50, align: \"center\",\r\n                    fo" +
"rmatter: function (cellvalue, options, rowObject) {\r\n                        if " +
"(cellvalue == 0) {\r\n                            return \'<span onclick=\\\"btn_disa" +
"bled(\\\'\' + rowObject.GUID + \'\\\')\\\" class=\\\"label label-success\\\" style=\\\"cursor:" +
" pointer;\\\">有效</span>\';\r\n                        } else if (cellvalue == 1) {\r\n " +
"                           return \'<span onclick=\\\"btn_enabled(\\\'\' + rowObject.G" +
"UID + \'\\\')\\\" class=\\\"label label-default\\\" style=\\\"cursor: pointer;\\\">无效</span>\'" +
";\r\n                        } else if (cellvalue == null) {\r\n                    " +
"        return \'<span class=\\\"label label-default\\\"></span>\';\r\n                 " +
"       }\r\n                    }\r\n                }\r\n            ],\r\n            " +
"viewrecords: true,\r\n            multiselect: true,\r\n            rowNum: 30,\r\n   " +
"         rowList: [30, 50, 100],\r\n            pager: \"#gridPager\",\r\n            " +
"sortname: \'PROVINCE\',\r\n            sortorder: \'desc\',\r\n            rownumbers: t" +
"rue,\r\n            shrinkToFit: true,\r\n            gridview: true,\r\n            o" +
"nSelectRow: function (rowId, status) {\r\n                selectedRowIndex = $(\"#\"" +
" + this.id).getGridParam(\'selrow\');\r\n                if (status == true) {\r\n    " +
"                var id = $(\"#gridTable\").jqGrid(\"getRowData\", selectedRowIndex)." +
"GUID;\r\n                    guids += \"\'\" + id + \"\',\";\r\n                } else if " +
"(status == false) {\r\n                    var idd = $(\"#gridTable\").jqGrid(\"getRo" +
"wData\", selectedRowIndex).GUID;\r\n                    guids = guids.replace(\"\'\" +" +
" idd + \"\',\", \"\");\r\n                }\r\n            },\r\n            onSelectAll: f" +
"unction (rowids, status) {\r\n                var ids = $(\'#gridTable\').jqGrid(\'ge" +
"tGridParam\', \'selarrrow\');\r\n                if (status == true) {\r\n             " +
"       for (var i = 0; i < ids.length; i++) {\r\n                        var idd =" +
" $(\"#gridTable\").jqGrid(\"getRowData\", ids[i]).GUID;\r\n                        gui" +
"ds += \"\'\" + idd + \"\',\";\r\n                    }\r\n                }else if (status" +
" == false) {\r\n                    guids = \"\";\r\n                }\r\n\r\n            " +
"},\r\n            gridComplete: function () {\r\n                //$(\"#\" + this.id)." +
"setSelection(selectedRowIndex, false);\r\n                guids = \"\";\r\n           " +
" }\r\n        });\r\n        //查询事件\r\n        $(\"#btn_Search\").click(function () {\r\n " +
"           var queryJson = $(\"#filter-form\").getWebControls();\r\n            quer" +
"yJson[\"AreaCode\"] = AreaCode;\r\n            $gridTable.jqGrid(\'setGridParam\', {\r\n" +
"                postData: { queryJson: JSON.stringify(queryJson) },\r\n           " +
"     loadBeforeSend: function (a) {\r\n                    if (authToken != null)\r" +
"\n                        a.setRequestHeader(\"Authorization\", authToken);\r\n      " +
"          },\r\n            }).trigger(\'reloadGrid\');\r\n        });\r\n    };\r\n\r\n\r\n  " +
"  //禁用\r\n    function btn_disabled(keyValue) {\r\n        if (keyValue == undefined" +
") {\r\n            //keyValue = $(\"#gridTable\").jqGridRowValue(\"GUID\");\r\n         " +
"   keyValue = $(\"#gridTable\").jqGrid(\"getRowData\", selectedRowIndex).GUID;\r\n    " +
"    }\r\n        if (checkedRow(keyValue)) {\r\n            $.ConfirmAjax({\r\n       " +
"         msg: \"注：您确定要【关闭】审核？\",\r\n                url: \"../../api/TBL_AUDITORSApi/" +
"DisabledAudit\",\r\n                param: { keyValue: keyValue },\r\n               " +
" authToken: authToken,\r\n                success: function (data) {\r\n            " +
"        $(\"#gridTable\").trigger(\"reloadGrid\");\r\n                }\r\n            }" +
")\r\n        }\r\n    }\r\n    //启用\r\n    function btn_enabled(keyValue) {\r\n        if " +
"(keyValue == undefined) {\r\n            keyValue = $(\"#gridTable\").jqGrid(\"getRow" +
"Data\", selectedRowIndex).GUID;\r\n        }\r\n        if (checkedRow(keyValue)) {\r\n" +
"            $.ConfirmAjax({\r\n                msg: \"注：您确定要【开启】审核？\",\r\n            " +
"    url: \"../../api/TBL_AUDITORSApi/EnabledAudit\",\r\n                authToken: a" +
"uthToken,\r\n                param: { keyValue: keyValue },\r\n                succe" +
"ss: function (data) {\r\n                    $(\"#gridTable\").trigger(\"reloadGrid\")" +
";\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    //新增\r\n    function" +
" btn_add() {\r\n        var AreaId = AreaCode;\r\n        learun.dialogOpen({\r\n     " +
"       id: \"Form\",\r\n            title: \'添加审核人\',\r\n            url: \'../../JXGeoMa" +
"nage/TBL_AUDITORS/Form?parentId=\' + AreaId,\r\n            width: \"700px\",\r\n      " +
"      height: \"510px\",\r\n            callBack: function (iframeId) {\r\n           " +
"     getInfoTop().frames[iframeId].AcceptClick();\r\n            }\r\n        });\r\n " +
"   };\r\n    //编辑\r\n    function btn_edit() {\r\n        var keyValue = $(\"#gridTable" +
"\").jqGridRowValue(\"GUID\");\r\n        if (learun.checkedRow(keyValue)) {\r\n        " +
"    learun.dialogOpen({\r\n                id: \"Form\",\r\n                title: \'编辑" +
"审核人\',\r\n                url: \'../../JXGeoManage/TBL_AUDITORS/Form?keyValue=\' + ke" +
"yValue,\r\n                width: \"700px\",\r\n                height: \"510px\",\r\n    " +
"            callBack: function (iframeId) {\r\n                    getInfoTop().fr" +
"ames[iframeId].AcceptClick();\r\n                }\r\n            });\r\n        }\r\n  " +
"  };\r\n    //删除\r\n    function btn_delete() {\r\n        if (guids) {\r\n            i" +
"f (guids.charAt(guids.length - 1) == \",\") {\r\n                guids = guids.subst" +
"ring(0, guids.length - 1);\r\n            }\r\n            learun.removeForm({\r\n    " +
"            // url: \"../../api/TBL_AUDITORSApi/RemoveForm\",\r\n                url" +
": \"../../api/TBL_AUDITORSApi/deleteNew?GUIDS=\" + guids,\r\n                authTok" +
"en: authToken,\r\n                success: function (data) {\r\n                    " +
"$(\"#gridTable\").trigger(\"reloadGrid\");\r\n                }\r\n            });\r\n    " +
"    } else {\r\n            learun.dialogMsg({ msg: \'请选择需要删除的审核人！\', type: 0 });\r\n " +
"       }\r\n    };\r\n    function Btnclose() {\r\n        if (guids) {\r\n            i" +
"f (guids.charAt(guids.length - 1) == \",\") {\r\n                guids = guids.subst" +
"ring(0, guids.length - 1);\r\n            }\r\n            $.ConfirmAjax({\r\n        " +
"        msg: \"注：您确定要【关闭】审核？\",\r\n                url: \"../../api/TBL_AUDITORSApi/S" +
"aveFormNew?STATE=1&GUIDS=\" + guids,\r\n                authToken: authToken,\r\n    " +
"            success: function (data) {\r\n                    $(\"#gridTable\").trig" +
"ger(\"reloadGrid\");\r\n                }\r\n            })\r\n        }\r\n    }\r\n    fun" +
"ction Btnstart() {\r\n        if (guids) {\r\n            if (guids.charAt(guids.len" +
"gth - 1) == \",\") {\r\n                guids = guids.substring(0, guids.length - 1)" +
";\r\n            }\r\n            $.ConfirmAjax({\r\n                msg: \"注：您确定要【开启】审" +
"核？\",\r\n                url: \"../../api/TBL_AUDITORSApi/SaveFormNew?STATE=0&GUIDS=" +
"\" + guids,\r\n                authToken: authToken,\r\n                success: func" +
"tion (data) {\r\n                    $(\"#gridTable\").trigger(\"reloadGrid\");\r\n     " +
"           }\r\n            })\r\n        }\r\n    }\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
