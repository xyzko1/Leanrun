#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_AUDITORS/Form.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_AUDITORS_Form_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_AUDITORS_Form_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_AUDITORS\Form.cshtml"
  
    ViewBag.Title = "审核人管理";
    Layout = "~/Views/Shared/_Form.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<style>\r\n    #DISTRICTCODE > div > span {\r\n        padding: 0 0 0 5px !importan" +
"t;\r\n    }\r\n</style>\r\n<style>\r\n    body {\r\n        overflow:hidden;\r\n    }\r\n</sty" +
"le>\r\n<div");

WriteLiteral(" style=\"margin-top: 20px; margin-right: 30px;\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" class=\"form\"");

WriteLiteral(">\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">行政区划<font");

WriteLiteral(" face=\"宋体\"");

WriteLiteral(">*</font></td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"DISTRICTCODE\"");

WriteLiteral("></div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">审核人<font");

WriteLiteral(" face=\"宋体\"");

WriteLiteral(">*</font></td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"NAME\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" readonly=\"readonly\"");

WriteLiteral(" onclick=\"SelectUser()\"");

WriteLiteral(" placeholder=\"请输入名称\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" checkexpession=\"NotNull\"");

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">登录名<font");

WriteLiteral(" face=\"宋体\"");

WriteLiteral(">*</font></td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"LOGINNAME\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" checkexpession=\"NotNull\"");

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">业务类型<font");

WriteLiteral(" face=\"宋体\"");

WriteLiteral(">*</font></td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"BUSSNESSTYPE\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" checkexpession=\"NotNull\"");

WriteLiteral("></div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">是否有效<font");

WriteLiteral(" face=\"宋体\"");

WriteLiteral(">*</font></td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"ISAUDIT\"");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" style=\"height:20px;width:9%;\"");

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 1696), Tuple.Create("\"", 1750)
, Tuple.Create(Tuple.Create("", 1702), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/districts/districts.js")
, 1702), false)
);

WriteLiteral("></script>\r\n<script>\r\n    var keyValue = learun.request(\'keyValue\');\r\n    var par" +
"entId = learun.request(\'parentId\');\r\n    var authToken = getAuthorizationToken()" +
";\r\n    var provinceId = \"\", cityId = \"\", countyId = \"\";\r\n    var usercode = \"");

            
            #line 57 "..\..\Areas\JXGeoManage\Views\TBL_AUDITORS\Form.cshtml"
               Write(Infoearth.Application.Code.OperatorProvider.Provider.Current().XZQHCode);

            
            #line default
            #line hidden
WriteLiteral("\";\r\n    $(function () {\r\n        initControl();\r\n    })\r\n    //初始化控件\r\n    functio" +
"n initControl() {\r\n        if (parentId.length == 6) {\r\n            if (parentId" +
".substr(2, 4) == \"0000\") {\r\n                provinceId = parentId;\r\n            " +
"} else if (parentId.substr(4, 2) == \"00\") {\r\n                provinceId = parent" +
"Id.substr(0, 2) + \"0000\";\r\n                cityId= parentId.substr(0, 4) + \"00\";" +
"\r\n            } else {\r\n                provinceId = parentId.substr(0, 2) + \"00" +
"00\";\r\n                cityId = parentId.substr(0, 4) + \"00\";\r\n                co" +
"untyId = parentId;\r\n            }\r\n        } else {\r\n            if (usercode.le" +
"ngth == 6 && usercode != \"000000\") {\r\n                if (usercode.substr(2, 4) " +
"== \"0000\") {\r\n                    provinceId = usercode;\r\n                } else" +
" if (usercode.substr(2, 4) == \"00\") {\r\n                    provinceId = usercode" +
".substr(0, 2) + \"0000\";\r\n                    cityId = usercode.substr(0, 4) + \"0" +
"0\";\r\n                } else {\r\n                    provinceId = usercode.substr(" +
"0, 2) + \"0000\";\r\n                    cityId = usercode.substr(0, 4) + \"00\";\r\n   " +
"                 countyId = usercode;\r\n                }\r\n            }\r\n       " +
" }\r\n        \r\n        $(\'#DISTRICTCODE\').districtsCtl({\r\n            type: \'T\',\r" +
"\n            provinceId: provinceId,\r\n            selectProviceId: provinceId,//" +
"默认选中的省\r\n            selectCityId: cityId,//默认选中的市\r\n            selectCounty: cou" +
"ntyId,//默认选中的区县\r\n            cityId: cityId,\r\n            countyId: countyId\r\n  " +
"      });\r\n        \r\n        $(\"#BUSSNESSTYPE\").ComboBox({\r\n            url: \".." +
"/../SystemManage/DataItemDetail/GetDataItemTreeJson?EnCode=AuditBusType\",\r\n     " +
"       id: \"value\",\r\n            text: \"text\",\r\n            height: \'200px\'\r\n   " +
"     });\r\n\r\n        //获取表单\r\n        if (!!keyValue) {\r\n            $.SetForm({\r\n" +
"                url: \"../../api/TBL_AUDITORSApi/GetFormJson\",\r\n                p" +
"aram: { keyValue: keyValue },\r\n                authToken: authToken,\r\n          " +
"      success: function (data) {\r\n                    $(\"#form1\").setWebControls" +
"(data);\r\n                    if (data.ISAUDIT == \"0\")\r\n                        $" +
"(\'#ISAUDIT\')[0].checked = true;\r\n                    else {\r\n                   " +
"     $(\'#ISAUDIT\')[0].checked = false;\r\n                    }\r\n                 " +
"   $(\'#DISTRICTCODE\').setDistrictCode(data.DISTRICTCODE);\r\n                }\r\n  " +
"          });\r\n        } \r\n            \r\n    }\r\n\r\n\r\n    //保存表单\r\n    function Acc" +
"eptClick() {\r\n        if (!$(\'#form1\').Validform()) {\r\n            return false;" +
"\r\n        }\r\n        var reg = /[\\u4e00-\\u9fa5]/g;\r\n        var postData = $(\"#f" +
"orm1\").getWebControls(keyValue);\r\n        var bb = $(\"#DISTRICTCODE\").getDistric" +
"tValue();\r\n        var AreaCode = 0;\r\n        //乡镇\r\n        if (bb.townId != \"\" " +
"&& bb.townId != undefined) {\r\n            AreaCode = bb.townId;\r\n            pos" +
"tData[\"PROVINCE\"] = bb.provinceName.match(reg).join(\"\");\r\n            postData[\"" +
"CITY\"] = bb.cityName.match(reg).join(\"\");\r\n            postData[\"COUNTY\"] = bb.c" +
"ountyName.match(reg).join(\"\");\r\n            postData[\"TOWN\"] = bb.townName.match" +
"(reg).join(\"\");\r\n        }\r\n        else if (bb.countyName != \"\" && bb.countyNam" +
"e != undefined) {\r\n            AreaCode = bb.countyId\r\n            postData[\"PRO" +
"VINCE\"] = bb.provinceName.match(reg).join(\"\");\r\n            postData[\"CITY\"] = b" +
"b.cityName.match(reg).join(\"\");\r\n            postData[\"COUNTY\"] = bb.countyName." +
"match(reg).join(\"\");\r\n        } else if (bb.cityId != \"\" && bb.cityId != undefin" +
"ed) {\r\n            AreaCode = bb.cityId\r\n            postData[\"PROVINCE\"] = bb.p" +
"rovinceName.match(reg).join(\"\");\r\n            postData[\"CITY\"] = bb.cityName.mat" +
"ch(reg).join(\"\");\r\n        } else if (bb.provinceId != \"\" && bb.provinceId != un" +
"defined) {\r\n            AreaCode = bb.provinceId\r\n            postData[\"PROVINCE" +
"\"] = bb.provinceName.match(reg).join(\"\");\r\n        }\r\n        postData[\"DISTRICT" +
"CODE\"] = AreaCode;\r\n        //postData[\"ISAUDIT\"] = \"0\"; //默认开启审核\r\n        if ($" +
"(\'#ISAUDIT\')[0].checked == true)\r\n            postData.ISAUDIT = \"0\";\r\n        e" +
"lse\r\n            postData.ISAUDIT = \"1\";\r\n        learun.saveForm({\r\n           " +
" url: \"../../api/TBL_AUDITORSApi/SaveForm?keyValue=\" + keyValue,\r\n            pa" +
"ram: postData,\r\n            authToken: authToken,\r\n            loading: \"正在保存数据." +
"..\",\r\n            success: function () {\r\n                try {\r\n               " +
"     getInfoTop().learun.currentIframe().$(\"#gridTable\").trigger(\"reloadGrid\");\r" +
"\n                } catch (e) {\r\n                    window.parent.$(\"#gridTable\"" +
").trigger(\"reloadGrid\");\r\n                }\r\n            }\r\n        })\r\n    }\r\n " +
"   var pcode = \"\";\r\n    function SelectUser() {\r\n        var bcode = $(\"#DISTRIC" +
"TCODE\").getDistrictValue();\r\n        var AreaCode = 0;\r\n        //乡镇\r\n        if" +
" (bcode.townId != \"\" && bcode.townId != undefined) {\r\n            pcode = bcode." +
"townId;\r\n        }\r\n        else if (bcode.countyName != \"\" && bcode.countyName " +
"!= undefined) {\r\n            pcode = bcode.countyId\r\n        } else if (bcode.ci" +
"tyId != \"\" && bcode.cityId != undefined) {\r\n            pcode = bcode.cityId\r\n  " +
"      } else if (bcode.provinceId != \"\" && bcode.provinceId != undefined) {\r\n   " +
"         pcode = bcode.provinceId\r\n        }\r\n        dialogOpen({\r\n            " +
"id: \'ContactPersonForm\',\r\n            title: \'选择审核人\',\r\n            url: \'../../C" +
"ontactPerson/ContactPersonForm?AreaId=\' + pcode,\r\n            width: \'800px\',\r\n " +
"           height: \'500px\',\r\n            callBack: function (iframeId) {\r\n      " +
"          var data = getInfoTop().frames[iframeId].AcceptClick();\r\n             " +
"   if (data) {\r\n                    var webData = {};\r\n                    webDa" +
"ta[\"NAME\"] = data[\"UserName\"];\r\n                    webData[\"LOGINNAME\"] = data[" +
"\"LoginName\"];\r\n                    $(\"#form1\").SetWebControls(webData);\r\n       " +
"         }\r\n            }\r\n        });\r\n    }\r\n\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
