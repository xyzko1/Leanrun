#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_AUDITINFO/TBL_AUDITINFOSubmitIndex.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_AUDITINFO_TBL_AUDITINFOSubmitIndex_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_AUDITINFO_TBL_AUDITINFOSubmitIndex_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_AUDITINFO\TBL_AUDITINFOSubmitIndex.cshtml"
  
    ViewBag.Title = "提交审核页面";
    Layout = "~/Views/Shared/_Index.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<div");

WriteLiteral(" id=\"DZHJManage\"");

WriteLiteral(" style=\"width:100%;height:45px;background:#fff\"");

WriteLiteral(">\r\n    <ul");

WriteLiteral(" class=\"nav nav-tabs\"");

WriteLiteral(">\r\n        <li");

WriteLiteral(" class=\"active\"");

WriteLiteral(" id=\"li_HPGL\"");

WriteLiteral("><a");

WriteLiteral(" href=\"#HPGL\"");

WriteLiteral(" data-toggle=\"tab\"");

WriteLiteral(">待提交</a></li>\r\n        <li");

WriteLiteral(" id=\"li_BTGL\"");

WriteLiteral("><a");

WriteLiteral(" href=\"#BTGL\"");

WriteLiteral(" data-toggle=\"tab\"");

WriteLiteral(">提交历史</a></li>\r\n    </ul>\r\n    <div");

WriteLiteral(" id=\"myTabContent\"");

WriteLiteral(" class=\"tab-content\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"tab-pane fade in active\"");

WriteLiteral(" id=\"HPGL\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" style=\"width:100%;height:80px;\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" style=\"width:100%;height:40px;display:flex;align-items: center;justify-content: " +
"flex-start;\"");

WriteLiteral(">\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">关键字:</span><input");

WriteLiteral(" id=\"txt_Keyword1\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入要查询关键字\"");

WriteLiteral(" style=\"width: 20%;\"");

WriteLiteral(" />\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">修改类型:</span><div");

WriteLiteral(" id=\"updateTypes\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" style=\"width: 20%;\"");

WriteLiteral("></div>\r\n                </div>\r\n                <div");

WriteLiteral(" style=\"width:100%;height:40px;display:flex;align-items: center;justify-content: " +
"flex-start;\"");

WriteLiteral(">\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">开始时间:</span><input");

WriteLiteral(" id=\"StartTime1\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" onfocus=\"WdatePicker({ dateFmt: \'yyyy-MM-dd 00:00:00\' })\"");

WriteLiteral(" style=\"width:20%\"");

WriteLiteral("/>\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">结束时间:</span><input");

WriteLiteral(" id=\"EndTime1\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" onfocus=\"WdatePicker({ dateFmt: \'yyyy-MM-dd 23:59:59\' })\"");

WriteLiteral("  style=\"width:20%\"");

WriteLiteral("/>\r\n                    <a");

WriteLiteral(" id=\"btn_Search_Submit\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" style=\"margin-left:30px\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i> 查询</a>\r\n                    <a");

WriteLiteral(" id=\"btn_Cancel\"");

WriteLiteral(" onclick=\"\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" style=\"float:right;margin:0 30px\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-save\"");

WriteLiteral("></i>&nbsp;撤销</a>\r\n                    <a");

WriteLiteral(" id=\"btn_Submit\"");

WriteLiteral(" onclick=\"\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" style=\"float:right;\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-save\"");

WriteLiteral("></i>&nbsp;提交审核</a>\r\n                </div>\r\n            </div>\r\n            <div" +
"");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n            </div>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"tab-pane fade\"");

WriteLiteral(" id=\"BTGL\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" style=\"width:100%;height:80px;\"");

WriteLiteral(" id=\"filter-form\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" style=\"width:100%;height:40px;display:flex;align-items: center;justify-content: " +
"flex-start;\"");

WriteLiteral(">\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">关键字:</span><input");

WriteLiteral(" id=\"txt_Keyword\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入要查询关键字\"");

WriteLiteral(" style=\"width: 20%;\"");

WriteLiteral(" />\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">审核状态:</span><div");

WriteLiteral(" id=\"status\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" style=\"width: 20%;\"");

WriteLiteral("></div>\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">修改类型:</span><div");

WriteLiteral(" id=\"updateType\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" style=\"width: 20%;\"");

WriteLiteral("></div>\r\n                </div>\r\n                <div");

WriteLiteral(" style=\"width:100%;height:40px;display:flex;align-items: center;justify-content: " +
"flex-start;\"");

WriteLiteral(">\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">开始时间:</span><input");

WriteLiteral(" id=\"StartTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" onfocus=\"WdatePicker({ dateFmt: \'yyyy-MM-dd 00:00:00\' })\"");

WriteLiteral(" style=\"width:20%\"");

WriteLiteral("/>\r\n                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">结束时间:</span><input");

WriteLiteral(" id=\"EndTime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" onfocus=\"WdatePicker({ dateFmt: \'yyyy-MM-dd 23:59:59\' })\"");

WriteLiteral("  style=\"width:20%\"");

WriteLiteral("/>\r\n                    <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" style=\"margin-left:30px\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i> 查询</a>\r\n                </div>\r\n                ");

WriteLiteral("\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                <table");

WriteLiteral(" id=\"gridTablehistory\"");

WriteLiteral("></table>\r\n                <div");

WriteLiteral(" id=\"gridPagerhistory\"");

WriteLiteral(@"></div>
            </div>
        </div>
    </div>
</div>
<style>
    .spans {
        display:inline-block;
        width:100px;
        min-width:100px;
        text-align:center;
        height:40px;
        line-height:40px
    }
    .form-control, .ui-select-text {
        border-radius:4px;
    }
</style>

");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script>\r\n    var authToken = getAuthorizationToken();\r\n    var bussnessType = " +
"request(\'bussnessType\');\r\n    var columns = [];\r\n    $(function () {\r\n        In" +
"itialPage();\r\n        initSelect();\r\n        GetGrid();\r\n        GetGridhistor()" +
";\r\n        //查询点击事件\r\n        $(\"#btn_Search\").click(function () {\r\n            S" +
"earchEvent();\r\n        });\r\n        //查询点击事件\r\n        $(\"#btn_Search_Submit\").cl" +
"ick(function () {\r\n            SearchSubmitEvent();\r\n        });\r\n        //提交审核" +
"\r\n        $(\"#btn_Submit\").click(function () {\r\n            SubmitAudit();\r\n    " +
"    });\r\n        //撤销提交\r\n        $(\"#btn_Cancel\").click(function () {\r\n         " +
"   CancelSubmit();\r\n        });\r\n    });\r\n    //初始化页面\r\n    function InitialPage(" +
") {\r\n        //resize重设布局;\r\n        $(window).resize(function (e) {\r\n           " +
" window.setTimeout(function () {\r\n                $(\'#gridTable\').setGridWidth((" +
"$(\'.gridPanel\').width()));\r\n                $(\'#gridTable\').setGridHeight($(wind" +
"ow).height() - 110);\r\n            }, 200);\r\n            e.stopPropagation();\r\n  " +
"      });\r\n\r\n        if(bussnessType==\"A\")\r\n        {\r\n            columns = [{ " +
"label: \'审核ID\', name: \'GUID\', index: \'GUID\', width: 150, align: \'left\', sortable:" +
" true, hidden: true },\r\n                { label: \'业务ID\', name: \'BUSINESSID\', ind" +
"ex: \'BUSINESSID\', width: 150, align: \'left\', sortable: true, hidden: true },\r\n  " +
"                  {\r\n                        label: \'统一编号\', name: \'BASICINFO\', i" +
"ndex: \'BASICINFO\', width: 150, align: \'left\', sortable: true, formatter: functio" +
"n (cellvalue, options, rowObject) {\r\n                            if (cellvalue !" +
"=null&&cellvalue!=\"\") {\r\n                                return cellvalue.split(" +
"\',\')[2];\r\n                            } else \r\n                                r" +
"eturn \'\';\r\n                        }\r\n                    },\r\n                  " +
"  {\r\n                        label: \'灾害点名称\', name: \'BASICINFO\', index: \'BASICINF" +
"O\', width: 250, align: \'left\', sortable: true, formatter: function (cellvalue, o" +
"ptions, rowObject) {\r\n                            if (cellvalue != null && cellv" +
"alue != \"\") {\r\n                                return cellvalue.split(\',\')[1];\r\n" +
"                            } else\r\n                                return \'\';\r\n" +
"                        }\r\n                    },\r\n                     {\r\n     " +
"                    label: \'灾害类型\', name: \'BASICINFO\', index: \'BASICINFO\', width:" +
" 100, align: \'center\', sortable: true, formatter: function (cellvalue, options, " +
"rowObject) {\r\n                             if (cellvalue != null && cellvalue !=" +
" \"\") {\r\n                                 return cellvalue.split(\',\')[3];\r\n      " +
"                       } else\r\n                                 return \'\';\r\n    " +
"                     }\r\n                     },\r\n                    {\r\n        " +
"                label: \'审核状态\', name: \'STATUS\', index: \'STATUS\', width: 150, alig" +
"n: \'center\', sortable: true,\r\n                        formatter: function (cellv" +
"alue, options, rowObject) {\r\n                            if (cellvalue == 0) {\r\n" +
"                                return \'<span class=\\\"label label-default\\\">未提交<" +
"/span>\';\r\n                            } else if (cellvalue == 1) {\r\n            " +
"                    return \'<span class=\\\"label label-default\\\">待审核</span>\';\r\n  " +
"                          }else if (cellvalue == 2) {\r\n                         " +
"       return \'<span class=\\\"label label-success\\\">审核通过</span>\';\r\n              " +
"              }else if (cellvalue == 3) {\r\n                                retur" +
"n \'<span class=\\\"label label-danger\\\">审核不通过</span>\';\r\n                          " +
"  }else if (cellvalue == 4) {\r\n                                return \'<span cla" +
"ss=\\\"label label-default\\\">已撤销</span>\';\r\n                            }\r\n        " +
"                }\r\n                    },\r\n                    { label: \'操作类型\', " +
"name: \'UPDATETYPE\', index: \'UPDATETYPE\', width: 100, align: \'center\', sortable: " +
"true, formatter: \"select\", editoptions: { value: \"A:新增;U:更新;D:销号;R:删除;I:批量导入\" } " +
"},\r\n                    { label: \'修改日期\', name: \'UPDATETIME\', index: \'UPDATETIME\'" +
", width: 200, align: \'left\', sortable: true },\r\n                    { label: \'审核" +
"人\', name: \'AUDITOR\', index: \'AUDITOR\', width: 200, align: \'center\', sortable: tr" +
"ue },\r\n                    {\r\n                        label: \'对比信息\', name: \'BASI" +
"CINFO\', index: \'BASICINFO\', width: 200, align: \'center\', sortable: true, formatt" +
"er: function (cellvalue, options, rowObject) {\r\n                            if (" +
"cellvalue != null && cellvalue != \"\") {\r\n                                var gui" +
"dType = rowObject.BUSINESSID + \",\" + cellvalue.split(\',\')[3] + \",\" + cellvalue.s" +
"plit(\',\')[2];\r\n                                //var guidType = cellvalue.split(" +
"\',\')[2] + \",\" + cellvalue.split(\',\')[3];\r\n                                if (ro" +
"wObject.UPDATETYPE != \"U\") {\r\n                                    return \"<a sty" +
"le=\'color:blue;cursor: pointer;\' onclick=\'Compare(\\\"\" + guidType + \",查看\" + \"\\\")\'" +
">查看</a>\";\r\n                                } else {\r\n                           " +
"         return \"<a style=\'color:blue;cursor: pointer;\' onclick=\'Compare(\\\"\" + g" +
"uidType + \",对比\" + \"\\\")\'>对比</a>\";\r\n                                }\r\n\r\n         " +
"                   } else\r\n                                return \'\';\r\n         " +
"                    \r\n\r\n                        } }\r\n            ];\r\n        }\r\n" +
"    }\r\n    var dbwidth = \"1360px\";\r\n    function Compare(cellvalue) {\r\n        v" +
"ar cc = cellvalue.split(\',\');\r\n        var type = \'01\';\r\n        switch (cc[1]) " +
"{\r\n            case \"滑坡\":\r\n                type = \'01\';\r\n                break;\r" +
"\n            case \"崩塌\":\r\n                type = \'02\';\r\n                break;\r\n " +
"           case \"泥石流\":\r\n                type = \'03\';\r\n                break;\r\n  " +
"          case \"地面沉降\":\r\n                type = \'04\';\r\n                break;\r\n  " +
"          case \"地面塌陷\":\r\n                type = \'05\';\r\n                break;\r\n  " +
"          case \"地裂缝\":\r\n                type = \'06\';\r\n                break;\r\n   " +
"         case \"斜坡\":\r\n                type = \'07\';\r\n                break;\r\n     " +
"       default:\r\n                break;\r\n        }\r\n        var title1 = cc[3];\r" +
"\n        var flag = \"\";\r\n        if (title1 == \"对比\") {\r\n            flag = \"true" +
"\";\r\n            dbwidth = \"100%\";\r\n        } else {\r\n            dbwidth = \"1360" +
"px\";\r\n        }\r\n        dialogOpen({\r\n            id: \'CompareForm\',\r\n         " +
"   title: title1 + cc[1] + \'信息\',\r\n            url: \'/JXGeoManage/TBL_HAZARDBASIC" +
"INFO/HarzardCompare?type=\' + type + \"&keyValue=\" + cc[0] + \"&dmt=\" + cc[2] + \"&f" +
"lag=\" + flag,\r\n            width: dbwidth,\r\n            height: \'\',\r\n           " +
" btn: []\r\n        });\r\n    }\r\n\r\n    //加载表格\r\n    function GetGrid() {\r\n        va" +
"r selectedRowIndex = 0;\r\n        var $gridTable = $(\'#gridTable\');\r\n        var " +
"queryJson = $(\"#HPGL\").getWebControls();\r\n        queryJson.bussnessType = bussn" +
"essType;\r\n        queryJson[\"status\"] = \"0\"; //待提交\r\n\r\n        $gridTable.jqGrid(" +
"{\r\n            autowidth: true,\r\n            height: $(window).height() - 195,\r\n" +
"            url: \"../../api/TBL_AUDITINFOApi/GetPageSubmitListJson\",\r\n          " +
"  postData: { queryJson: JSON.stringify(queryJson) },\r\n            loadBeforeSen" +
"d: function (a) {\r\n                if (authToken != null)\r\n                    a" +
".setRequestHeader(\"Authorization\", authToken);\r\n            },\r\n            data" +
"type: \"json\",\r\n            colModel: columns,\r\n            multiselect: true,\r\n " +
"           viewrecords: true,\r\n            rowNum: 30,\r\n            rowList: [30" +
", 50, 100],\r\n            pager: \"#gridPager\",\r\n            sortname: \'UPDATETIME" +
"\',\r\n            sortorder: \'desc\',\r\n            rownumbers: true,\r\n            s" +
"hrinkToFit: true,\r\n            gridview: true,\r\n            onSelectRow: functio" +
"n () {\r\n                selectedRowIndex = $(\'#\' + this.id).getGridParam(\'selrow" +
"\');\r\n            },\r\n            gridComplete: function () {\r\n                $(" +
"\'#\' + this.id).setSelection(selectedRowIndex, false);\r\n            }\r\n        })" +
";\r\n    }\r\n\r\n\r\n    //查询提交表格函数\r\n    function SearchSubmitEvent() {\r\n        var qu" +
"eryJson = $(\"#HPGL\").getWebControls();\r\n        queryJson.bussnessType = bussnes" +
"sType;\r\n        queryJson[\"status\"] = \"0\"; //待提交\r\n        queryJson.updateType =" +
" queryJson.updateTypes;\r\n        queryJson.txt_Keyword = queryJson.txt_Keyword1;" +
"\r\n        queryJson.StartTime = queryJson.StartTime1;\r\n        queryJson.EndTime" +
" = queryJson.EndTime1;\r\n        $(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n      " +
"      postData: { queryJson: JSON.stringify(queryJson) },\r\n            loadBefor" +
"eSend: function (a) {\r\n                if (authToken != null)\r\n                 " +
"   a.setRequestHeader(\"Authorization\", authToken);\r\n            },\r\n            " +
"url: \"../../api/TBL_AUDITINFOApi/GetPageSubmitListJson\",\r\n            page: 1\r\n " +
"       }).trigger(\'reloadGrid\');\r\n    }\r\n\r\n\r\n\r\n    //加载表格\r\n    function GetGridh" +
"istor() {\r\n        var selectedRowIndex = 0;\r\n        var $gridTable = $(\'#gridT" +
"ablehistory\');\r\n        var queryJson = $(\"#filter-form\").getWebControls();\r\n   " +
"     queryJson.bussnessType = bussnessType;\r\n        $gridTable.jqGrid({\r\n      " +
"      // autowidth: false,\r\n            width:975,\r\n            height: $(window" +
").height() - 195,\r\n            url: \"../../api/TBL_AUDITINFOApi/GetPageSubmitLis" +
"tJson\",\r\n            postData: { queryJson: JSON.stringify(queryJson) },\r\n      " +
"      datatype: \"json\",\r\n            loadBeforeSend: function (a) {\r\n           " +
"     if (authToken != null)\r\n                    a.setRequestHeader(\"Authorizati" +
"on\", authToken);\r\n            },\r\n            colModel: columns,\r\n           // " +
"multiselect: true,\r\n            viewrecords: true,\r\n            rowList: [30, 50" +
", 100],\r\n            rowNum: 30,\r\n            pager: \"#gridPagerhistory\",\r\n     " +
"       sortname: \'UPDATETIME\',\r\n            sortorder: \'desc\',\r\n            rown" +
"umbers: true,\r\n            shrinkToFit: true,\r\n            gridview: true,\r\n    " +
"        onSelectRow: function () {\r\n                selectedRowIndex = $(\'#\' + t" +
"his.id).getGridParam(\'selrow\');\r\n            },\r\n            gridComplete: funct" +
"ion () {\r\n                $(\'#\' + this.id).setSelection(selectedRowIndex, false)" +
";\r\n            }\r\n        });\r\n    }\r\n\r\n    //查询表格函数\r\n    function SearchEvent()" +
" {\r\n        var queryJson = $(\"#filter-form\").getWebControls();\r\n        queryJs" +
"on.bussnessType = bussnessType;\r\n        $(\"#gridTablehistory\").jqGrid(\'setGridP" +
"aram\', {\r\n            postData: { queryJson: JSON.stringify(queryJson) },\r\n     " +
"       loadBeforeSend: function (a) {\r\n                if (authToken != null)\r\n " +
"                   a.setRequestHeader(\"Authorization\", authToken);\r\n            " +
"},\r\n            url: \"../../api/TBL_AUDITINFOApi/GetPageSubmitListJson\",\r\n      " +
"      page: 1\r\n        }).trigger(\'reloadGrid\');\r\n    }\r\n\r\n    //提交审核按钮\r\n    fun" +
"ction SubmitAudit() {\r\n        var $gridTable = $(\'#gridTable\');\r\n        var ro" +
"wIndexs = $gridTable.jqGrid(\'getGridParam\', \'selarrrow\');\r\n        if (rowIndexs" +
".length > 0) {\r\n            //获取需要提交的数据业务ID\r\n            var busnessIds = new Ar" +
"ray();\r\n            for (var i = 0; i < rowIndexs.length; i++) {\r\n              " +
"  var data = $gridTable.jqGrid(\'getRowData\', rowIndexs[i]);\r\n                bus" +
"nessIds.push(data.GUID);\r\n            }\r\n\r\n            $.SaveForm({\r\n           " +
"     url: \"../../api/TBL_AUDITINFOApi/SubmitAudit\",\r\n                param: { \"\"" +
": busnessIds },\r\n                loading: \"正在提交数据...\",\r\n                authToke" +
"n: authToken,\r\n                success: function () {\r\n                    try {" +
"\r\n                        getInfoTop().learun.currentIframe().$(\'#gridTable\').tr" +
"igger(\'reloadGrid\');\r\n                    } catch (e) {\r\n                       " +
" window.parent.$(\'#gridTable\').trigger(\'reloadGrid\');\r\n                    }\r\n  " +
"              }\r\n            })\r\n        }\r\n        else {\r\n            dialogMs" +
"g(\'请选择需要提交审核的数据！\', 0);\r\n        }\r\n    }\r\n\r\n\r\n    //撤销提交按钮\r\n    function CancelS" +
"ubmit() {\r\n        var $gridTable = $(\'#gridTable\');\r\n        var rowIndexs = $g" +
"ridTable.jqGrid(\'getGridParam\', \'selarrrow\');\r\n        if (rowIndexs.length > 0)" +
" {\r\n            //获取需要提交的数据业务ID\r\n            var busnessIds = new Array();\r\n    " +
"        for (var i = 0; i < rowIndexs.length; i++) {\r\n                var data =" +
" $gridTable.jqGrid(\'getRowData\', rowIndexs[i]);\r\n                busnessIds.push" +
"(data.GUID);\r\n            }\r\n\r\n            $.SaveForm({\r\n                url: \"." +
"./../api/TBL_AUDITINFOApi/CancelSubmit\",\r\n                param: { \"\": busnessId" +
"s },\r\n                loading: \"正在撤销提交...\",\r\n                authToken: authToke" +
"n,\r\n                success: function () {\r\n                    try {\r\n         " +
"               getInfoTop().learun.currentIframe().$(\'#gridTable\').trigger(\'relo" +
"adGrid\');\r\n                    } catch (e) {\r\n                        window.par" +
"ent.$(\'#gridTable\').trigger(\'reloadGrid\');\r\n                    }\r\n             " +
"   }\r\n            })\r\n        }\r\n        else {\r\n            dialogMsg(\'请选择需要撤销提" +
"交的数据！\', 0);\r\n        }\r\n    }\r\n\r\n    //初始化下拉控件\r\n    function initSelect() {\r\n   " +
"     $(\"#status\").ComboBox({\r\n            id: \"value\",\r\n            text: \"label" +
"\",\r\n            description: \"全部审核状态\",\r\n            height: \"170px\",\r\n          " +
"  data: [\r\n                { label: \"未提交\", value: \"0\" },\r\n                { labe" +
"l: \"待审核\", value: \"1\" },\r\n                { label: \"审核通过\", value: \"2\" },\r\n       " +
"         { label: \"审核不通过\", value: \"3\" },\r\n                { label: \"已撤销\", value:" +
" \"4\" }\r\n            ]\r\n        });\r\n\r\n        $(\"#updateType\").ComboBox({\r\n     " +
"       id: \"value\",\r\n            text: \"label\",\r\n            description: \"全部修改类" +
"型\",\r\n            height: \"170px\",\r\n            data: [\r\n                { label:" +
" \"新增\", value: \"A\" },\r\n                { label: \"更新\", value: \"U\" },\r\n            " +
"    { label: \"销号\", value: \"D\" },\r\n                { label: \"删除\", value: \"R\" }\r\n " +
"           ]\r\n        });\r\n\r\n        $(\"#updateTypes\").ComboBox({\r\n            i" +
"d: \"value\",\r\n            text: \"label\",\r\n            description: \"全部修改类型\",\r\n   " +
"         height: \"170px\",\r\n            data: [\r\n                { label: \"新增\", v" +
"alue: \"A\" },\r\n                { label: \"更新\", value: \"U\" },\r\n                { la" +
"bel: \"销号\", value: \"D\" },\r\n                { label: \"删除\", value: \"R\" }\r\n         " +
"   ]\r\n        });\r\n    }\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
