#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_HAZARDBASICINFO/selectTJ.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_HAZARDBASICINFO_selectTJ_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_HAZARDBASICINFO_selectTJ_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\selectTJ.cshtml"
  
    ViewBag.Title = "查询统计分析";
    Layout = "~/Views/Shared/_Index.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\n<div");

WriteLiteral(" class=\"div-main\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"div div-left\"");

WriteLiteral(">\r\n        <ul");

WriteLiteral(" class=\"zxq-ul\"");

WriteLiteral(">\r\n            <li>\r\n                <p");

WriteLiteral(" class=\"head-tit\"");

WriteLiteral("><strong>险情等级</strong><i");

WriteLiteral(" class=\"fa fa-angle-right icon-flag tit-top\"");

WriteLiteral("></i></p>               \r\n                <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                    <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                </div>\r\n            </li>\r\n            <li>\r\n         " +
"       <p");

WriteLiteral(" class=\"head-tit\"");

WriteLiteral("><strong>灾情等级</strong><i");

WriteLiteral(" class=\"fa fa-angle-right icon-flag\"");

WriteLiteral("></i></p>               \r\n                <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                    <table");

WriteLiteral(" id=\"gridTable1\"");

WriteLiteral("></table>\r\n                </div>\r\n            </li>\r\n            <li>\r\n         " +
"       <p");

WriteLiteral(" class=\"head-tit\"");

WriteLiteral("><strong>操作类型</strong><i");

WriteLiteral(" class=\"fa fa-angle-right icon-flag\"");

WriteLiteral("></i></p>               \r\n                <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                    <table");

WriteLiteral(" id=\"gridTable2\"");

WriteLiteral("></table>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n" +
"    <div");

WriteLiteral(" class=\"div div-center\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"center-tit\"");

WriteLiteral(">\r\n            <a");

WriteLiteral(" id=\"btn_yhd\"");

WriteLiteral(" class=\"btn zhType\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-dot-circle-o\"");

WriteLiteral("></i> 隐患点</a>\r\n            <a");

WriteLiteral(" id=\"btn_xzd\"");

WriteLiteral(" class=\"btn\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-plus\"");

WriteLiteral("></i> 新增点</a>\r\n            <a");

WriteLiteral(" id=\"btn_xhd\"");

WriteLiteral(" class=\"btn\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-trash-o\"");

WriteLiteral("></i> 销号点</a>            \r\n        </div>\n        <div");

WriteLiteral(" class=\"div-time\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"xian\"");

WriteLiteral("></div>\r\n            <div");

WriteLiteral(" class=\"icon-left\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-angle-left\"");

WriteLiteral("></i></div>\r\n            <div");

WriteLiteral(" class=\"btn-date\"");

WriteLiteral("><a");

WriteLiteral(" class=\"icon-btn\"");

WriteLiteral("></a><p>2016年</p></div>\r\n            <div");

WriteLiteral(" class=\"btn-date\"");

WriteLiteral("><a");

WriteLiteral(" class=\"icon-btn\"");

WriteLiteral("></a><p>2017年</p></div>\r\n            <div");

WriteLiteral(" class=\"btn-date\"");

WriteLiteral("><a");

WriteLiteral(" class=\"icon-btn\"");

WriteLiteral("></a><p>2018年</p></div> \r\n            <div");

WriteLiteral(" class=\"btn-date\"");

WriteLiteral("><a");

WriteLiteral(" class=\"icon-btn thisDate\"");

WriteLiteral("></a><p>2019年</p></div>\r\n            <div");

WriteLiteral(" class=\"icon-right\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-angle-right\"");

WriteLiteral("></i></div>\r\n        </div>\n        <div>\n            <div");

WriteLiteral(" id=\"map\"");

WriteLiteral("></div>\r\n            <div");

WriteLiteral(" id=\"echart4\"");

WriteLiteral("></div>\n        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"div div-right\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" id=\"echart1\"");

WriteLiteral(" class=\"echarts\"");

WriteLiteral("></div>\r\n        <div");

WriteLiteral(" id=\"echart2\"");

WriteLiteral(" class=\"echarts\"");

WriteLiteral("></div>\r\n        <div");

WriteLiteral(" id=\"echart3\"");

WriteLiteral(" class=\"echarts\"");

WriteLiteral("></div>\r\n    </div>\r\n</div>\n");

DefineSection("Scripts", () => {

WriteLiteral("\n");

            
            #line 55 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\selectTJ.cshtml"
Write(System.Web.Optimization.Styles.Render( "~/Content/styles/selectTJ.css"));

            
            #line default
            #line hidden
WriteLiteral("\n");

            
            #line 56 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\selectTJ.cshtml"
Write(System.Web.Optimization.Scripts.Render( "~/Content/scripts/plugins/echarts/echarts4.min.js"));

            
            #line default
            #line hidden
WriteLiteral(@"
<script>
    var authToken = getAuthorizationToken();
    var usercode, DistrictName, year, Thisyear, echart1, echart2, echart3, echart4, myChart, nameMap = 'chinaMap';
    var height = $(window).height() - 150;
    $(function () {
        $('.gridPanel').eq(0).show();
        usercode = """);

            
            #line 63 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\selectTJ.cshtml"
               Write(Infoearth.Application.Code.OperatorProvider.Provider.Current().XZQHCode);

            
            #line default
            #line hidden
WriteLiteral("\";\r\n        var date = new Date;\r\n        year = date.getFullYear();\r\n        Thi" +
"syear=year; //时间轴算事件用到\r\n        if (!usercode || usercode == \"000000\" || usercod" +
"e == \"0\") {\r\n            usercode = \"000000\"\r\n            DistrictName = \"全国\"\r\n " +
"           nameMap=\'china\'\r\n        } else {\r\n            $.ajax({\r\n            " +
"    url: SSOURL+\'/api/AdministrativeApi/GetDistrctByCodes/\' + usercode,\n        " +
"        beforeSend: function (a) {\r\n                    a.setRequestHeader(\"Auth" +
"orization\", authToken);\r\n                },\n                type: \"GET\",\n       " +
"         dataType: \'json\',\n                success: function (data) {\r\n         " +
"           DistrictName = data.Result[0].DistrictName;\r\n                }\r\n     " +
"       })\r\n        }\r\n        $(\'.div-left\').height($(window).height());\r\n      " +
"  $(\'.echarts\').height(($(window).height() - 20) / 3);\r\n        $(\'#map\').height" +
"(($(window).height() - 120) * 0.7);\r\n        $(\'#echart4\').height(($(window).hei" +
"ght() - 120) * 0.3);\r\n        GetGrid();\r\n        initControl();\r\n        ajaxEc" +
"hart(usercode,DistrictName);\r\n    })\r\n    $(window).resize(function () {\r\n      " +
"  $(\"table\").setGridWidth($(\'.gridPanel\').width());\r\n        $(\"table\").setGridH" +
"eight(height);\r\n        $(\'.div-left\').height($(window).height());\r\n        $(\'." +
"echarts\').height(($(window).height() - 20) / 3);\r\n        $(\'#map\').height(($(wi" +
"ndow).height() - 120) * 0.7);\r\n        $(\'#echart4\').height(($(window).height() " +
"- 120) * 0.3);\r\n        if (echart1) {\r\n            echart1.resize();\r\n         " +
"   echart2.resize();\r\n            echart3.resize();\r\n            echart4.resize(" +
");\r\n            myChart.resize();\r\n        }\r\n    });\r\n    //菜单点击事件\r\n    $(\'.hea" +
"d-tit\').click(function () {\r\n        $(this).parent(\'li\').find(\'.gridPanel\').add" +
"Class(\'active\');\r\n        $(\'ul\').find(\'.gridPanel\').each(function () {\r\n       " +
"     if ($(this).hasClass(\'active\')) {\r\n                return\r\n            }\r\n " +
"           if (!$(this).is(\':hidden\')) {\r\n                $(this).slideUp(\"slow\"" +
", function () {\r\n                    $(this).parent(\'li\').find(\'.head-tit i\').ad" +
"dClass(\'tit-left\').removeClass(\'tit-top\');\r\n                });\r\n            }\r\n" +
"        })\r\n        if (!$(this).parent(\'li\').find(\'.gridPanel\').is(\':hidden\')) " +
"{\r\n            $(this).parent(\'li\').find(\'.gridPanel\').slideUp(\"slow\");\r\n       " +
"     $(this).parent(\'li\').find(\'.head-tit i:last\').addClass(\'tit-left\').removeCl" +
"ass(\'tit-top\');\r\n        } else {\r\n            $(this).parent(\'li\').find(\'.gridP" +
"anel\').slideDown(\"slow\");\r\n            $(this).parent(\'li\').find(\'.head-tit i:la" +
"st\').addClass(\'tit-top\').removeClass(\'tit-left\');\r\n        }\r\n        $(this).pa" +
"rent(\'li\').find(\'.gridPanel\').removeClass(\'active\');\r\n        $(this).parent(\'li" +
"\').find(\'table\').setGridWidth($(\'.gridPanel\').width()-2);\r\n    });\r\n    //灾害点类型点" +
"击事件\r\n    $(\'.center-tit .btn\').click(function () {\r\n        if (!$(this).hasClas" +
"s(\'zhType\')) {\r\n            $(\'.center-tit .btn\').removeClass(\'zhType\');\r\n      " +
"      $(this).addClass(\'zhType\');\r\n            year = $(\'.thisDate\').next(\'p\').t" +
"ext().replace(/年/, \"\");\r\n            initControl();\r\n        }\r\n    });\r\n    //时" +
"间轴点击事件\r\n    $(\'.icon-btn\').click(function () {\r\n        if (!$(this).hasClass(\'t" +
"hisDate\')) {\r\n            $(\'.icon-btn\').removeClass(\'thisDate\');\r\n            $" +
"(this).addClass(\'thisDate\');\r\n            year = $(\'.thisDate\').next(\'p\').text()" +
".replace(/年/, \"\");\r\n            initControl();\r\n            ajaxEchart(usercode," +
"DistrictName);\r\n        }\r\n    })\r\n    //时间轴向左\r\n    $(\'.icon-left\').click(functi" +
"on () {\r\n        var firstDate = $(\'.icon-btn:first\').next(\'p\').text().replace(/" +
"年/, \"\");\r\n        if (firstDate == \"2000\") {\r\n            dialogAlert(\'您查的时间太过久远" +
"！\', 0);\r\n            return\r\n        } else {\r\n            $(\'.icon-btn\').remove" +
"Class(\'thisDate\');\r\n            $(\'.icon-btn\').each(function () {\r\n             " +
"   var Eachyears = Number($(this).next(\'p\').text().replace(/年/, \"\")) - 1;\r\n     " +
"           $(this).next(\'p\').text(Eachyears + \"年\");\r\n                if (Eachyea" +
"rs == year) {\r\n                    $(this).addClass(\'thisDate\');\r\n              " +
"  }\r\n            })\r\n\r\n        }\r\n    })\r\n    //时间轴向右 \r\n    $(\'.icon-right\').cli" +
"ck(function () {\r\n        var lastDate = $(\'.icon-btn:last\').next(\'p\').text().re" +
"place(/年/, \"\");\r\n        if (lastDate == Thisyear) {\r\n            dialogAlert(\'当" +
"前为最大年份！\', 0);\r\n            return\r\n        } else {\r\n            $(\'.icon-btn\')." +
"removeClass(\'thisDate\');\r\n            $(\'.icon-btn\').each(function () {\r\n       " +
"         var Eachyears = Number($(this).next(\'p\').text().replace(/年/, \"\")) + 1;\r" +
"\n                $(this).next(\'p\').text(Eachyears + \"年\");\r\n                if (E" +
"achyears == year) {\r\n                    $(this).addClass(\'thisDate\');\r\n        " +
"        }\r\n            })\r\n\r\n        }\r\n    })\r\n    function initControl() {\r\n  " +
"      var queryJson = { SelectXZQH: usercode, YEAR: year,TYPE:$(\'.zhType\').text(" +
").replace(/\\s*/g,\"\")};\r\n        $.ajax({\r\n            url: \'../../api/TBL_HAZARD" +
"BASICINFOApi/GetHistoryStatisticsZHD\',\n            beforeSend: function (a) {\r\n " +
"               a.setRequestHeader(\"Authorization\", authToken);\r\n            },\n " +
"           type: \"GET\",\n            dataType: \'json\',\n            data: { queryJ" +
"son: JSON.stringify(queryJson) },\n            success: function (data) {\r\n      " +
"          var datas = [], i = 0;\r\n                for (key in data.result[0]) {\r" +
"\n                    datas.push({ name: key, value: Number(data.result[0][key] ?" +
" data.result[0][key] : 0), code: data.returnValue.columnList[i] });\r\n           " +
"         i++\r\n                }\r\n                MapChart(datas,$(\'.zhType\').tex" +
"t().replace(/\\s*/g, \"\"));\r\n            }\r\n        })\r\n    }\r\n    function ajaxEc" +
"hart(usercode, DistrictName) {\r\n        var queryJson = { SelectXZQH: usercode, " +
"YEAR: year, };\r\n        var queryJson1 = { SelectXZQH: usercode, YEAR: year, TYP" +
"E: \"\" };\r\n        $.ajax({\r\n            url: \'../../api/TBL_HAZARDBASICINFOApi/G" +
"etWXRKStatisticsJson\',\n            beforeSend: function (a) {\r\n                a" +
".setRequestHeader(\"Authorization\", authToken);\r\n            },\n            type:" +
" \"GET\",\n            dataType: \'json\',\n            data: { queryJson: JSON.string" +
"ify(queryJson) },\n            success: function (data) {\r\n                var xD" +
"ata = [], yData = [];\r\n                if (data.result[0]) {\r\n                  " +
"  for (key in data.result[0]) {\r\n                        xData.push(key);\r\n     " +
"                   yData.push(data.result[0][key]);\r\n                    }\r\n    " +
"            }\r\n                var legend = [\'威胁人口\'];\n                var series" +
" = [\n                    {\r\n                        name: \'威胁人口\',\n              " +
"          type: \'bar\',\n                        barMaxWidth: 16,\n                " +
"        data: yData,\n                        markPoint: {\r\n                     " +
"       data: [\n                                { type: \'max\', name: \'最大值\', itemS" +
"tyle: { color: \'#ffb656\' } },\n                                { type: \'min\', nam" +
"e: \'最小值\', itemStyle: { color: \'#ffb656\' } }\n                            ],\r\n\n   " +
"                     },\r\n                    }\n                ]\r\n              " +
"  echart1= _zzt2(\'echart1\', \'威胁人口统计\', legend, xData, series);\r\n            }\r\n  " +
"      })\r\n        $.ajax({\r\n            url: \'../../api/TBL_HAZARDBASICINFOApi/G" +
"etWXCCStatisticsJson\',\n            beforeSend: function (a) {\r\n                a" +
".setRequestHeader(\"Authorization\", authToken);\r\n            },\n            type:" +
" \"GET\",\n            dataType: \'json\',\n            data: { queryJson: JSON.string" +
"ify(queryJson) },\n            success: function (data) {\r\n                var xD" +
"ata = [], yData = [];\r\n                if (data.result[0]) {\r\n                  " +
"  for (key in data.result[0]) {\r\n                        xData.push(key);\r\n     " +
"                   yData.push(data.result[0][key]);\r\n                    }\r\n    " +
"            }\r\n                var legend = [\'威胁财产\'];\n                var series" +
" = [\n                    {\r\n                        name: \'威胁财产\',\n              " +
"          type: \'bar\',\n                        barMaxWidth: 16,\n                " +
"        data: yData,\n                        markPoint: {\r\n                     " +
"       data: [\n                                { type: \'max\', name: \'最大值\', itemS" +
"tyle: { color: \'#ffb656\' } },\n                                { type: \'min\', nam" +
"e: \'最小值\', itemStyle: { color: \'#ffb656\' } }\n                            ],\r\n\n   " +
"                     },\r\n                    }\n                ]\r\n              " +
"  echart2=_zzt2(\'echart2\', \'威胁财产统计\', legend, xData, series);\r\n            }\r\n   " +
"     })\r\n        $.ajax({\r\n            url: \'../../api/TBL_HAZARDBASICINFOApi/Ge" +
"tStatisticsByZHLX2\',\n            beforeSend: function (a) {\r\n                a.s" +
"etRequestHeader(\"Authorization\", authToken);\r\n            },\n            type: \"" +
"GET\",\n            dataType: \'json\',\n            data: { queryJson: JSON.stringif" +
"y(queryJson) },\n            success: function (data) {\r\n                var data" +
"s = [];\n                for (key in data[0]) {\r\n                    datas.push({" +
" name: key, value: Number(data[0][key]) });\r\n                }\r\n                " +
"echart3= _bt(\"echart3\", \'灾害类型统计\', datas);\r\n            }\r\n        })\r\n        $." +
"ajax({\r\n            url: \'../../api/TBL_HAZARDBASICINFOApi/GetStatisticsByZHLX\'," +
"\n            beforeSend: function (a) {\r\n                a.setRequestHeader(\"Aut" +
"horization\", authToken);\r\n            },\n            type: \"GET\",\n            da" +
"taType: \'json\',\n            data: { queryJson: JSON.stringify(queryJson1) },\n   " +
"         success: function (data) {\r\n                var series = [];\n          " +
"      for (var i = 0; i < data.dataList.length; i++) {\r\n                    seri" +
"es.push({\r\n                        name: data.dataList[i].name,\n                " +
"        type: \'bar\',\n                        stack: \'总量\',\n                      " +
"  barMaxWidth: 16,\n                        data: data.dataList[i].data\r\n        " +
"            });\r\n                }\n                echart4 = _zzt(\'echart4\', yea" +
"r + \'年\' + DistrictName + \'灾害点类型统计\', data.columnList, series);\r\n            }\r\n  " +
"      })\r\n    }\r\n    function GetGrid() {\r\n        var $gridTable = $(\"#gridTabl" +
"e\");\r\n        $gridTable.jqGrid({\r\n            datatype: \"local\",\r\n            h" +
"eight: 100,\r\n            width:$(\'li\').width(),\r\n            autowidth: true,\r\n " +
"           colModel: [\r\n                { label: \'行政区划\', name: \'district\', index" +
": \'district\', width: 140, align: \'left\', sortable: true},\r\n                { lab" +
"el: \'特大型\', name: \'tdx\', index: \'tdx\', width: 120, align: \'left\', sortable: true " +
"},\r\n                { label: \'大型\', name: \'dx\', index: \'dx\', width: 120, align: \'" +
"left\', sortable: true },\r\n                { label: \'中型\', name: \'zx\', index: \'zx\'" +
", width: 120, align: \'left\', sortable: true },\r\n                { label: \'小型\', n" +
"ame: \'xx\', index: \'xx\', width: 120, align: \'left\', sortable: true }\r\n           " +
" ],\r\n            rowNum: 99999,\r\n        });\r\n        var $gridTable = $(\"#gridT" +
"able1\");\r\n        $gridTable.jqGrid({\r\n            datatype: \"local\",\r\n         " +
"   height: 100,\r\n            autowidth: true,\r\n            colModel: [\r\n        " +
"        { label: \'行政区划\', name: \'district\', index: \'district\', width: 140, align:" +
" \'left\', sortable: true },\r\n                { label: \'特大型\', name: \'tdx\', index: " +
"\'tdx\', width: 120, align: \'left\', sortable: true },\r\n                { label: \'大" +
"型\', name: \'dx\', index: \'dx\', width: 120, align: \'left\', sortable: true },\r\n     " +
"           { label: \'中型\', name: \'zx\', index: \'zx\', width: 120, align: \'left\', so" +
"rtable: true },\r\n                { label: \'小型\', name: \'xx\', index: \'xx\', width: " +
"120, align: \'left\', sortable: true }\r\n            ],\r\n            rowNum: 99999\r" +
"\n        });\r\n        var $gridTable = $(\"#gridTable2\");\r\n        $gridTable.jqG" +
"rid({\r\n            datatype: \"local\",\r\n            height: 100,\r\n            aut" +
"owidth: true,\r\n            colModel: [\r\n                { label: \'行政区划\', name: \'" +
"district\', index: \'district\', width: 140, align: \'left\', sortable: true },\r\n    " +
"            { label: \'新增\', name: \'insert\', index: \'dx\', width: 120, align: \'left" +
"\', sortable: true },\r\n                { label: \'修改\', name: \'update\', index: \'zx\'" +
", width: 120, align: \'left\', sortable: true },\r\n                { label: \'删除\', n" +
"ame: \'delete\', index: \'xx\', width: 120, align: \'left\', sortable: true }\r\n       " +
"     ],\r\n            rowNum: 99999\r\n        });\r\n        $.ajax({\r\n            u" +
"rl: \'../../api/TBL_HAZARDBASICINFOApi/GetStatisticsByXQDJ\',\n            beforeSe" +
"nd: function (a) {\r\n                a.setRequestHeader(\"Authorization\", authToke" +
"n);\r\n            },\n            type: \"GET\",\n            dataType: \'json\',\n     " +
"       success: function (data) {\r\n                var mydata = [];\r\n           " +
"     if (data) {\r\n                    for (var i = 0; i < data.columnList.length" +
"; i++) {\r\n                        mydata.push({ district: data.columnList[i], td" +
"x: data.dataList[0].data[i], dx: data.dataList[1].data[i], zx: data.dataList[2]." +
"data[i], xx: data.dataList[3].data[i] });\r\n                    }\r\n              " +
"      var dataHeight = mydata.length * 28;\r\n                    if (height > dat" +
"aHeight) {\r\n                        height = dataHeight;\r\n                    }\r" +
"\n                }\r\n                $(\"#gridTable\").jqGrid(\"setGridHeight\", heig" +
"ht);\r\n                $(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n                " +
"    datatype: \'local\',\n                    data: mydata,\n                    pag" +
"e: 1\r\n                }).trigger(\"reloadGrid\");\r\n            }\r\n        })\r\n    " +
"    $.ajax({\r\n            url: \'../../api/TBL_HAZARDBASICINFOApi/GetStatisticsBy" +
"ZQDJ\',\n            beforeSend: function (a) {\r\n                a.setRequestHeade" +
"r(\"Authorization\", authToken);\r\n            },\n            type: \"GET\",\n        " +
"    dataType: \'json\',\n            success: function (data) {\r\n                va" +
"r mydata = [];\r\n                if (data) {\r\n                    for (var i = 0;" +
" i < data.columnList.length; i++) {\r\n                        mydata.push({ distr" +
"ict: data.columnList[i], tdx: data.dataList[0].data[i], dx: data.dataList[1].dat" +
"a[i], zx: data.dataList[2].data[i], xx: data.dataList[3].data[i] });\r\n          " +
"          }\r\n                    var dataHeight = mydata.length * 28;\r\n         " +
"           if (height > dataHeight) {\r\n                        height = dataHeig" +
"ht;\r\n                    }\r\n                }\r\n                $(\"#gridTable1\")." +
"jqGrid(\"setGridHeight\", height);\r\n                $(\"#gridTable1\").jqGrid(\'setGr" +
"idParam\', {\r\n                    datatype: \'local\',\n                    data: my" +
"data,\n                    page: 1\r\n                }).trigger(\"reloadGrid\");\r\n  " +
"          }\r\n        })\r\n        var queryJson = { SelectXZQH: usercode, YEAR: y" +
"ear };\r\n        $.ajax({\r\n            url: \'../../api/TBL_HAZARDBASICINFOApi/Get" +
"TypeStatistics\',\n            beforeSend: function (a) {\r\n                a.setRe" +
"questHeader(\"Authorization\", authToken);\r\n            },\n            type: \"GET\"" +
",\n            dataType: \'json\',\n            data: { queryJson: JSON.stringify(qu" +
"eryJson) },\n            success: function (data) {\r\n                var mydata =" +
" [];\r\n                if (data) {\r\n                    for (key in data[0]) {\r\n " +
"                       if (key != \"name\")\r\n                            mydata.pu" +
"sh({ district: key, insert: data[0][key], update: data[1][key], delete: data[2][" +
"key] });\r\n                    }\r\n                    var dataHeight = mydata.len" +
"gth * 28;\r\n                    if (height > dataHeight) {\r\n                     " +
"   height = dataHeight;\r\n                    }\r\n                }\r\n             " +
"   $(\"#gridTable2\").jqGrid(\"setGridHeight\", height);\r\n                $(\"#gridTa" +
"ble2\").jqGrid(\'setGridParam\', {\r\n                    datatype: \'local\',\n        " +
"            data: mydata,\n                    page: 1\r\n                }).trigge" +
"r(\"reloadGrid\");\r\n            }\r\n        })\r\n    }\r\n    //柱状图2 legend:名称，yData:X" +
"轴数据\n    function _zzt2(echartID, title, legend, xData, series) {\r\n        var my" +
"Chart1 = echarts.init(document.getElementById(echartID));\n        myChart1.clear" +
"();\n        var option = {\r\n            title: {\r\n                show: false,\n " +
"               text: title,\n                textStyle: { fontSize: 14, color: \'#" +
"656565\' },\n                x: \'left\'\r\n            },\n            color: [\'#6bcbc" +
"a\', \'#97ce68\', \'#4289cc\', \'#b6a2de\', \'#5ab1ef\', \'#19cc9f\'],\n            tooltip:" +
" {\r\n                trigger: \'axis\',\n                axisPointer: {\r\n           " +
"         type: \'shadow\'\r\n                },\r\n            },\n            legend: " +
"{\r\n                data: legend,\n                x: \'center\',\n                to" +
"p: \'7px\'\r\n            },\n            calculable: true,\n            grid: {\r\n    " +
"            left: 60,\n                right: \'5%\',\n                top: \'15%\'\r\n " +
"           },\n            xAxis: [\n                {\r\n                    type: " +
"\'category\',\n                    data: xData,\n                    axisLine: {\r\n  " +
"                      lineStyle: { color: \'#f1f1f1\' }\r\n                    },\n  " +
"                  splitLine: {\r\n                        show: false\r\n           " +
"         },\n                    axisLabel: {\r\n                        color: \"#8" +
"c8c8c\",\n                        interval: 0,\n                        formatter: " +
"function (str) {\r\n                            var strs = str.split(\"\");\n        " +
"                    return str //s.join(\"\\n\");\r\n                        }\r\n     " +
"               }\r\n                }\n            ],\n            yAxis: [{\r\n      " +
"          type: \'value\',\n                axisLine: {\r\n                    lineSt" +
"yle: { color: \'#f1f1f1\' }\r\n                },\n                splitLine: {\r\n    " +
"                show: false\r\n                },\n                axisLabel: { col" +
"or: \"#8c8c8c\" }\r\n            }],\n            series: series\r\n        };\n        " +
"$(\"#title_echart1\").text(title);\n        myChart1.setOption(option);\r\n        re" +
"turn myChart1;\r\n    }\r\n    //饼图\n    function _bt(echartID, text, scaleData) {\r\n " +
"       var myChart2 = echarts.init(document.getElementById(echartID));\n        m" +
"yChart2.clear();\n        //指定图表配置数据\n        var rich = {\r\n            white: {\r\n" +
"                color: \'#ddd\',\n                align: \'center\',\n                " +
"padding: [3, 0]\r\n            }\r\n        };\n        var placeHolderStyle = {\r\n   " +
"         normal: {\r\n                label: {\r\n                    show: false\r\n " +
"               },\n                labelLine: {\r\n                    show: false\r" +
"\n                },\n                color: \'rgba(0, 0, 0, 0)\',\n                b" +
"orderColor: \'rgba(0, 0, 0, 0)\',\n                borderWidth: 0\r\n            }\r\n " +
"       };\n        var color = [\'#268bf9\', \'#568be3\', \'#86b3ff\', \'#b0ea55\', \'#00d" +
"1aa\', \'#00b8d4\', \'#02c6f8\'];//[\'#3fa7dc\', \'#7091c4\', \'#5170a2\', \'#1CA7CB\', \'#e1c" +
"a74\', \'#34AF4B\', \'#179D9D\']\n        var data = [];\n        for (var i = 0; i < s" +
"caleData.length; i++) {\r\n            data.push({\r\n                value: scaleDa" +
"ta[i].value,\n                name: scaleData[i].name,\n                itemStyle:" +
" {\r\n                    normal: {\r\n                        borderWidth: 5,\n     " +
"                   shadowBlur: 0,\r\n                    }\r\n                }\r\n   " +
"         });\r\n        }\n        var seriesObj = [{\r\n            name: \'\',\n      " +
"      type: \'pie\',\n            color: color,\n            clockWise: false,\n     " +
"       radius: [\'15%\', \'35%\'],\n            hoverAnimation: false,\n            la" +
"bel: {\r\n                show: true,\n                position: \'outside\',\n       " +
"         formatter: function (params) {\r\n                    var percent = 0;\n  " +
"                  var total = 0;\n                    for (var i = 0; i < scaleDa" +
"ta.length; i++) {\r\n                        total += Number(scaleData[i].value);\r" +
"\n                    }\n                    if (total == 0) {\r\n                  " +
"      percent = 0\r\n                    } else {\r\n                        percent" +
" = ((Number(params.value) / total) * 100).toFixed(0);\r\n                    }\n   " +
"                 if (params.name !== \'\') {\r\n                        return param" +
"s.name + percent + \'%\';\r\n                    } else {\r\n                        r" +
"eturn \'\';\r\n                    }\r\n                },\n                //rich: ric" +
"h\n            },\n            labelLine: {\r\n                length: 20,\n         " +
"       show: true,\n                //color:\'#00ffff\'\n            },\n            " +
"data: data\r\n        }];\n        var option = {\r\n            title: {\r\n          " +
"      show: false,\n                text: text,\n                x: \'20\',\n        " +
"        textStyle: { fontSize: 14, color: \'#656565\' }\r\n            },\n          " +
"  grid: {\r\n                top: \'15%\'\r\n            },\n            tooltip: {\r\n  " +
"              show: false\r\n            },\n            legend: {\r\n               " +
" show: false\r\n            },\n            toolbox: {\r\n                show: false" +
"\r\n            },\n            series: seriesObj\r\n        }\n        $(\"#title_echa" +
"rt2\").text(text);\n        myChart2.setOption(option, true);\r\n        return myCh" +
"art2;\r\n    }\r\n    //柱状图 legend:名称，yData:Y轴数据,data:X轴数据\n    function _zzt(echartI" +
"D, legend, yData, series) {\r\n        var myChart3 = echarts.init(document.getEle" +
"mentById(echartID));\n        myChart3.clear();\n        var option = {\r\n         " +
"   title: {\r\n                show: true,\n                text: legend,\n         " +
"       textStyle: { fontSize: 14, color: \'#656565\' },\n                x: \'10\'\r\n " +
"           },\n            color: [\'#FFA60B\', \'#a3e4e3\', \'#4289cc\', \'#95ed54\', \'#" +
"6bcbca\', \'#02c6f8\'],\n            tooltip: {\r\n                trigger: \'axis\',\n  " +
"              axisPointer: {\r\n                    type: \'shadow\'\r\n              " +
"  },\n                formatter: function (params) {\n                    var relV" +
"al = params[0].name+\"<br/>\";\n                    for (var i = 0; i < params.leng" +
"th; i++) {\r\n                        var str = \"&nbsp;&nbsp;\";\r\n                 " +
"       if (i % 2 == 1) { str += \"<br/>\" }\r\n                        relVal += par" +
"ams[i].marker + params[i].seriesName + \' : \' + params[i].value + str;\n          " +
"          }\n                    return relVal;\n                }\r\n            }," +
"\n            legend: {\r\n                data: legend\r\n            },\n           " +
" calculable: true,\n            grid: {\r\n                left: \'10%\',\n           " +
"     right: \'5%\',\n                top: \'15%\'\r\n            },\n            xAxis: " +
"[\n                {\r\n                    type: \'category\',\n                    d" +
"ata: yData,\n                    axisLine: {\r\n                        lineStyle: " +
"{ color: \'#f1f1f1\' }\r\n                    },\n                    splitLine: {\r\n " +
"                       show: false\r\n                    },\n                    a" +
"xisLabel: {\r\n                        color: \"#8c8c8c\", interval: 0,\n            " +
"            formatter: function (str) {\r\n                            var strs = " +
"str.split(\"\");\n                            return strs.join(\"\\n\");\r\n            " +
"            }\r\n                    }\r\n                }\n            ],\n         " +
"   yAxis: [\n                {\r\n                    type: \'value\',\n              " +
"      axisLine: {\r\n                        lineStyle: {\r\n                       " +
"     color: \'#f1f1f1\'\r\n                        }\r\n                    },\n       " +
"             splitLine: {\r\n                        show: false\r\n                " +
"    },\n                    axisLabel: { color: \"#8c8c8c\" }\r\n                }\n  " +
"          ],\n            series: series\r\n        };\n        $(\"#title_echart3\")." +
"text(legend);\n        myChart3.setOption(option);\r\n        return myChart3;\r\n   " +
" }\r\n    //地图\r\n    var geoCoordMap = {}, geoJson, currentCode = \'000000\', current" +
"Name;\r\n    function MapChart(mapData, tit) {\n        //区县级用户显示上级市地图\n        var " +
"fileCode = usercode, xzqh = \"province\";\n        if (usercode.slice(2, 6) != \'000" +
"0\') {\r\n            fileCode = usercode.slice(0, 4) + \"00\";\n            xzqh = \"c" +
"itys\";\r\n        }\n        var maxData = 0;\n        for (var nu = 0; nu < mapData" +
".length; nu++) {\r\n            if (maxData < Number(mapData[nu].value)) {\r\n      " +
"          maxData = Number(mapData[nu].value);\r\n            }\r\n        }\n       " +
" var convertData = function (data) {\r\n            var res = [];\r\n            for" +
" (var i = 0; i < data.length; i++) {\r\n                var geoCoord = geoCoordMap" +
"[data[i].name];\r\n                if (geoCoord) {\r\n                    res.push({" +
"\r\n                        name: data[i].name,\r\n                        value: ge" +
"oCoord.concat(data[i].value),\r\n                    });\r\n                }\r\n     " +
"       }\r\n            return res;\r\n        };\n        var option = {\r\n          " +
"  //title: {\r\n            //    show: false,\n            //    top: 0,\n         " +
"   //    text: tit,\n            //    subtext: \'\',\n            //    x: \'20\',\n  " +
"          //    textStyle: {\r\n            //        fontSize: 14, color: \'#65656" +
"5\'\r\n            //    }\r\n            //},\n            tooltip: {\r\n              " +
"  trigger: \'item\',\n                formatter: function (params) {\r\n             " +
"       if (!params.value || typeof (params.value) == \"undefined\") {\r\n           " +
"             return params.name + tit + \' : 0\';\n                    } else if (p" +
"arams.value.length > 2 && typeof (params.value) == \"object\") {\r\n                " +
"        return params.name + tit + \' : \' + params.value[2];\r\n                   " +
" } else {\r\n                        return params.name + tit + \' : \' + params.val" +
"ue;\r\n                    }\r\n                }\r\n            },  \r\n            dat" +
"aRange: {\r\n                show: true,\r\n                splitNumber: 5,\r\n       " +
"         padding: [6, 0, 6, 0],\r\n                itemGap: 3,\r\n                it" +
"emWidth: 16,\r\n                itemHeight: 16,\r\n                left: \'right\',\r\n " +
"               top: \'bottom\',\r\n                min: -1,\r\n                max: []" +
",//maxData,\r\n                text: [maxData, \'0\'],\r\n                seriesIndex:" +
" [1],\r\n                color: [\'#ffa60b\', \'#97ce68\', \'#6bcbca\', \'#a3e4e3\', \'#daf" +
"9f3\']\r\n            },\r\n            geo: {\r\n                show: true,\r\n        " +
"        map: nameMap,\r\n                label: {\r\n                    normal: {\r\n" +
"                        show: false\r\n                    },\r\n                   " +
" emphasis: {\r\n                        show: false,\r\n                    }\r\n     " +
"           },\r\n                roam: true,\r\n                itemStyle: {\r\n      " +
"              normal: {\r\n                        areaColor: \'#031525\',\r\n        " +
"                borderColor: \'#3B5077\',\r\n                    },\r\n               " +
"     emphasis: {\r\n                        areaColor: \'#568BE3\',\r\n               " +
"     }\r\n                }\r\n            },\n            series: [{\r\n              " +
"  name: \'散点\',\r\n                type: \'scatter\',\r\n                coordinateSyste" +
"m: \'geo\',\r\n                data:[],\r\n                symbolSize: function (val) " +
"{\r\n                    return 10;\r\n                },\r\n                label: {\r" +
"\n                    normal: {\r\n                        formatter: \'{b}\',\r\n     " +
"                   position: \'right\',\r\n                        show: true\r\n     " +
"               },\r\n                    emphasis: {\r\n                        show" +
": true\r\n                    }\r\n                },\r\n                itemStyle: {\r" +
"\n                    normal: {\r\n                        color: \'#506a73\'\r\n      " +
"              }\r\n                }\r\n            },\n                {\r\n          " +
"          type: \'map\',\n                    geoIndex: 0,\n                    aspe" +
"ctScale: 0.75, //长宽比\r\n                    layoutCenter: [\'100%\', \'100%\'],\n      " +
"              showLegendSymbol: false, // 存在legend时显示\n                    label:" +
" {\r\n                        show: true,\n                        color: \'#757575\'" +
"\r\n                    },\n                    itemStyle: {\r\n                     " +
"   areaColor: \'#f1fefc\',\n                        borderWidth: 1,\n               " +
"         borderColor: \'#fff\',\r\n                    },\n                    emphas" +
"is: {\r\n                        label: {\r\n                            show: true," +
"\n                            color: \'#fff\'\r\n                        },\n         " +
"               itemStyle: { areaColor: \'#488cff\' }\r\n                    },\n     " +
"               animation: false,\n                    selectedMode: \'single\',\n   " +
"                 data: [],//mapData\n                },\n\r\n        {\r\n            " +
"name: \'点\',\r\n            type: \'scatter\',\r\n            coordinateSystem: \'geo\',\r\n" +
"            symbol: \'pin\', //气泡\r\n            symbolSize: function (val) {\r\n     " +
"           return 35;\r\n            },\r\n            label: {\r\n                nor" +
"mal: {\r\n                    show: true,\n                    formatter: function " +
"(params) {\r\n                        if (!params.value || typeof (params.value) =" +
"= \"undefined\") {\r\n                            return \'0\';\n                      " +
"  } else if (params.value.length > 2 && typeof (params.value) == \"object\") {\r\n  " +
"                          return params.value[2];\r\n                        } els" +
"e {\r\n                            return params.value;\r\n                        }" +
"\r\n                    },\r\n                    textStyle: {\r\n                    " +
"    fontSize: 9,\r\n                    }\r\n                }\r\n            },\r\n    " +
"        itemStyle: {\r\n                normal: {\r\n                    color: \'#e8" +
"515f\'\r\n                }\r\n            },\n            animation: false,\r\n        " +
"    zlevel: 6,\r\n            data: [],\r\n        }\n            ]\r\n        };\n     " +
"   var loadMap = function () {\n            option.series[0].data = convertData(m" +
"apData);\n            option.series[1].data = mapData;\n            option.series[" +
"2].data = convertData(mapData);\n            option.dataRange.max = maxData==0?10" +
":maxData;\n            //$(\"#title_map\").text(tit);\n            myChart.setOption" +
"(option);\n            //地图点击事件\n            if (!myChart._$handlers.click) {\r\n   " +
"             myChart.on(\'click\', function (params) {\r\n                    if (!p" +
"arams.data) { return; }\n                    if (!params.data.code) {\r\n          " +
"              currentCode = usercode;\r\n                    } else if (currentCod" +
"e == params.data.code) {\n                        currentCode = usercode;\n       " +
"                 currentName = DistrictName;\n                    }else {\r\n      " +
"                  currentCode = params.data.code;\r\n                        curre" +
"ntName = params.name;\r\n                    }\n                    ajaxEchart(curr" +
"entCode, currentName);\r\n                });\r\n            }\r\n        }\n        my" +
"Chart = echarts.init(document.getElementById(\'map\'));\n        myChart.clear();\n " +
"       if (!geoJson) {\n            //读取地图json文件\n            var uploadedDataURL " +
"= \'../../Content/scripts/plugins/echarts/json/\' + xzqh + \'/\' + fileCode + \".json" +
"\";\n            myChart.showLoading();\n            geoJson = null;\n            $." +
"getJSON(uploadedDataURL, function (data) {\r\n                geoJson = data;\n    " +
"            echarts.registerMap(nameMap, geoJson);\n                myChart.hideL" +
"oading();\n                var features = geoJson.features;\n                geoCo" +
"ordMap = {};\n                for (var num = 0; num < features.length; num++) {\r\n" +
"                    var key = features[num].properties.name;\n                   " +
" geoCoordMap[key] = features[num].properties.center ? features[num].properties.c" +
"enter : features[num].properties.cp;\r\n                }\n                loadMap(" +
");\r\n            });\r\n        }\n        else {\r\n            echarts.registerMap(n" +
"ameMap, geoJson);\n            loadMap();\r\n        }\r\n    }\r\n</script>\n");

});

        }
    }
}
#pragma warning restore 1591
