#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_HAZARDBASICINFO/TBL_LSSJIndex.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_HAZARDBASICINFO_TBL_LSSJIndex_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_HAZARDBASICINFO_TBL_LSSJIndex_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\TBL_LSSJIndex.cshtml"
  
    ViewBag.Title = "列表页面";
 Layout = "~/Views/Shared/_IndexMap.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script>\r\n    var types = request(\"types\");\r\n    var keyValue = request(\"keyVal" +
"ue\");\r\n    console.log(types);\r\n    console.log(keyValue);\r\n    var authToken = " +
"getAuthorizationToken();\r\n    $(function () {\r\n        InitialPage();\r\n        G" +
"etGrid();\r\n        //查询点击事件\r\n        $(\"#btn_Search\").click(function () {\r\n     " +
"       SearchEvent();\r\n        });\r\n    });\r\n    //初始化页面\r\n    function InitialPa" +
"ge() {\r\n        //layout布局\r\n        $(\'#layout\').layout({\r\n            applyDemo" +
"Styles: true,\r\n            onresize: function () {\r\n                if (isResize" +
" < 10) {\r\n                    isResize++;\r\n                }\r\n                re" +
"size();\r\n            }\r\n        });\r\n        var isResize = 0;\r\n        var coun" +
"t = 0;\r\n        var resized = 0;\r\n        $(\'#layout2\').layout({\r\n            ap" +
"plyDemoStyles: true,\r\n            onresize: function () {\r\n                resiz" +
"e();\r\n                if (isResize > 1) {\r\n                    resized = 1;\r\n   " +
"             } else {\r\n                    if (count == 1 || resized == 0) {\r\n  " +
"                      $(\'#layout2 .ui-layout-center\').height($(\'#layout2 .ui-lay" +
"out-center\').height() - 18);\r\n                    }\r\n                }\r\n        " +
"        count++;\r\n            }\r\n        });\r\n        //resize重设布局;\r\n        $(w" +
"indow).resize(function (e) {\r\n            if (isResize < 10) {\r\n                " +
"isResize++;\r\n            }\r\n            resize();\r\n            e.stopPropagation" +
"();\r\n        });\r\n        function resize() {\r\n            window.setTimeout(fun" +
"ction () {\r\n                //if (mapCtlExt != null) {\r\n                //    ma" +
"pCtlExt.setHeight($(\'#mapControl\').parent().height() - 4);\r\n                //}\r" +
"\n                $(\'.center-Panel\').height($(\'#layout\').parent().height() - 20);" +
"\r\n                $(\'#gridTable\').setGridWidth(($(\'.gridPanel\').width()));\r\n    " +
"            $(\'#layout2 .ui-layout-center\').width($(\'#layout2 .ui-layout-center\'" +
").parent().width() - 10);\r\n                $(\'#layout2 .ui-layout-resizer\').widt" +
"h($(\'#layout2 .ui-layout-center\').parent().width() - 10);\r\n                $(\'#g" +
"ridTable\').setGridHeight($(window).height() - $(\'#mapControl\').height() - $(\'.pa" +
"nel-Title\').height());\r\n                $(\'#gridTable\').setGridHeight($(\'#layout" +
"2 .ui-layout-center\').height() - 60 - 60);\r\n                $(\'.ui-jqgrid-bdiv\')" +
".height($(\'#layout2 .ui-layout-center\').height() - 60 - 60);\r\n                $(" +
"\'#itemTree\').setTreeHeight($(window).height() - 52);\r\n                $(\'#layout" +
"2 .ui-layout-center\').height($(\'#layout2\').height() - $(\'#layout2 .ui-layout-nor" +
"th\').height() - 15);\r\n                $(\'#gridTable\').setGridHeight($(\'#layout2 " +
".ui-layout-center\').height() - 115);\r\n                $(\'#layout2 .ui-layout-cen" +
"ter\').css(\'overflow\', \'hidden\');\r\n            }, 200);\r\n        };\r\n        $(wi" +
"ndow).resize();\r\n        $(\'#layout2 .ui-layout-center\').height($(\'#layout2 .ui-" +
"layout-center\').height() - 18);\r\n        layout2NorthH = $(\"#layout2 .ui-layout-" +
"north\").height();\r\n    }\r\n    //加载表格\r\n    function GetGrid() {\r\n        var sele" +
"ctedRowIndex = 0;\r\n        var queryJson = {};\r\n        queryJson[\'UNIFIEDCODE\']" +
" = keyValue;\r\n        var $gridTable = $(\'#gridTable\');\r\n        $gridTable.jqGr" +
"id({\r\n            autowidth: true,\r\n            height: $(window).height() - 520" +
",\r\n            postData: { queryJson: JSON.stringify(queryJson) },\r\n            " +
"url: \"../../api/TBL_HAZARDBASICINFOApi/GetSingleFillListJson\",\r\n            data" +
"type: \"json\",\r\n            loadBeforeSend: function (a) {\r\n                if (a" +
"uthToken != null)\r\n                    a.setRequestHeader(\"Authorization\", authT" +
"oken);\r\n            },\r\n            colModel: [\r\n                { label: \'灾害点编号" +
"\', name: \'UNIFIEDCODE\', index: \'UNIFIEDCODE\', width: 250, align: \'left\', sortabl" +
"e: true },\r\n                { label: \'灾害点名称\', name: \'DISASTERNAME\', index: \'DISA" +
"STERNAME\', width: 300, align: \'left\', sortable: true },\r\n                { label" +
": \'灾害点类型\', name: \'DISASTERTYPE\', index: \'DISASTERTYPE\', width: 200, align: \'left" +
"\', sortable: true},\r\n                { label: \'经度\', name: \'LONGITUDE\', index: \'L" +
"ONGITUDE\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n         " +
"       { label: \'纬度\', name: \'LATITUDE\', index: \'LATITUDE\', width: 100, align: \'l" +
"eft\', sortable: true, hidden: true },\r\n                { label: \'地理位置\', name: \'L" +
"OCATION\', index: \'LOCATION\', width: 500, align: \'left\', sortable: true },\r\n     " +
"           { label: \'修改日期\', name: \'MODIFYTIME\', index: \'MODIFYTIME\', width: 100," +
" align: \'left\', sortable: true, hidden: true }\r\n\r\n            ],\r\n            vi" +
"ewrecords: true,\r\n            rowNum: 30,\r\n            rowList: [30, 50, 100],\r\n" +
"            pager: \"#gridPager\",\r\n            sortname: \'UNIFIEDCODE\',\r\n        " +
"    sortorder: \'desc\',\r\n            rownumbers: true,\r\n            shrinkToFit: " +
"true,\r\n            gridview: true,\r\n            onSelectRow: function (rowId, st" +
"atus) {\r\n                selectedRowIndex = $(\'#\' + this.id).getGridParam(\'selro" +
"w\');\r\n                var dt = $gridTable.jqGrid(\"getRowData\", rowId);\r\n        " +
"        var data = [];\r\n                data.push({ longitude: dt.LONGITUDE, lat" +
"itude: dt.LATITUDE });\r\n            },\r\n            gridComplete: function () {\r" +
"\n                $(\'#\' + this.id).setSelection(selectedRowIndex, false);\r\n      " +
"      }\r\n        });\r\n    }\r\n\r\n    //获取各表单地址\r\n    function GetUrl_Form(v) {\r\n   " +
"     var url = null;\r\n        switch (v) {\r\n            case \"001\":\r\n           " +
"     url = \"/JXGeoManage/TBL_LANDSLIP/TBL_LANDSLIPForm\";\r\n                break;" +
"\r\n            case \"002\":\r\n                url = \"/JXGeoManage/TBL_AVALANCHE/TBL" +
"_AVALANCHEForm\";\r\n                break;\r\n            case \"003\":\r\n             " +
"   url = \"/JXGeoManage/TBL_DEBRISFLOW/TBL_DEBRISFLOWForm\";\r\n                brea" +
"k;\r\n            case \"004\":\r\n                url = \"/JXGeoManage/TBL_LANDSETTLEM" +
"ENT/TBL_LANDSETTLEMENTForm\";\r\n                break;\r\n            case \"005\":\r\n " +
"               url = \"/JXGeoManage/TBL_COLLAPSE/TBL_COLLAPSEForm\";\r\n            " +
"    break;\r\n            case \"006\":\r\n                url = \"/JXGeoManage/TBL_LAN" +
"DCRACK/TBL_LANDCRACKForm\";\r\n                break;\r\n            case \"007\":\r\n   " +
"             url = \"/JXGeoManage/TBL_SLOPE/TBL_SLOPEForm\";\r\n                brea" +
"k;\r\n            default:\r\n                break;\r\n        }\r\n        return url;" +
"\r\n    }\r\n\r\n    ////查询表格函数\r\n    //function SearchEvent() {\r\n    //    var queryJs" +
"on = $(\"#filter-form\").getWebControls();\r\n    //    queryJson[\"JCDBH\"] = JCDBH;\r" +
"\n    //    $(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n    //        postData: { q" +
"ueryJson: JSON.stringify(queryJson) },\r\n    //        url: \"../../MonitorManage/" +
"TBL_JC_MINESOIL/GetPageListJson\",\r\n    //        page: 1\r\n    //    }).trigger(\'" +
"reloadGrid\');\r\n    //}\r\n\r\n    //编辑\r\n    function btn_edit() {\r\n        //var key" +
"Value = $(\"#gridTable\").jqGridRowValue(\'UNIFIEDCODE\');\r\n        var UNIFIEDCODE " +
"= $(\"#gridTable\").jqGridRowValue(\'UNIFIEDCODE\');\r\n        //var type = $(\"#gridT" +
"able\").jqGridRowValue(\'DISASTERTYPE\');\r\n        if (checkedRow(UNIFIEDCODE)) {\r\n" +
"            dialogOpen({\r\n                id: \'AddForm\',\r\n                title:" +
" \'查看\' + \'表\',\r\n                url: GetUrl_Form(types) + \"?keyValue=\" + UNIFIEDCO" +
"DE + \"&details=01&flag=false\",\r\n                width: \'1300px\',\r\n              " +
"  height: \"\",\r\n                callBack: function (iframeId) {\r\n                " +
"    getInfoTop().frames[iframeId].AcceptClick();\r\n                }\r\n           " +
" })\r\n        }\r\n    }\r\n\r\n</script>\r\n");

});

WriteLiteral(@"<style>
  .ui-layout-center {
       overflow-x: hidden !important;
    }
    .ui-layout-resizer {
        background-color:#f0f3f4 !important;
    }
    .ui-jqgrid .ui-jqgrid-htable th {
        line-height:20px;
        padding:5px 0;
    }
    .titlePanel {
    height:60px;
    }
    #gridTable td {
        border-right: 1px solid #ccc !important;
    }
    #gridTable tr:nth-child(odd) {
        /*background: #DCDCDC;*/
    }
</style>
<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n     ");

WriteLiteral("\r\n    <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"center-Panel\"");

WriteLiteral(" style=\"height: 100%;\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout2\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n          \r\n          <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(">\r\n                    ");

WriteLiteral("\r\n                       <div");

WriteLiteral(" class=\"toolbar2\"");

WriteLiteral(" style=\"float:right;margin-right:30px;height:40px;line-height:40px;display:flex;a" +
"lign-items: center;\"");

WriteLiteral(">\n                                <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\n                       ");

WriteLiteral("\n                                    <a");

WriteLiteral(" id=\"lr_detail\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_edit()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>详情</a>\n                                  ");

WriteLiteral("\n                                  ");

WriteLiteral("\n                                </div>\n                        </div>\r\n         " +
"         </div>\r\n                  <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                      <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                    <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n                   </div>\r\n              </div>\r\n          </div>\r\n     " +
"  </div>\r\n    </div>\r\n </div>");

        }
    }
}
#pragma warning restore 1591
