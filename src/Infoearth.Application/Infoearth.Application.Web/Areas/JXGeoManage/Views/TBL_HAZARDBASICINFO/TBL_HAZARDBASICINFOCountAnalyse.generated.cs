#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_HAZARDBASICINFO/TBL_HAZARDBASICINFOCountAnalyse.csh" +
        "tml")]
    public partial class _Areas_JXGeoManage_Views_TBL_HAZARDBASICINFO_TBL_HAZARDBASICINFOCountAnalyse_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_HAZARDBASICINFO_TBL_HAZARDBASICINFOCountAnalyse_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\TBL_HAZARDBASICINFOCountAnalyse.cshtml"
  
    ViewBag.Title = "列表页面";
    Layout = "~/Views/Shared/_IndexMap.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<style>\r\n    body, html {\r\n        background: #fff;\r\n        margin: 0;\r\n     " +
"   height: 100%;\r\n    }\r\n\r\n    .ui-layout-center {\r\n        overflow-x: hidden !" +
"important;\r\n    }\r\n\r\n    .ui-layout-resizer {\r\n        background-color: #f0f3f4" +
" !important;\r\n    }\r\n\r\n    .diaochabiao {\r\n        text-align: center;\r\n    }\r\n\r" +
"\n\r\n    .table-top, .table-main, table-bottom {\r\n        margin: 0 20px;\r\n    }\r\n" +
"\r\n        .table-main td {\r\n            border: 1px solid #D6D6D6;\r\n        }\r\n\r" +
"\n    .formValue input[type=text] {\r\n        border: 0;\r\n        border-bottom: 1" +
"px solid #E0E0E0;\r\n    }\r\n\r\n    .diaochabiao .formValue textarea {\r\n        /*he" +
"ight:80px;*/\r\n        border: none;\r\n    }\r\n\r\n    .diaochabiao .formTitle {\r\n   " +
"     text-align: center !important;\r\n        /*width: 135px !important;*/\r\n     " +
"   background-color: #F5F5F5;\r\n        white-space: inherit;\r\n    }\r\n\r\n    .diao" +
"chabiao .formCategory {\r\n        font-size: 15px;\r\n        /*color: #3F549E;*/\r\n" +
"    }\r\n\r\n    .diaochabiao .required {\r\n        color: red;\r\n        padding-left" +
": 5px;\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .diaochabiao select {\r\n   " +
"     border: none;\r\n    }\r\n\r\n    .diaochabiao label {\r\n        margin: 0 2px;\r\n " +
"   }\r\n\r\n    #TOWN {\r\n        display: none;\r\n    }\r\n\r\n    #tab_content {\r\n      " +
"  overflow-x: auto;\r\n        overflow-y: hidden;\r\n    }\r\n\r\n        #tab_content " +
"> div {\r\n            height: 100%;\r\n        }\r\n\r\n    #TjItem ul {\r\n        paddi" +
"ng-left: 10px;\r\n        width: 242px;\r\n    }\r\n\r\n    #TjItem > ul > li {\r\n       " +
" float: left;\r\n        padding: 5px 0;\r\n    }\r\n\r\n        #TjItem > ul > li:first" +
"-child {\r\n            padding-right: 0; /*5px;*/\r\n        }\r\n\r\n        #TjItem >" +
" ul > li > span, #TjItem > ul > li > div, #TjItem > ul > li > input {\r\n         " +
"   display: inline-block;\r\n            border-radius: 0;\r\n        }\r\n\r\n        #" +
"TjItem > ul > li > span {\r\n            width: 82px;\r\n        }\r\n\r\n    #TjItem .u" +
"i-select {\r\n        width: 145px;\r\n        vertical-align: middle;\r\n        marg" +
"in-top: -3px;\r\n    }\r\n\r\n    #deviceTypeListA tr > td > label {\r\n        margin: " +
"10px 20px 0px 5px;\r\n    }\r\n\r\n    label {\r\n        min-width: 77px;\r\n    }\r\n\r\n   " +
" #myModal2 .spans {\r\n        float: left;\r\n        padding: 0px 10px;\r\n        w" +
"idth: 9%;\r\n        text-align: center;\r\n        height: 28px;\r\n        line-heig" +
"ht: 28px;\r\n    }\r\n\r\n    #myModal2 .divselect {\r\n        width: 16%;\r\n    }\r\n\r\n  " +
"  .ui-select-text {\r\n        border-radius: 4px;\r\n    }\r\n\r\n    #gridTableCount t" +
"d, #gridTableA td {\r\n        border-right: 1px solid #ccc !important;\r\n    }\r\n\r\n" +
"    .ui-jqgrid-btable tr:nth-child(odd) {\r\n        background: #DCDCDC;\r\n    }\r\n" +
"\r\n    .nav-tabs a:hover {\r\n        border-bottom: none;\r\n    }\r\n\r\n    .ui-widget" +
"-content span > a {\r\n        color: #337ab7;\r\n        text-decoration: underline" +
";\r\n    }\r\n\r\n\r\n    .lea-tabs {\r\n        height: 38px;\r\n        width: 100%;\r\n    " +
"    background: #fff;\r\n        border-bottom: solid #ccc 1px;\r\n        padding-l" +
"eft: 15px;\r\n    }\r\n\r\n        .lea-tabs .tabs-right-tool {\r\n            position:" +
" absolute;\r\n            width: 236px !important;\r\n            height: 37px;\r\n   " +
"         right: 0;\r\n            background-color: #fff;\r\n        }\r\n\r\n        .l" +
"ea-tabs .roll-nav {\r\n            float: left;\r\n            width: 20px;\r\n       " +
"     height: 37px;\r\n            line-height: 37px;\r\n            text-align: cent" +
"er;\r\n            color: #878EC3;\r\n            z-index: 2;\r\n            backgroun" +
"d: #fff;\r\n            border: 0;\r\n            outline: 0;\r\n            cursor: p" +
"ointer;\r\n        }\r\n\r\n            .lea-tabs .roll-nav:hover {\r\n                c" +
"olor: #4c58a4;\r\n            }\r\n\r\n        .lea-tabs .user-menu {\r\n            flo" +
"at: left;\r\n            padding-top: 4px;\r\n            margin-left: 5px;\r\n       " +
"     cursor: pointer;\r\n        }\r\n\r\n    .menuTabs {\r\n        width: 100000px;\r\n " +
"   }\r\n\r\n    .menuTab i {\r\n        margin-right: 4px;\r\n        font-size: 13px;\r\n" +
"    }\r\n\r\n    .page-tabs-content .tab_close {\r\n        width: 12px;\r\n        heig" +
"ht: 13px;\r\n        position: absolute;\r\n        top: 17px;\r\n        right: 13px;" +
"\r\n        cursor: pointer;\r\n        display: block;\r\n        background: url(../" +
"../../../Content/adminDefault/img/tab_close.png) no-repeat;\r\n    }\r\n\r\n        .p" +
"age-tabs-content .tab_close:hover {\r\n            background-position: 0 -12px;\r\n" +
"        }\r\n\r\n    .page-tabs-content {\r\n        overflow: hidden;\r\n        height" +
": 38px;\r\n        float: left;\r\n    }\r\n\r\n        .page-tabs-content .menuTab {\r\n " +
"           display: block;\r\n            float: left;\r\n            text-decoratio" +
"n: none;\r\n            color: #878EC3;\r\n            border: 1px solid #ccc;\r\n    " +
"        height: 30px;\r\n            line-height: 30px;\r\n            margin-top: 8" +
"px;\r\n            font-size: 14px;\r\n            margin-right: 8px;\r\n            p" +
"adding: 0 22px 0 10px;\r\n        }\r\n\r\n            .page-tabs-content .menuTab.act" +
"ive {\r\n                border-bottom: 0;\r\n                background: #d5edfe;\r\n" +
"                font-weight: 700;\r\n                border-top: solid #4c58a4 2px" +
";\r\n                color: #4c58a4;\r\n            }\r\n</style>\r\n\r\n<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"ui-layout-west\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"west-Panel\"");

WriteLiteral(" style=\"margin: 0;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" id=\"leftPanel\"");

WriteLiteral(">\r\n                <ul");

WriteLiteral(" class=\"nav nav-tabs\"");

WriteLiteral(" style=\"width: 100%; background-color: rgba(236, 247, 255, 1); padding-top: 0;\"");

WriteLiteral(">\r\n                    <li");

WriteLiteral(" class=\"active\"");

WriteLiteral("><a");

WriteLiteral(" href=\"#JCTJ\"");

WriteLiteral(" data-toggle=\"tab\"");

WriteLiteral(">统计分析</a></li>\r\n                    <li><a");

WriteLiteral(" id=\"li_BTGL\"");

WriteLiteral(" href=\"#YBCTJ\"");

WriteLiteral(" data-toggle=\"tab\"");

WriteLiteral(">已保存报表</a></li>\r\n                </ul>\r\n                <div");

WriteLiteral(" id=\"myTabContent\"");

WriteLiteral(" class=\"tab-content\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"tab-pane fade in active\"");

WriteLiteral(" id=\"JCTJ\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" id=\"TjItem\"");

WriteLiteral(" style=\"overflow: auto;\"");

WriteLiteral(">\r\n                            <p");

WriteLiteral(" style=\"font-size: 14px; font-family: 微软雅黑; color: #000; font-weight: bold; paddi" +
"ng-left: 10px; padding-top: 8px;\"");

WriteLiteral(">行政区划:</p>\r\n                            <ul>\r\n                                <li" +
">\r\n                                    <div");

WriteLiteral(" id=\"districtsCtls\"");

WriteLiteral("></div>\r\n                                </li>\r\n                                <" +
"div");

WriteLiteral(" style=\"clear: both;\"");

WriteLiteral("></div>\r\n                            </ul>\r\n                            <p");

WriteLiteral(" style=\"font-size: 14px; font-family: 微软雅黑; color: #000; font-weight: bold; paddi" +
"ng-left: 10px;\"");

WriteLiteral(">统计单位:</p>\r\n                            <ul>\r\n                                <li" +
">\r\n                                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">单位:</span><div");

WriteLiteral(" id=\"level\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                                </li>\r\n                            </ul>" +
"\r\n                            <div");

WriteLiteral(" style=\"clear: both;\"");

WriteLiteral("></div>\r\n                            <p");

WriteLiteral(" style=\"font-size: 14px; font-family: 微软雅黑; color: #000; font-weight: bold; paddi" +
"ng-left: 10px;\"");

WriteLiteral(">筛选条件:</p>\r\n                            <ul>\r\n                                <li" +
">\r\n                                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">项目名称:</span><div");

WriteLiteral(" id=\"ISGLPROJECT\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" />\r\n                                </li>\r\n                                <li><" +
"span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">重大/特大点:</span><div");

WriteLiteral(" id=\"ZHDLX\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" />\r\n                                </li>\r\n                            </ul>\r\n\r\n" +
"\r\n                            <li");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n                                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">是否隐患点:</span><div");

WriteLiteral(" id=\"HIDDENDANGER\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                            </li>\r\n                            <li");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n                                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">灾害点类型:</span><div");

WriteLiteral(" id=\"DISASTERTYPE\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                            </li>\r\n                            ");

WriteLiteral("\r\n                            <li");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n                                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">目前稳定程度:</span><div");

WriteLiteral(" id=\"CURRENTSTABLESTATUS\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                            </li>\r\n                            <li");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n                                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">今后变化趋势:</span><div");

WriteLiteral(" id=\"STABLETREND\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                            </li>\r\n                            <li");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n                                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">灾害点规模:</span><div");

WriteLiteral(" id=\"DISAATERSIZE\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                            </li>\r\n                           <li");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n                                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">监测建议:</span><div");

WriteLiteral(" id=\"MONITORSUGGESTION\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                            </li>\r\n                            <li");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n                                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">防治建议:</span><div");

WriteLiteral(" id=\"TREATMENTSUGGESTION\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                            </li>\r\n                           \n         " +
"                      \r\n\r\n                        <li");

WriteLiteral(" style=\"display: none\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">重要隐患点:</span><div");

WriteLiteral(" id=\"ISIMPORTANT\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                        </li>\r\n\r\n                            <div");

WriteLiteral(" style=\"clear: both;\"");

WriteLiteral("></div>\r\n\r\n\r\n                            <p");

WriteLiteral(" style=\"font-size: 14px; font-family: 微软雅黑; color: #000; font-weight: bold; paddi" +
"ng-left: 10px; padding-top: 8px;\"");

WriteLiteral(">统计内容:</p>\r\n                            <ul>\r\n                                <li" +
">\r\n                                    <div");

WriteLiteral(" style=\"line-height: 28px; display: none;\"");

WriteLiteral(">\r\n                                        <p>\r\n                                 " +
"           <label");

WriteLiteral(" style=\"margin: 0; min-width: 0\"");

WriteLiteral(">\r\n                                                <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" id=\"isSelectAllDeviceType\"");

WriteLiteral(" name=\"allselect\"");

WriteLiteral(" checked>全选</label>\r\n                                            <label");

WriteLiteral(" style=\"margin: 0; min-width: 0\"");

WriteLiteral(">\r\n                                                <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" id=\"invertselect\"");

WriteLiteral(" name=\"noselect\"");

WriteLiteral(">反选</label>\r\n                                        </p>\r\n                      " +
"                  <div");

WriteLiteral(" style=\"display: flex; align-items: center; flex-wrap: wrap;\"");

WriteLiteral(">\r\n                                            <div");

WriteLiteral(" class=\"lableall\"");

WriteLiteral(" style=\"display: flex; align-items: center; flex-wrap: wrap;\"");

WriteLiteral(">\r\n                                                <label>\r\n                     " +
"                               <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"zhd\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(">灾害点</label>\r\n                                                <label>\r\n          " +
"                                          <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"yhd\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(">隐患点</label>\r\n                                                <label>\r\n          " +
"                                          <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"zhlx\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(">灾害类型</label>\r\n\r\n                                                ");

WriteLiteral("\r\n                                                    <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"wh\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(">造成危害</label>\r\n                                                <label>\r\n         " +
"                                           <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"wx\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(">潜在威胁</label>\r\n                                                <label>\r\n         " +
"                                           <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"mq\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(">目前稳定程度</label>\r\n                                                <label>\r\n       " +
"                                             <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"jh\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(">今后变化趋势</label>\r\n                                                <label><input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"jc\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(">监测建议</label>\r\n                                                <label>\r\n         " +
"                                           <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"fz\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(@">防治建议</label>
                                           
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li");

WriteLiteral(" style=\"float: none; width: 100%;\"");

WriteLiteral(">\r\n                                    <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(" style=\"width:120px;\"");

WriteLiteral(">统计内容固定模板:</span><div");

WriteLiteral(" id=\"gdmb\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" style=\"width:212px;margin:5px 0px;\"");

WriteLiteral("></div>\r\n                                    <a");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" href=\"javascript:;\"");

WriteLiteral(" onclick=\"StatisticeContext()\"");

WriteLiteral(" id=\"zdy\"");

WriteLiteral(">自定义统计内容</a>\r\n                                    <a");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" href=\"javascript:;\"");

WriteLiteral(" onclick=\"ComStatisticeContext()\"");

WriteLiteral(">组合统计条件</a>\r\n                                </li>\r\n                             " +
"   <li>\r\n                                    <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" href=\"javascript:;\"");

WriteLiteral(" onclick=\"SearchEvent()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>统计</a>\r\n                                </li>\r\n                             " +
"   <div");

WriteLiteral(" style=\"clear: both;\"");

WriteLiteral("></div>\r\n                            </ul>\r\n                            <div");

WriteLiteral(" style=\"clear: both;\"");

WriteLiteral("></div>\r\n                        </div>\r\n                    </div>\r\n            " +
"        <div");

WriteLiteral(" class=\"tab-pane fade in\"");

WriteLiteral(" id=\"YBCTJ\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" id=\"YBCTJ_UI\"");

WriteLiteral(" style=\"overflow: auto;\"");

WriteLiteral("></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n" +
"        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"layout2\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"ui-layout-north\"");

WriteLiteral(" style=\"height: 300px;\"");

WriteLiteral(" id=\"ui_map\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" id=\"mapControl\"");

WriteLiteral(" style=\"height: 300px;\"");

WriteLiteral("></div>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_grid\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" id=\"tabListContentDiv\"");

WriteLiteral("></div>\r\n            <div");

WriteLiteral(" id=\"tab_content\"");

WriteLiteral(" class=\"tab-content\"");

WriteLiteral(" style=\"width: 100%; margin-top: 6px;\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"tab-pane fade in active\"");

WriteLiteral(" id=\"TJJG\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                        <table");

WriteLiteral(" id=\"gridTableCount\"");

WriteLiteral("></table>\r\n                    </div>\r\n                </div>\r\n                <d" +
"iv");

WriteLiteral(" class=\"tab-pane fade in\"");

WriteLiteral(" id=\"TJTB\"");

WriteLiteral(" style=\"width: 100%; position: relative;\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" style=\"width: 10%; float: right;\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" id=\"TBtype\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" style=\"width: 140px; display: inline-block; position: absolute; z-index: 10; rig" +
"ht: 10px;\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n                    </div>\r\n                    <div");

WriteLiteral(" id=\"chartsdata\"");

WriteLiteral(" style=\"width: 100%;\"");

WriteLiteral("></div>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"tab-pane fade in\"");

WriteLiteral(" id=\"TJSJCX\"");

WriteLiteral(" style=\"width: 100%; position: relative;\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                        <table");

WriteLiteral(" id=\"gridTablePoint\"");

WriteLiteral("></table>\r\n                        <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n" +
"        </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n\r\n    <div");

WriteLiteral(" class=\"modal fade\"");

WriteLiteral(" id=\"myModal\"");

WriteLiteral(" tabindex=\"-1\"");

WriteLiteral(" role=\"dialog\"");

WriteLiteral(" aria-labelledby=\"myModalLabel\"");

WriteLiteral(" aria-hidden=\"true\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"modal-dialog\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"modal-content\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"modal-header\"");

WriteLiteral(">\r\n                    <button");

WriteLiteral(" type=\"button\"");

WriteLiteral(" class=\"close\"");

WriteLiteral(" data-dismiss=\"modal\"");

WriteLiteral(" aria-hidden=\"true\"");

WriteLiteral(">\r\n                        &times;\n               \r\n                    </button>" +
"\r\n                    <h4");

WriteLiteral(" class=\"modal-title\"");

WriteLiteral(" id=\"myModalLabel\"");

WriteLiteral(">请输入报表名称\n                </h4>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"modal-body\"");

WriteLiteral(">\r\n                    ");

WriteLiteral("\n               \r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"clo\"");

WriteLiteral(" id=\"tablename\"");

WriteLiteral(" style=\"width: 90%; line-height: 26px; border-radius: 4px;\"");

WriteLiteral(" />\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"modal-footer\"");

WriteLiteral(">\r\n                    <button");

WriteLiteral(" type=\"button\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" data-dismiss=\"modal\"");

WriteLiteral(">\r\n                        关闭\n               \r\n                    </button>\r\n   " +
"                 <button");

WriteLiteral(" type=\"button\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" onclick=\"btn_save()\"");

WriteLiteral(">\r\n                        确定保存\n               \r\n                    </button>\r\n " +
"               </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"modal fade\"");

WriteLiteral(" id=\"myModal2\"");

WriteLiteral(" tabindex=\"-1\"");

WriteLiteral(" role=\"dialog\"");

WriteLiteral(" aria-labelledby=\"myModalCondition\"");

WriteLiteral(" aria-hidden=\"true\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"modal-dialog modal-lg\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"modal-content\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"modal-header\"");

WriteLiteral(">\r\n                    <button");

WriteLiteral(" type=\"button\"");

WriteLiteral(" class=\"close\"");

WriteLiteral(" data-dismiss=\"modal\"");

WriteLiteral(" aria-hidden=\"true\"");

WriteLiteral(">\r\n                        &times;\n               \r\n                    </button>" +
"\r\n                    <h4");

WriteLiteral(" class=\"modal-title\"");

WriteLiteral(" id=\"myModalCondition\"");

WriteLiteral(">报表详情\n                </h4>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"modal-body\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" style=\"width: 100%; height: 45px; line-height: 45px; background: #fff; display: " +
"flex; align-items: center;\"");

WriteLiteral(">\r\n                        <span");

WriteLiteral(" style=\"font-size: 14px; padding-left: 20px; font-family: 微软雅黑; color: #000;\"");

WriteLiteral(">行政区划:</span>\r\n                        <div");

WriteLiteral(" id=\"districtsCtls2\"");

WriteLiteral(" style=\"padding-left: 30px; width: 90%\"");

WriteLiteral("></div>\r\n                    </div>\r\n                    <div");

WriteLiteral(" style=\"width: 100%; height: 45px; line-height: 45px; background: #fff; display: " +
"flex\"");

WriteLiteral(">\r\n                        <span");

WriteLiteral(" style=\"font-size: 14px; padding-left: 20px; font-family: 微软雅黑; color: #000;\"");

WriteLiteral(">统计条件:</span>\r\n                        <div");

WriteLiteral(" style=\"width: 90%; height: 100%; display: flex; align-items: center; padding-lef" +
"t: 30px\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(" style=\"white-space: nowrap;\"");

WriteLiteral(">统计单位:</span>\r\n                            <input");

WriteLiteral(" style=\"width: 16%; border-radius: 4px;\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"Static_Unit2\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(" />\r\n                            <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(" style=\"white-space: nowrap;\"");

WriteLiteral(">组合条件:</span>\r\n                            <input");

WriteLiteral(" style=\"width: 41%; border-radius: 4px;\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"sqlstr\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(" />\r\n                        </div>\r\n                    </div>\r\n                " +
"    <div");

WriteLiteral(" style=\"width: 100%; background: #fff; display: flex; align-items: center;\"");

WriteLiteral(">\r\n                        <span");

WriteLiteral(" style=\"font-size: 14px; padding-left: 20px; font-family: 微软雅黑; color: #000; whit" +
"e-space: nowrap;\"");

WriteLiteral(">统计内容:</span>\r\n                        <div");

WriteLiteral(" style=\"width: 90%; height: 45px; margin-left: 10px; display: flex; align-items: " +
"center; flex-wrap: wrap;\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"lableall\"");

WriteLiteral(" style=\"width: 100%; height: 45px; display: flex; align-items: center; flex-wrap:" +
" wrap; margin-left: 30px; justify-content: start;\"");

WriteLiteral(">\r\n                                <label>\r\n                                    <" +
"input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"zhd2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">灾害点</label>\r\n                                <label>\r\n                          " +
"          <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"yhd2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">隐患点</label>\r\n                                <label>\r\n                          " +
"          <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"zhlx2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">灾害类型</label>\r\n\r\n                                <label>\r\n                       " +
"             <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"zq2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">灾情等级</label>\r\n                                <label>\r\n                         " +
"           <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"xq2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">险情等级</label>\r\n                                <label>\r\n                         " +
"           <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"mq2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">目前情况</label>\r\n                                <label>\r\n                         " +
"           <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"jh2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">今后趋势</label>\r\n\r\n                                <label>\r\n                       " +
"             <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"wh2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">造成危害</label>\r\n                                <label>\r\n                         " +
"           <input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"deviceType\"");

WriteLiteral(" id=\"wx2\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(">潜在威胁</label>\r\n                            </div>\r\n                        </div>" +
"\r\n                    </div>\r\n                </div>\r\n            </div>\r\n      " +
"  </div>\r\n    </div>\r\n");

WriteLiteral("    ");

            
            #line 496 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\TBL_HAZARDBASICINFOCountAnalyse.cshtml"
Write(System.Web.Optimization.Styles.Render(
    "~/Content/styles/report.css"));

            
            #line default
            #line hidden
WriteLiteral("\n");

            
            #line 498 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\TBL_HAZARDBASICINFOCountAnalyse.cshtml"
Write(System.Web.Optimization.Scripts.Render(
    "~/Content/scripts/plugins/districts/multiDistricts.js",
    "~/Content/scripts/plugins/echarts/echarts4.min.js",
"~/Content/reportForMap.js",
  "~/Content/scripts/plugins/infoearthcustom/tabControl.js"
));

            
            #line default
            #line hidden
WriteLiteral("\n");

DefineSection("Scripts", () => {

            
            #line 504 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\TBL_HAZARDBASICINFOCountAnalyse.cshtml"
 
            
            #line default
            #line hidden
WriteLiteral("\r\n    <script>\r\n        var authToken = getAuthorizationToken();\r\n        var gro" +
"upstr = \"\";\r\n        var whereSql = \"\";\r\n        var tabCtl, excelArr;\r\n        " +
"var allXData = [];\r\n        var allYData = [];\r\n        var queryJson = {};\r\n   " +
"     var queryJson2 = {};\r\n        var showDta = [];\r\n        var colmns = [];\r\n" +
"        var isLoad = false;\r\n        var XZQHJWD = {};\r\n        var dicCol = [\r\n" +
"            { key: \'area\', value: \'行政区划\' },\r\n\r\n            { key: \'zhd\', value: " +
"\'灾害点\' },\r\n            { key: \'yhd\', value: \'隐患点\' },\r\n\r\n             { key: \'yhdh" +
"p\', value: \'滑坡\', parent: \'灾害类型\', pid: \"yhdzhlx\" },  //灾害类型\r\n            { key: \'" +
"yhdbt\', value: \'崩塌\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n            { key: \'yhdx" +
"p\', value: \'斜坡\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n            { key: \'yhdnsl\'," +
" value: \'泥石流\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n            { key: \'yhddmcj\', " +
"value: \'地面沉降\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n            { key: \'yhddlf\', v" +
"alue: \'地裂缝\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n            { key: \'yhddmtx\', va" +
"lue: \'地面塌陷\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n            // { key: \'yhdhpyhd\'" +
", value: \'滑坡隐患点\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n            //{ key: \'byhdt" +
"yhd\', value: \'崩塌隐患点\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n            //{ key: \'y" +
"hdygyhd\', value: \'遥感解译点\', parent: \'灾害类型\', pid: \"yhdzhlx\" },\r\n\r\n            //{ k" +
"ey: \'zhlx\', value: \'灾害类型\' },\r\n            { key: \'hp\', value: \'滑坡\', parent: \'灾害类" +
"型\', pid: \"zhlx\" },  //灾害类型\r\n            { key: \'bt\', value: \'崩塌\', parent: \'灾害类型\'" +
", pid: \"zhlx\" },\r\n            { key: \'xp\', value: \'斜坡\', parent: \'灾害类型\', pid: \"zh" +
"lx\" },\r\n            { key: \'nsl\', value: \'泥石流\', parent: \'灾害类型\', pid: \"zhlx\" },\r\n" +
"            { key: \'dmcj\', value: \'地面沉降\', parent: \'灾害类型\', pid: \"zhlx\" },\r\n      " +
"      { key: \'dlf\', value: \'地裂缝\', parent: \'灾害类型\', pid: \"zhlx\" },\r\n            { " +
"key: \'dmtx\', value: \'地面塌陷\', parent: \'灾害类型\', pid: \"zhlx\" },\r\n           // { key:" +
" \'hpyhd\', value: \'滑坡隐患点\', parent: \'灾害类型\', pid: \"zhlx\" },\r\n           // { key: \'" +
"btyhd\', value: \'崩塌隐患点\', parent: \'灾害类型\', pid: \"zhlx\" },\r\n           //{ key: \'ygy" +
"hd\', value: \'遥感解译点\', parent: \'灾害类型\', pid: \"zhlx\" },\r\n\r\n             { key: \'zqxx" +
"\', value: \'小型\', parent: \'灾情等级\', pid: \"zq\" },  //灾情级别\r\n             { key: \'zqzx\'" +
", value: \'中型\', parent: \'灾情等级\', pid: \"zq\" },\r\n             { key: \'zqdx\', value: " +
"\'大型\', parent: \'灾情等级\', pid: \"zq\" },\r\n             { key: \'zqtdx\', value: \'特大型\', p" +
"arent: \'灾情等级\', pid: \"zq\" },\r\n\r\n             { key: \'xqxx\', value: \'小型\', parent: " +
"\'险情等级\', pid: \"xq\" },  //险情级别\r\n             { key: \'xqzx\', value: \'中型\', parent: \'" +
"险情等级\', pid: \"xq\" },\r\n             { key: \'xqdx\', value: \'大型\', parent: \'险情等级\', pi" +
"d: \"xq\" },\r\n             { key: \'xqtdx\', value: \'特大型\', parent: \'险情等级\', pid: \"xq\"" +
" },\r\n            //{\r\n            //    key: \'mq\', value: \'目前稳定程度\', children: [\r" +
"\n            //        { key: \'mqwd\', value: \'稳定\', parent: \'目前稳定程度\', pid: \"mq\" }" +
", //目前稳定性\r\n            //        { key: \'mqqzbwd\', value: \'基本稳定\', parent: \'目前稳定程" +
"度\', pid: \"mq\" },\r\n            //        { key: \'mqbwd\', value: \'不稳定\', parent: \'目" +
"前稳定程度\', pid: \"mq\" }\r\n            //    ]\r\n            //},\r\n             { key: " +
"\'mqwd\', value: \'稳定\', parent: \'目前稳定程度\', pid: \"mq\" }, //目前稳定性\r\n             { key:" +
" \'mqqzbwd\', value: \'基本稳定\', parent: \'目前稳定程度\', pid: \"mq\" },\r\n             { key: \'" +
"mqbwd\', value: \'不稳定\', parent: \'目前稳定程度\', pid: \"mq\" },\r\n             { key: \'jhwd\'" +
", value: \'稳定\', parent: \'今后变化趋势\', pid: \"jh\" }, //今后稳定性\r\n             { key: \'jhqz" +
"bwd\', value: \'基本稳定\', parent: \'今后变化趋势\', pid: \"jh\" },\r\n             { key: \'jhbwd\'" +
", value: \'不稳定\', parent: \'今后变化趋势\', pid: \"jh\" },\r\n            //{ key: \'wh\', value" +
": \'造成危害\' },\r\n            { key: \'hhfw\', value: \'损坏房屋\', parent: \'造成危害\', pid: \"wh\"" +
" },\r\n            { key: \'hl\', value: \'毁路\', parent: \'造成危害\', pid: \"wh\" },\r\n       " +
"     { key: \'hq\', value: \'毁渠\', parent: \'造成危害\', pid: \"wh\" },\r\n\r\n            //{ k" +
"ey: \'wx\', value: \'潜在威胁\' },\r\n            { key: \'wxcc\', value: \'威胁财产/（万元）\', paren" +
"t: \'潜在威胁\', pid: \"wx\" },\r\n            { key: \'wxrk\', value: \'威胁人口/（人）\', parent: \'" +
"潜在威胁\', pid: \"wx\" },\r\n\r\n\r\n            { key: \'jcms\', value: \'定期目视监测\', parent: \'监测" +
"建议\', pid: \"jc\" },  //灾情\r\n            { key: \'jcss\', value: \'安装建议监测设施\', parent: \'" +
"监测建议\', pid: \"jc\" },\r\n            { key: \'jcdm\', value: \'地面位移监测\', parent: \'监测建议\'," +
" pid: \"jc\" },\r\n            { key: \'jcsb\', value: \'深部位移监测\', parent: \'监测建议\', pid: " +
"\"jc\" },\r\n\r\n             { key: \'fzqcqf\', value: \'群测群防\', parent: \'防治建议\', pid: \"fz" +
"\" },  //险情\r\n             { key: \'fzzyjc\', value: \'专业监测\', parent: \'防治建议\', pid: \"f" +
"z\" },\r\n             { key: \'fzbrbq\', value: \'搬迁避让\', parent: \'防治建议\', pid: \"fz\" }," +
"\r\n             { key: \'fzgczl\', value: \'工程治理\', parent: \'防治建议\', pid: \"fz\" }\r\n\r\n  " +
"      ];\r\n\r\n        var dicJson = [\r\n               { key: \'灾害点名称\', value: \'DISA" +
"STERNAME\' },\r\n               { key: \'灾害点编号\', value: \'UNIFIEDCODE\' },\r\n          " +
"      { key: \'灾害点类型\', value: \'DISASTERTYPE\' },\r\n                { key: \'省\', valu" +
"e: \'PROVINCENAME\' },\r\n                { key: \'市\', value: \'CITYNAME\' },\r\n        " +
"        { key: \'县\', value: \'COUNTYNAME\' },\r\n                { key: \'乡镇\', value: " +
"\'TOWNNAME\' },\r\n                { key: \'地理位置\', value: \'LOCATION\' },\r\n            " +
"    { key: \'经度\', value: \'LONGITUDE\' },\r\n                { key: \'纬度\', value: \'LAT" +
"ITUDE\' },\r\n                { key: \'野外编号\', value: \'OUTDOORCODE\' },\r\n             " +
"   { key: \'室内编号\', value: \'INDOORCODE\' },\r\n                { key: \'灾害等级\', value: " +
"\'DISASTERLEVEL\' },\r\n                { key: \'险情等级\', value: \'DANGERLEVEL\' },\r\n    " +
"            { key: \'地下水类型\', value: \'GROUNDWATERTYPE\' },\r\n                { key: " +
"\'防治建议\', value: \'TREATMENTSUGGESTION\' },\r\n                { key: \'构造部位\', value: \'" +
"TECTONICREGION\' },\r\n                { key: \'监测建议\', value: \'MONITORSUGGESTION\' }," +
"\r\n                { key: \'今后变化趋势\', value: \'STABLETREND\' },\r\n                { ke" +
"y: \'目前稳定程度\', value: \'CURSTABLESTATUS\' },\r\n                { key: \'威胁财产\', value: " +
"\'THREATENASSETS\' },\r\n                { key: \'威胁人口\', value: \'THREATENPEOPLE\' },\r\n" +
"                { key: \'隐患点\', value: \'HIDDENDANGER\' },\r\n                { key: \'" +
"毁坏房屋\', value: \'DESTROYEDHOME\' },\r\n                { key: \'毁路\', value: \'DESTROYED" +
"ROAD\' },\r\n                { key: \'毁渠\', value: \'DESTROYEDCANAL\' },\r\n             " +
"   { key: \'X\', value: \'X\' },\r\n                { key: \'Y\', value: \'Y\' },\r\n       " +
"         { key: \'Z\', value: \'Z\' }\r\n        ];\r\n        $(function () {\r\n        " +
"    InitializePage();\r\n            WriteAndDrop();\r\n            InitialzieCombox" +
"();\r\n            Initialize();\r\n            tabCtl = $(\"#tabListContentDiv\").tab" +
"CtlInit({ hasReport: true, toolWidth: 270 });\r\n            GetMapData();\r\n      " +
"      GetGrid_Count(\"gridTableCount\", \"chartsdata\", \"TBtype\");\r\n            //初始" +
"化报表\r\n            $(\'#YBCTJ_UI\').report({\r\n                module: \'TBL_HAZARDBAS" +
"ICINFOCountAnalyse\',\r\n                viewReport: function (data) {\r\n           " +
"         //查看报表的回调事件\r\n                    if (data != null) {\r\n                 " +
"       $(\"#gridTableCount\").clearGridData();\r\n                        queryJson " +
"= JSON.parse(data.QUERYSTRING);\r\n                        showDta = JSON.parse(da" +
"ta.CONDITION);\r\n                        changeTabs(queryJson);\r\n                " +
"        var str = $(\".grid_part:visible:first\").children().text();\r\n            " +
"            if (isLoad == false) {\r\n                            GetGrid_Count(\"g" +
"ridTableCount\", \"chartsdata\", \"TBtype\");\r\n                            isLoad = t" +
"rue;\r\n                        }\r\n                        Search(\"gridTableCount\"" +
", \"chartsdata\", \"TBtype\", str);\r\n                    }\r\n                },\r\n    " +
"            ViewModal: function (data) {\r\n                    if (data != null) " +
"{\r\n                        queryJson = JSON.parse(data.QUERYSTRING);\r\n          " +
"              var district = $(\"#districtsCtls2\").mulDistrictsCtl({\r\n           " +
"                 provinceId: queryJson.PROVINCE,\r\n                            se" +
"lectProviceId: queryJson.PROVINCE,\r\n                            selectCityId: qu" +
"eryJson.CITY,\r\n                            selectCounty: queryJson.COUNTY,\r\n    " +
"                        type: \'B\',\r\n                        });\r\n               " +
"         $(\"#districtsCtls2 .ui-select\").attr(\"disabled\", \"disabled\");\r\n        " +
"                $(\"#Static_Unit2\").val(queryJson.level);\r\n                      " +
"  var tmp = [\"jh\", \"mq\", \"wh\", \"wx\", \"xq\", \"yhd\", \"zhd\", \"zhlx\", \"zq\"];\r\n       " +
"                 for (var i = 0; i < tmp.length; i++) {\r\n                       " +
"     if (queryJson[tmp[i]] == 1) {\r\n                                $(\"#\" + tmp[" +
"i] + \"2\").attr(\"checked\", \"checked\");\r\n                            }\r\n          " +
"                  // else {\r\n                            //    $(\"#\" + tmp[i] + " +
"\"2\").attr(\"checked\", \"false\");\r\n                            //}\r\n               " +
"         }\r\n                        if (queryJson.UnionStatisticsSql) {\r\n       " +
"                     var sqlstr = CreplaceE(queryJson.UnionStatisticsSql);\r\n    " +
"                        $(\"#sqlstr\").val(sqlstr);\r\n                        } els" +
"e {\r\n                            $(\"#sqlstr\").val(\"\");\r\n                        " +
"}\r\n                        $(\"#myModal2\").modal(\"show\");\r\n                    }\r" +
"\n                },\r\n                success: function (data) {\r\n               " +
"     $(\"#myModal\").modal(\"hide\");\r\n                }\r\n            });\r\n         " +
"   $(\"#li_BTGL\").click(function () {\r\n                if ($(\"#YBCTJ_UI .linkName" +
"\")) {\r\n                    $(\"#YBCTJ_UI .linkName\").eq(0).click();\r\n            " +
"    }\r\n            });\r\n\r\n            //全选\r\n            $(\'#isSelectAllDeviceTyp" +
"e\').click(function () {\r\n                var checked = $(this)[0].checked;\r\n    " +
"            $(\"input[name=\'deviceType\']\").each(function () {\r\n                  " +
"  $(this)[0].checked = checked;\r\n                });\r\n                if (checke" +
"d == true) {\r\n                    $(\"#invertselect\")[0].checked = false;\r\n      " +
"          }\r\n\r\n            });\r\n\r\n            //反选\r\n            $(\'#invertselect" +
"\').click(function () {\r\n                var checked = $(this)[0].checked;\r\n     " +
"           $(\"input[name=\'deviceType\']\").each(function () {\r\n                   " +
" $(this)[0].checked = !checked;\r\n                });\r\n                if (checke" +
"d == true) {\r\n                    $(\"#isSelectAllDeviceType\")[0].checked = false" +
";\r\n                }\r\n            });\r\n        });\r\n\r\n        function CreplaceE" +
"(UnionStatisticsSql) {\r\n            for (var i = 0; i < dicJson.length; i++) {\r\n" +
"                var reg1 = new RegExp(dicJson[i].value, \"g\");\r\n                U" +
"nionStatisticsSql = UnionStatisticsSql.replace(reg1, dicJson[i].key);\r\n         " +
"   }\r\n            return UnionStatisticsSql\r\n        }\r\n\r\n        //初始化页面\r\n     " +
"   function InitializePage() {\r\n            $(\'#ui_map\').height($(window).height" +
"() * 0.53);\r\n            $(\'#mapControl\').height($(window).height() * 0.53);\r\n  " +
"          //layout布局\r\n            $(\'#layout\').layout({\r\n                applyDe" +
"moStyles: true,\r\n                west__size: 260,\r\n                onresize: fun" +
"ction () {\r\n                    if (isResize < 10) {\r\n                        is" +
"Resize++;\r\n                    }\r\n                    resize();\r\n               " +
" }\r\n            });\r\n            var isResize = 0;\r\n            var count = 0;\r\n" +
"            var resized = 0;\r\n            $(\'#layout2\').layout({\r\n              " +
"  applyDemoStyles: true,\r\n                onresize: function () {\r\n             " +
"       resize();\r\n                    if (isResize > 1) {\r\n                     " +
"   resized = 1;\r\n                    } else {\r\n                        if (count" +
" == 1 || resized == 0) {\r\n                            $(\'#layout2 .ui-layout-cen" +
"ter\').height($(\'#layout2 .ui-layout-center\').height() - 18);\r\n                  " +
"      }\r\n                    }\r\n                    count++;\r\n                }\r" +
"\n            });\r\n            //resize重设布局;\r\n            $(window).resize(functi" +
"on (e) {\r\n                if (isResize < 10) {\r\n                    isResize++;\r" +
"\n                }\r\n                resize();\r\n                e.stopPropagation" +
"();\r\n            });\r\n\r\n            function resize() {\r\n                window." +
"setTimeout(function () {\r\n                    if (mapCtlExt) {\r\n                " +
"        mapCtlExt.setHeight($(\'#mapControl\').parent().height() - 4);\r\n          " +
"          }\r\n                    $(\'#gridTableCount\').setGridWidth($(\'.gridPanel" +
"\').width() - 5);\r\n                    $(\'#gridTablePoint\').setGridWidth($(\'.grid" +
"Panel:eq(1)\').width() - 5);\r\n                    $(\'#layout2 .ui-layout-center\')" +
".width($(\'#layout2 .ui-layout-center\').parent().width());\r\n                    $" +
"(\'#layout2 .ui-layout-resizer\').width($(\'#layout2 .ui-layout-center\').parent().w" +
"idth());\r\n                    $(\'#gridTableCount\').setGridHeight($(window).heigh" +
"t() - $(\'#mapControl\').height() - $(\'#tabListContentDiv\').height() - $(\".ui-jqgr" +
"id-hdiv\").height() - 30);\r\n                    $(\'#gridTablePoint\').setGridHeigh" +
"t($(window).height() - $(\'#mapControl\').height() - $(\'#tabListContentDiv\').heigh" +
"t() - $(\".ui-jqgrid-hbox\").height() - 78);\r\n                    var H1 = $(\'#gri" +
"dTableCount\').height() ? ($(window).height() - $(\'#mapControl\').height() - $(\'#t" +
"abListContentDiv\').height() - $(\".ui-jqgrid-hdiv\").height() - 30) : ($(window).h" +
"eight() - $(\'#mapControl\').height() - $(\'#tabListContentDiv\').height() - $(\".ui-" +
"jqgrid-hbox\").height() - 78);\r\n                    $(\'.ui-jqgrid-bdiv\').height(H" +
"1);\r\n                    $(\"#TjItem\").height($(\"#layout .ui-layout-west\").height" +
"() - $(\"#layout .nav-tabs\").height() - 15);\r\n                    $(\"#YBCTJ_UI\")." +
"height($(\"#TjItem\").height());\r\n                    $(\'#layout2 .ui-layout-cente" +
"r\').height($(\'#layout2\').height() - $(\'#layout2 .ui-layout-north\').height());\r\n " +
"                   $(\'#layout2 .ui-layout-center\').css(\'overflow\', \'hidden\');\r\n " +
"                   $(\'#chartsdata\').width($(\'#ui_grid\').width());\r\n             " +
"       $(\'#chartsdata\').height($(\'#ui_grid\').height() - $(\"#tabListContentDiv\")." +
"height() - 5);\r\n                    var myChart = echarts.init(document.getEleme" +
"ntById(\"chartsdata\"));\r\n                    myChart.resize();\r\n                }" +
", 200);\r\n            };\r\n            resize();\r\n        }\r\n        //初始化下拉框\r\n   " +
"     function InitialzieCombox() {\r\n            //行政区划加载\r\n            var html =" +
" \" <table><tr><td class=\\\"formTitle\\\" style=\\\"\\\">省:</td><td> <div id=\\\"PROVINCE\\" +
"\" multiples=\\\"true\\\" type=\\\"select\\\" class=\\\"ui-select\\\" style=\\\"float: left; wi" +
"dth: 160px; margin: 8px; \\\"></div></td></tr>\" +\r\n                          \"<tr>" +
"<td class=\\\"formTitle\\\">市:</td><td><div id=\\\"CITY\\\" multiples=\\\"true\\\" type=\\\"se" +
"lect\\\" class=\\\"ui-select\\\" style=\\\"float: left; width: 160px; margin: 8px;\\\"></d" +
"iv></td></tr>\" +\r\n                       \"<tr><td class=\\\"formTitle\\\">区:</td><td" +
"><div id=\\\"COUNTY\\\" multiples=\\\"true\\\" type=\\\"select\\\" class=\\\"ui-select\\\" style" +
"=\\\"float: left; width: 160px; margin: 8px;\\\"></div> </td></tr></table>\";\r\n      " +
"      var usercode = usercodes();\r\n            var district = $(\"#districtsCtls\"" +
").mulDistrictsCtl({\r\n                provinceId: usercode.provinceId,\r\n         " +
"       selectProviceId: usercode.provinceId,\r\n                selectCityId: user" +
"code.selectCityId,\r\n                selectCounty: usercode.selectCounty,\r\n      " +
"          type: \'B\',\r\n                html: html\r\n            });\r\n            /" +
"/行政区划改变下面选择市县的条件\r\n            $(\"#districtsCtls\").change(function () {\r\n        " +
"        if ($(\"#districtsCtls #PROVINCE\").find(\".ui-select-text\").text() == \"\") " +
"{\r\n                    $(\"#level\").ComboBoxSetValue(\"省\");\r\n                } els" +
"e if ($(\"#districtsCtls #CITY\").find(\".ui-select-text\").text() == \'选择市\') {\r\n    " +
"                $(\"#level\").ComboBoxSetValue(\"市\");\r\n                } else {\r\n  " +
"                  $(\"#level\").ComboBoxSetValue(\"县\");\r\n                }\r\n       " +
"     })\r\n            //统计单位\r\n            $(\"#level\").ComboBox({\r\n               " +
" id: \"value\",\r\n                text: \"label\",\r\n                height: \"170px\",\r" +
"\n                data: [\r\n                    { label: \"省\", value: \"省\" },\r\n     " +
"               { label: \"市\", value: \"市\" },\r\n                    { label: \"县\", va" +
"lue: \"县\" },\r\n                    //{ label: \"乡镇\", value: \"乡镇\" }\r\n               " +
" ],\r\n                Itemindex: 1\r\n            });\r\n            $(\"#ZHDLX\").Comb" +
"oBox({\r\n                id: \"value\",\r\n                text: \"label\",\r\n          " +
"      height: \"170px\",\r\n                data: [\r\n                    { label: \"全" +
"部\", value: \"0\" },\r\n                    { label: \"重大隐患点\", value: \"1\" },\r\n        " +
"            { label: \"特大型隐患点\", value: \"2\" },\r\n                ],\r\n              " +
"  Itemindex: 1\r\n            });\r\n            $(\"#ZHDLX\").ComboBoxSetValue(\"1\");\r" +
"\n            $(\"#gdmb\").ComboBox({\r\n                id: \"value\",\r\n              " +
"  text: \"label\",\r\n                height: \"170px\",\r\n                data: [\r\n   " +
"                 { label: \"灾害类型\", value: \"zhlx\" },\r\n                    { label:" +
" \"稳定及变形情况\", value: \"wdjbx\" },\r\n                    { label: \"灾害影响及潜在威胁\", value: " +
"\"yxjwx\" },\r\n                    { label: \"监测及防治建议\", value: \"jcfzjy\" },\r\n        " +
"        ]\r\n            }).bind(\"change\", function () {\r\n                var valu" +
"e = $(this).attr(\'data-value\');\n                if (value != \"\") {\r\n            " +
"        $(\"#zdy\").attr(\"disabled\", \"disabled\");\r\n                } else {\r\n     " +
"               $(\"#zdy\").removeAttr(\"disabled\");\r\n                    wdqury = {" +
"}; fzjyqury = {}; zhyxqury = {}; zhlxqury = {};\r\n                }\n             " +
"   if (value == \"zhlx\") {\r\n                 wdqury = {}; fzjyqury = {}; zhyxqury" +
" = {}; zhlxqury = {};\r\n                 wdqury.allwendbxqk = \"0\";wdqury.wdwendxh" +
" = \"0\";wdqury.wdwendxjc = \"0\";wdqury.wdwendxc = \"0\";wdqury.bhwendxh = \"0\";wdqury" +
".bhwendxjc = \"0\";wdqury.bhwendxc = \"0\";\r\n                 zhyxqury.allzhyxjqzwx " +
"= \"0\"; zhyxqury.shfw = \"0\"; zhyxqury.huil = \"0\"; zhyxqury.huiqu = \"0\"; zhyxqury." +
"qianzwxweixrk = \"0\"; zhyxqury.qianzwxweixcc = \"0\";\r\n                 fzjyqury.al" +
"ljcjfzqk = \"0\";fzjyqury.dingqmsjc = \"0\";fzjyqury.anzjyjcss = \"0\";fzjyqury.dimwyj" +
"c = \"0\";fzjyqury.shebbwyjc = \"0\";fzjyqury.quncqf = \"0\";fzjyqury.zhuanyjc = \"0\";f" +
"zjyqury.banqbr = \"0\";fzjyqury.gongczl = \"0\";\r\n                } else if (value =" +
"= \"wdjbx\") {\r\n                    wdqury = {}; fzjyqury = {}; zhyxqury = {}; zhl" +
"xqury = {};\r\n                    zhyxqury.allzhyxjqzwx = \"0\"; zhyxqury.shfw = \"0" +
"\"; zhyxqury.huil = \"0\"; zhyxqury.huiqu = \"0\"; zhyxqury.qianzwxweixrk = \"0\"; zhyx" +
"qury.qianzwxweixcc = \"0\";\r\n                    fzjyqury.alljcjfzqk = \"0\"; fzjyqu" +
"ry.dingqmsjc = \"0\"; fzjyqury.anzjyjcss = \"0\"; fzjyqury.dimwyjc = \"0\"; fzjyqury.s" +
"hebbwyjc = \"0\"; fzjyqury.quncqf = \"0\"; fzjyqury.zhuanyjc = \"0\"; fzjyqury.banqbr " +
"= \"0\"; fzjyqury.gongczl = \"0\";\r\n                    zhlxqury.dangerousCount = \"0" +
"\"; zhlxqury.disasterCount = \"0\";\r\n                } else if (value == \"yxjwx\") {" +
"\r\n                    wdqury = {}; fzjyqury = {}; zhyxqury = {}; zhlxqury = {};\r" +
"\n                    wdqury.allwendbxqk = \"0\"; wdqury.wdwendxh = \"0\"; wdqury.wdw" +
"endxjc = \"0\"; wdqury.wdwendxc = \"0\"; wdqury.bhwendxh = \"0\"; wdqury.bhwendxjc = \"" +
"0\"; wdqury.bhwendxc = \"0\";\r\n                    fzjyqury.alljcjfzqk = \"0\"; fzjyq" +
"ury.dingqmsjc = \"0\"; fzjyqury.anzjyjcss = \"0\"; fzjyqury.dimwyjc = \"0\"; fzjyqury." +
"shebbwyjc = \"0\"; fzjyqury.quncqf = \"0\"; fzjyqury.zhuanyjc = \"0\"; fzjyqury.banqbr" +
" = \"0\"; fzjyqury.gongczl = \"0\";\r\n                    zhlxqury.dangerousCount = \"" +
"0\"; zhlxqury.disasterCount = \"0\";\r\n                } else if (value == \"jcfzjy\")" +
" {\r\n                    wdqury = {}; fzjyqury = {}; zhyxqury = {}; zhlxqury = {}" +
";\r\n                    wdqury.allwendbxqk = \"0\"; wdqury.wdwendxh = \"0\"; wdqury.w" +
"dwendxjc = \"0\"; wdqury.wdwendxc = \"0\"; wdqury.bhwendxh = \"0\"; wdqury.bhwendxjc =" +
" \"0\"; wdqury.bhwendxc = \"0\";\r\n                    zhyxqury.allzhyxjqzwx = \"0\"; z" +
"hyxqury.shfw = \"0\"; zhyxqury.huil = \"0\"; zhyxqury.huiqu = \"0\"; zhyxqury.qianzwxw" +
"eixrk = \"0\"; zhyxqury.qianzwxweixcc = \"0\";\r\n                    zhlxqury.dangero" +
"usCount = \"0\"; zhlxqury.disasterCount = \"0\";\r\n                }\r\n            });" +
"\r\n            ////灾害类型\r\n            //$(\"#DISASTERTYPE\").ComboBox({\r\n           " +
" //    url: \"../../SystemManage/DataItemDetail/GetDataItemTreeJson\",\r\n          " +
"  //    param: { EnCode: \"HazardType\" },\r\n            //    id: \"text\",\r\n       " +
"     //    text: \"text\",\r\n            //    height: \'210px\',\r\n            //    " +
"description: \"==请选择==\"\r\n            //});\r\n            ////灾害点规模\r\n            //" +
"$(\"#DISAATERSIZE\").ComboBox({\r\n            //    url: \"../../SystemManage/DataIt" +
"emDetail/GetDataItemTreeJson\",\r\n            //    param: { EnCode: \"DISAATERSIZE" +
"\" },\r\n            //    id: \"value\",\r\n            //    text: \"text\",\r\n         " +
"   //    height: \'200px\',\r\n            //    description: \"==请选择==\"\r\n           " +
" //});\r\n            ////险情等级\r\n            //$(\"#DANGERLEVEL\").ComboBox({\r\n      " +
"      //    url: \"../../SystemManage/DataItemDetail/GetDataItemTreeJson\",\r\n     " +
"       //    param: { EnCode: \"DANGERLEVEL\" },\r\n            //    id: \"value\",\r\n" +
"            //    text: \"text\",\r\n            //    height: \'200px\',\r\n           " +
" //    description: \"==请选择==\"\r\n            //});\r\n            ////灾害等级\r\n        " +
"    //$(\"#DISASTERLEVEL\").ComboBox({\r\n            //    url: \"../../SystemManage" +
"/DataItemDetail/GetDataItemTreeJson\",\r\n            //    param: { EnCode: \"DISAS" +
"TERLEVEL\" },\r\n            //    id: \"value\",\r\n            //    text: \"text\",\r\n " +
"           //    height: \'200px\',\r\n            //    description: \"==请选择==\"\r\n   " +
"         //});\r\n            ////是否隐患点\r\n            //$(\"#HIDDENDANGER\").ComboBox" +
"({\r\n            //    url: \"../../SystemManage/DataItemDetail/GetDataItemTreeJso" +
"n\",\r\n            //    param: { EnCode: \"HIDDENDANGER\" },\r\n            //    id:" +
" \"value\",\r\n            //    text: \"text\",\r\n            //    height: \'200px\',\r\n" +
"            //    description: \"==请选择==\"\r\n            //});\r\n            ////重要隐" +
"患点\r\n            //$(\"#ISIMPORTANT\").ComboBox({\r\n            //    url: \"../../Sy" +
"stemManage/DataItemDetail/GetDataItemTreeJson\",\r\n            //    param: { EnCo" +
"de: \"ISIMPORTANT\" },\r\n            //    id: \"value\",\r\n            //    text: \"t" +
"ext\",\r\n            //    height: \'200px\',\r\n            //    description: \"==请选择" +
"==\"\r\n            //});\r\n            ////今后变化趋势\r\n            //$(\"#STABLETREND\")." +
"ComboBox({\r\n            //    url: \"../../SystemManage/DataItemDetail/GetDataIte" +
"mTreeJson\",\r\n            //    param: { EnCode: \"STABLETRENDHP\" },\r\n            " +
"//    id: \"value\",\r\n            //    text: \"text\",\r\n            //    height: \'" +
"200px\',\r\n            //    description: \"==请选择==\"\r\n            //});\r\n          " +
"  ////目前稳定程度\r\n            //$(\"#CURRENTSTABLESTATUS\").ComboBox({\r\n            //" +
"    url: \"../../SystemManage/DataItemDetail/GetDataItemTreeJson\",\r\n            /" +
"/    param: { EnCode: \"CURSTABLESTATUSHP\" },\r\n            //    id: \"value\",\r\n  " +
"          //    text: \"text\",\r\n            //    height: \'200px\',\r\n            /" +
"/    description: \"==请选择==\"\r\n            //});\r\n            if (!usercode.provin" +
"ceId) {\r\n                $(\"#level\").ComboBoxSetValue(\"省\");\r\n            } else " +
"if (!usercode.selectCityId) {\r\n                $(\"#level\").ComboBoxSetValue(\"市\")" +
";\r\n            } else {\r\n                $(\"#level\").ComboBoxSetValue(\"县\");\r\n   " +
"         }\r\n        }\r\n\r\n        //初始化统计条件\r\n        function Initialize() {\r\n   " +
"         //加载统计内容\r\n            for (var i = 0; i < dicCol.length; i++) {\r\n      " +
"          if (dicCol[i] != null) {\r\n                    var width = 80;\r\n       " +
"             if (dicCol[i].key == \"area\") {\r\n                        width = 200" +
";\r\n                        colmns.push({\r\n                            label: dic" +
"Col[i].value, name: dicCol[i].key, index: dicCol[i].key, width: width, align: \'l" +
"eft\', sortable: false, formatter: function (cellValue, options, rowData) {\r\n    " +
"                            //console.log(cellValue, options, rowData);\r\n       " +
"                         var code = \"\";\r\n                                if (row" +
"Data[\"county\"]) {\r\n                                    code = rowData[\"county\"];" +
"\r\n                                }\r\n                                else if (ro" +
"wData[\"city\"]) {\r\n                                    code = rowData[\"city\"];\r\n " +
"                               }\r\n                                else if (rowDa" +
"ta[\"province\"]) {\r\n                                    code = rowData[\"province\"" +
"];\r\n                                }\r\n                                var html " +
"= \'<a href=\"javascript:;\" onclick=\"addOneTab(\\\'\' + cellValue + \'\\\',\\\'\' + code + " +
"\'\\\')\">\' + cellValue + \'</a>\';\r\n                                return html;\r\n   " +
"                         }\r\n                        });\r\n                    }\r\n" +
"                    else {\r\n                        showDta.push(dicCol[i]);\r\n  " +
"                      colmns.push({ label: dicCol[i].value, name: dicCol[i].key," +
" index: dicCol[i].key, width: width, align: \'left\', sortable: false });\r\n       " +
"             }\r\n                }\r\n            }\r\n            //获取统计条件\r\n        " +
"    queryJson = $(\"#TjItem\").getWebControls();\r\n        }\r\n\r\n        //获取值\r\n    " +
"    function GetValue(v, p) {\r\n            for (var i = 0; i < dicCol.length; i+" +
"+) {\r\n                var t = dicCol[i];\r\n                if (v == t.value) {\r\n " +
"                   if (p == undefined)\r\n                        return t.key;\r\n " +
"                   if (p != undefined && t.parent == p) {\r\n                     " +
"   return t.key;\r\n                    }\r\n                }\r\n            }\r\n     " +
"       return null;\r\n        }\r\n\r\n        //统计按钮点击\r\n        function SearchEvent" +
"() {\r\n            queryJson = $(\"#TjItem\").getWebControls();\r\n           \r\n     " +
"       \r\n            if (queryJson.level == \"\") {\r\n                queryJson.lev" +
"el = \"省\";\r\n            }\r\n            queryJson.sqlWhere = whereSql;\r\n          " +
"  queryJson[\"UnionStatisticsSql\"] = UnionStatisticsSql;\r\n            showDta = [" +
"];\r\n            var isZHLX = false;\r\n            $(\"input[name=\'deviceType\']\").e" +
"ach(function () {\r\n                if ($(this)[0].checked == true) {\r\n          " +
"          var id = $(this)[0].id;\r\n                    for (var i = 0; i < dicCo" +
"l.length; i++) {\r\n                        if (dicCol[i].pid == id) {\r\n          " +
"                  showDta.push(dicCol[i]);\r\n                            if (id =" +
"= \'zhlx\') {\r\n                                isZHLX = true;\r\n                   " +
"         }\r\n                        }\r\n                        else if (dicCol[i" +
"].key == id) {\r\n                            showDta.push(dicCol[i]);\r\n          " +
"              }\r\n                    }\r\n                }\r\n            });\r\n    " +
"        //隐患点灾害类型显示\r\n            if (isZHLX) {\r\n                $.each(dicCol, f" +
"unction (index, item) {\r\n                    if (item.pid == \'yhdzhlx\') {\r\n     " +
"                   showDta.push(item);\r\n                    }\r\n                }" +
")\r\n            }\r\n            changeTabs(queryJson);\r\n            var str = $(\"#" +
"tabListContentDiv .menuTab.active\").text();\r\n            if (zhlxqury.disasterCo" +
"unt == \"1\") {\r\n                str = \"灾害点\";\r\n            }\r\n            str = st" +
"r.replace(/\\s+/g, \"\");\r\n            Search(\"gridTableCount\", \"chartsdata\", \"TBty" +
"pe\", str);\r\n        }\r\n\r\n        //统计按钮\r\n        function Search(a, b, c, str) {" +
"\r\n            var $gridTableCount = $(\'#\' + a);\r\n            //查询数据\r\n           " +
" $gridTableCount.jqGrid(\'setGridParam\', {\r\n                postData: { queryJson" +
": JSON.stringify(queryJson) },\r\n                url: \"../../api/TBL_HAZARDBASICI" +
"NFOApi/GetAnalyseList\",\r\n                gridComplete: function () {\r\n          " +
"          $(\'#gridTableCount\').setGridWidth($(\'.gridPanel\').width() - 5);\r\n     " +
"               $(\'#gridTableCount\').setGridHeight($(window).height() - $(\'#mapCo" +
"ntrol\').height() - $(\'#tabListContentDiv\').height() - $(\".ui-jqgrid-hdiv\").heigh" +
"t() - 30);\r\n                    if (JSON.stringify(zhlxqury) != \"{}\") {\r\n\r\n     " +
"                   if (zhlxqury.dangerousCount == \"1\" || zhlxqury.disasterCount " +
"== \"1\") {//隐患点\r\n                            if (zhlxqury.huap == \"0\") {\r\n       " +
"                         $(\'#gridTableCount\').jqGrid(\"hideCol\", \"yhdhp\");\r\n     " +
"                           $(\'#gridTableCount\').jqGrid(\"hideCol\", \"hp\");\r\n      " +
"                      }\r\n                            if (zhlxqury.zhlxbengt == \"" +
"0\") {\r\n                                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"b" +
"t\");\r\n                                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"yh" +
"dbt\");\r\n                            }\r\n                            if (zhlxqury." +
"zhlxxiep == \"0\") {\r\n                                $(\'#gridTableCount\').jqGrid(" +
"\"hideCol\", \"xp\");\r\n                                $(\'#gridTableCount\').jqGrid(\"" +
"hideCol\", \"yhdxp\");\r\n                            }\r\n                            " +
"if (zhlxqury.zhlxnisl == \"0\") {\r\n                                $(\'#gridTableCo" +
"unt\').jqGrid(\"hideCol\", \"nsl\");\r\n                                $(\'#gridTableCo" +
"unt\').jqGrid(\"hideCol\", \"yhdnsl\");\r\n                            }\r\n             " +
"               if (zhlxqury.zhlxdimcj == \"0\") {\r\n                               " +
" $(\'#gridTableCount\').jqGrid(\"hideCol\", \"dmcj\");\r\n                              " +
"  $(\'#gridTableCount\').jqGrid(\"hideCol\", \"yhddmcj\");\r\n                          " +
"  }\r\n                            if (zhlxqury.zhlxdilf == \"0\") {\r\n              " +
"                  $(\'#gridTableCount\').jqGrid(\"hideCol\", \"dlf\");\r\n              " +
"                  $(\'#gridTableCount\').jqGrid(\"hideCol\", \"yhddlf\");\r\n           " +
"                 }\r\n                            if (zhlxqury.zhlxtax == \"0\") {\r\n" +
"                                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"dmtx\");\r" +
"\n                                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"yhddmtx" +
"\");\r\n                            }\r\n                        }\r\n                 " +
"       if (zhlxqury.dangerousCount == \"0\") {\r\n                            var gb" +
"jiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_yhd]\").next();\r\n           " +
"                 gbjiedian.trigger(\"click\");\r\n                        }\r\n       " +
"                 if (zhlxqury.disasterCount == \"0\") {\r\n                         " +
"   var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_zhd]\").next();\r\n  " +
"                          gbjiedian.trigger(\"click\");\r\n                        }" +
"\r\n                    }\r\n                    if (JSON.stringify(wdqury) != \"{}\")" +
" {\r\n                        if (wdqury.allwendbxqk == \"0\" && wdqury.wdwendxh == " +
"\"0\" && wdqury.wdwendxjc == \"0\" && wdqury.wdwendxc == \"0\" && wdqury.bhwendxh == \"" +
"0\" && wdqury.bhwendxjc == \"0\" && wdqury.bhwendxc == \"0\") {\r\n                    " +
"        var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_mq]\").next();" +
"\r\n                            gbjiedian.trigger(\"click\");\r\n                     " +
"       var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_jh]\").next();\r" +
"\n                            gbjiedian.trigger(\"click\");\r\n                      " +
"      var gbjiedian1 = $(\"#tabListContentDiv .menuTab[data-id=tab_chart]\").next(" +
");\r\n                            gbjiedian1.trigger(\"click\");\r\n                  " +
"      } else {\r\n                            if (wdqury.wdwendxh == \"0\") {\r\n     " +
"                           $(\'#gridTableCount\').jqGrid(\"hideCol\", \"mqwd\");\r\n    " +
"                        }\r\n                            if (wdqury.wdwendxjc == \"" +
"0\") {\r\n                                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"m" +
"qqzbwd\");\r\n                            }\r\n                            if (wdqury" +
".wdwendxc == \"0\") {\r\n                                $(\'#gridTableCount\').jqGrid" +
"(\"hideCol\", \"mqbwd\");\r\n                            }\r\n                          " +
"  if (wdqury.bhwendxh == \"0\") {\r\n                                $(\'#gridTableCo" +
"unt\').jqGrid(\"hideCol\", \"jhwd\");\r\n                            }\r\n               " +
"             if (wdqury.bhwendxjc == \"0\") {\r\n                                $(\'" +
"#gridTableCount\').jqGrid(\"hideCol\", \"jhqzbwd\");\r\n                            }\r\n" +
"                            if (wdqury.bhwendxc == \"0\") {\r\n                     " +
"           $(\'#gridTableCount\').jqGrid(\"hideCol\", \"jhbwd\");\r\n                   " +
"         }\r\n                        }\r\n                    }\r\n                  " +
"  if (JSON.stringify(zhyxqury) != \"{}\") {\r\n                        if (zhyxqury." +
"allzhyxjqzwx == \"0\" && zhyxqury.shfw == \"0\" && zhyxqury.huil == \"0\" && zhyxqury." +
"huiqu == \"0\" && zhyxqury.qianzwxweixrk == \"0\" && zhyxqury.qianzwxweixcc == \"0\") " +
"{\r\n                            var gbjiedian = $(\"#tabListContentDiv .menuTab[da" +
"ta-id=tab_wh]\").next();\r\n                            gbjiedian.trigger(\"click\");" +
"\r\n                            var gbjiedian = $(\"#tabListContentDiv .menuTab[dat" +
"a-id=tab_wx]\").next();\r\n                            gbjiedian.trigger(\"click\");\r" +
"\n                            var gbjiedian1 = $(\"#tabListContentDiv .menuTab[dat" +
"a-id=tab_chart]\").next();\r\n                            gbjiedian1.trigger(\"click" +
"\");\r\n                        } else {\r\n                            if (zhyxqury." +
"shfw == \"0\") {\r\n                                $(\'#gridTableCount\').jqGrid(\"hid" +
"eCol\", \"hhfw\");\r\n                            }\r\n                            if (" +
"zhyxqury.huil == \"0\") {\r\n                                $(\'#gridTableCount\').jq" +
"Grid(\"hideCol\", \"hl\");\r\n                            }\r\n                         " +
"   if (zhyxqury.huiqu == \"0\") {\r\n                                $(\'#gridTableCo" +
"unt\').jqGrid(\"hideCol\", \"hq\");\r\n                            }\r\n                 " +
"           if (zhyxqury.qianzwxweixrk == \"0\") {\r\n                               " +
" $(\'#gridTableCount\').jqGrid(\"hideCol\", \"wxrk\");\r\n                            }\r" +
"\n                            if (zhyxqury.qianzwxweixcc == \"0\") {\r\n             " +
"                   $(\'#gridTableCount\').jqGrid(\"hideCol\", \"wxcc\");\r\n            " +
"                }\r\n                        }\r\n                    }\r\n\r\n         " +
"           if (JSON.stringify(zxqqury) != \"{}\") {\r\n                        if (z" +
"xqqury.allzhyxjqzwx == \"0\" && zxqqury.zqxx == \"0\" && zxqqury.zqzx == \"0\" && zxqq" +
"ury.zqdx == \"0\" && zxqqury.zqtdx == \"0\" && zxqqury.xqxx == \"0\" && zxqqury.xqdx =" +
"= \"0\" && zxqqury.xqzx == \"0\" && zxqqury.xqtdx == \"0\") {\r\n                       " +
"     var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_zq]\").next();\r\n " +
"                           gbjiedian.trigger(\"click\");\r\n                        " +
"    var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_xq]\").next();\r\n  " +
"                          gbjiedian.trigger(\"click\");\r\n                         " +
"   var gbjiedian1 = $(\"#tabListContentDiv .menuTab[data-id=tab_chart]\").next();\r" +
"\n                            gbjiedian1.trigger(\"click\");\r\n                     " +
"   } else {\r\n                            if (zxqqury.zqxx == \"0\") {\r\n           " +
"                     $(\'#gridTableCount\').jqGrid(\"hideCol\", \"zqxx\");\r\n          " +
"                  }\r\n                            if (zxqqury.zqzx == \"0\") {\r\n   " +
"                             $(\'#gridTableCount\').jqGrid(\"hideCol\", \"zqzx\");\r\n  " +
"                          }\r\n                            if (zxqqury.zqdx == \"0\"" +
") {\r\n                                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"zqd" +
"x\");\r\n                            }\r\n                            if (zxqqury.zqt" +
"dx == \"0\") {\r\n                                $(\'#gridTableCount\').jqGrid(\"hideC" +
"ol\", \"zqtdx\");\r\n                            }\r\n                            if (z" +
"xqqury.xqxx == \"0\") {\r\n                                $(\'#gridTableCount\').jqGr" +
"id(\"hideCol\", \"xqxx\");\r\n                            }\r\n                         " +
"   if (zxqqury.xqdx == \"0\") {\r\n                                $(\'#gridTableCoun" +
"t\').jqGrid(\"hideCol\", \"xqdx\");\r\n                            }\r\n                 " +
"           if (zxqqury.xqzx == \"0\") {\r\n                                $(\'#gridT" +
"ableCount\').jqGrid(\"hideCol\", \"xqzx\");\r\n                            }\r\n         " +
"                   if (zxqqury.xqtdx == \"0\") {\r\n                                " +
"$(\'#gridTableCount\').jqGrid(\"hideCol\", \"xqtdx\");\r\n                            }\r" +
"\n                        }\r\n                    }\r\n                    if (JSON." +
"stringify(fzjyqury) != \"{}\") {\r\n                        if (fzjyqury.alljcjfzqk " +
"== \"0\" && fzjyqury.dingqmsjc == \"0\" && fzjyqury.anzjyjcss == \"0\" && fzjyqury.dim" +
"wyjc == \"0\" && fzjyqury.shebbwyjc == \"0\" && fzjyqury.quncqf == \"0\" && fzjyqury.z" +
"huanyjc == \"0\" && fzjyqury.banqbr == \"0\" && fzjyqury.gongczl == \"0\") {\r\n        " +
"                    var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_j" +
"cjy]\").next();\r\n                            gbjiedian.trigger(\"click\");\r\n       " +
"                     var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_" +
"fzjy]\").next();\r\n                            gbjiedian.trigger(\"click\");\r\n      " +
"                      var gbjiedian1 = $(\"#tabListContentDiv .menuTab[data-id=ta" +
"b_chart]\").next();\r\n                            gbjiedian1.trigger(\"click\");\r\n  " +
"                      } else {\r\n                            if (fzjyqury.dingqms" +
"jc == \"0\") {\r\n                                $(\'#gridTableCount\').jqGrid(\"hideC" +
"ol\", \"jcms\");\r\n                            }\r\n                            if (fz" +
"jyqury.anzjyjcss == \"0\") {\r\n                                $(\'#gridTableCount\')" +
".jqGrid(\"hideCol\", \"jcss\");\r\n                            }\r\n                    " +
"        if (fzjyqury.dimwyjc == \"0\") {\r\n                                $(\'#grid" +
"TableCount\').jqGrid(\"hideCol\", \"jcdm\");\r\n                            }\r\n        " +
"                    if (fzjyqury.shebbwyjc == \"0\") {\r\n                          " +
"      $(\'#gridTableCount\').jqGrid(\"hideCol\", \"jcsb\");\r\n                         " +
"   }\r\n                            if (fzjyqury.quncqf == \"0\") {\r\n               " +
"                 $(\'#gridTableCount\').jqGrid(\"hideCol\", \"fzqcqf\");\r\n            " +
"                }\r\n                            if (fzjyqury.zhuanyjc == \"0\") {\r\n" +
"                                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"fzzyjc\")" +
";\r\n                            }\r\n                            if (fzjyqury.banqb" +
"r == \"0\") {\r\n                                $(\'#gridTableCount\').jqGrid(\"hideCo" +
"l\", \"fzbrbq\");\r\n                            }\r\n                            if (f" +
"zjyqury.gongczl == \"0\") {\r\n                                $(\'#gridTableCount\')." +
"jqGrid(\"hideCol\", \"fzgczl\");\r\n                            }\r\n                   " +
"     }\r\n                    }\r\n\r\n                },\r\n                loadComplet" +
"e: function (jsondata) {\r\n                    groupstr = \"\";\r\n                  " +
"  var coldata = [], teststr = \"\", allYData = [];\r\n                    for (var i" +
" = 0; i < showDta.length; i++) {\r\n                        if (showDta[i].key != " +
"\"area\") {\r\n                            var temp = [];\r\n                         " +
"   //取出所有数据\r\n                            if (showDta[i].key == \"zq\" || showDta[i" +
"].key == \"mq\" || showDta[i].key == \"jh\" || showDta[i].key == \"xq\") {\r\n          " +
"                      if (dicCol[i].key == \"zhd\" || dicCol[i].key == \"yhd\") {//只" +
"加载灾害点和隐患点统计图表\r\n                                    coldata.push({ text: dicCol[i" +
"].value, \'value\': dicCol[i].key });\r\n                                }\r\n        " +
"                        groupstr += showDta[i].value + \",\";\r\n                   " +
"             allYData[showDta[i].key] = {};\r\n                                for" +
" (var k = 0; k < showDta[i].children.length; k++) {\r\n                           " +
"         temp = [];\r\n                                    if (jsondata != null &&" +
" jsondata.length > 0) {\r\n                                        for (var j = 0;" +
" j < jsondata.length; j++) {\r\n                                            temp.p" +
"ush(jsondata[j][showDta[i].children[k].key]);\r\n                                 " +
"       };\r\n                                    }\r\n                              " +
"      allYData[showDta[i].key][showDta[i].children[k].key] = {\r\n                " +
"                        name: showDta[i].children[k].value, type: \"bar\", data: t" +
"emp,\r\n                                        itemStyle: { normal: { label: { sh" +
"ow: true, position: \'top\' } } }\r\n                                    };\r\n       " +
"                         };\r\n\r\n                            } else if (showDta[i]" +
".pid == \"zq\" || showDta[i].pid == \"mq\" || showDta[i].pid == \"jh\" || showDta[i].p" +
"id == \"xq\") {\r\n                                if (teststr.indexOf(showDta[i].pi" +
"d) == -1) {\r\n                                    coldata.push({ text: showDta[i]" +
".parent, \'value\': showDta[i].pid });\r\n                                    groups" +
"tr += showDta[i].parent + \",\";\r\n                                    allYData[sho" +
"wDta[i].pid] = {};\r\n                                }\r\n                         " +
"       teststr += showDta[i].pid + \",\"\r\n                                if (json" +
"data != null && jsondata.length > 0) {\r\n                                    for " +
"(var j = 0; j < jsondata.length; j++) {\r\n                                       " +
" temp.push(jsondata[j][showDta[i].key]);\r\n                                    };" +
"\r\n                                }\r\n                                allYData[sh" +
"owDta[i].pid][showDta[i].key] = {\r\n                                    name: sho" +
"wDta[i].value, type: \"bar\", data: temp,\r\n                                    ite" +
"mStyle: { normal: { label: { show: true, position: \'top\' } } }\r\n                " +
"                };\r\n                                //console.log(allYData);\r\n  " +
"                              //console.log(temp);\r\n                            " +
"} else {\r\n                                coldata.push({ text: showDta[i].value," +
" \'value\': showDta[i].key });\r\n                                if (jsondata != nu" +
"ll && jsondata.length > 0) {\r\n                                    for (var j = 0" +
"; j < jsondata.length; j++) {\r\n                                        temp.push" +
"(jsondata[j][showDta[i].key]);\r\n                                    };\r\n        " +
"                        }\r\n                                allYData[showDta[i].k" +
"ey] = {\r\n                                    name: showDta[i].value, type: \"bar\"" +
", data: temp,\r\n                                    itemStyle: { normal: { label:" +
" { show: true, position: \'top\' } } }\r\n                                };\r\n      " +
"                      }\r\n                        }\r\n                    }\r\n\r\n   " +
"                 allXData = [];\r\n                    for (var i = 0; i < jsondat" +
"a.length; i++) {\r\n                        var temp = \"\";\r\n                      " +
"  if (jsondata[i].townname != null)\r\n                            temp = jsondata" +
"[i].townname;\r\n                        else if (jsondata[i].countyname != null)\r" +
"\n                            temp = jsondata[i].countyname;\r\n                   " +
"     else if (jsondata[i].cityname != null)\r\n                            temp = " +
"jsondata[i].cityname;\r\n                        else if (jsondata[i].provincename" +
" != null)\r\n                            temp = jsondata[i].provincename;\r\n       " +
"                 allXData.push(temp);\r\n                    }\r\n\r\n                " +
"    //统计图表类型\r\n                    $(\"#\" + c).ComboBox({\r\n                       " +
" data: coldata,\r\n                        id: \"value\",\r\n                        t" +
"ext: \"text\",\r\n                        height: \'200px\',\r\n                        " +
"selectOne: true,\r\n                        description: \"\"\r\n                    }" +
").bind(\"change\", function () {\r\n                        var value = $(this).attr" +
"(\'data-value\');\r\n                        var text = $(this).attr(\'data-text\');\r\n" +
"                        LoadChart([text], allYData[value], Getpix(value), b);\r\n " +
"                   });\r\n\r\n                    var xdata = [showDta[0].value];\r\n " +
"                   var ydata = allYData[showDta[0].key];\r\n                    Lo" +
"adChart(xdata, ydata, Getpix(showDta[0].key), b);\r\n                }\r\n          " +
"  }).trigger(\'reloadGrid\');\r\n\r\n            //控制显示列\r\n            HideValue(a);\r\n " +
"           showColmns(str, a);\r\n            BindMapMarker_count(queryJson, str);" +
"\r\n        }\r\n\r\n        //获取单位\r\n        function Getpix(key) {\r\n            if (k" +
"ey == \"hhfw\") {\r\n                return \"间\";\r\n            }\r\n            else if" +
" (key == \"wxcc\")\r\n                return \"万元\";\r\n            else if (key == \"wxr" +
"k\")\r\n                return \"人\";\r\n            return \"个\";\r\n        }\r\n\r\n        " +
"//隐藏列\r\n        function HideValue(a) {\r\n            var colms = [];\r\n           " +
" for (var i = 0; i < dicCol.length; i++) {\r\n                colms.push(dicCol[i]" +
".key);\r\n            }\r\n            $(\'#\' + a).jqGrid(\"hideCol\", colms);\r\n       " +
" }\r\n\r\n        //显示列\r\n        function showColmns(str, a) {\r\n            var show" +
"Col = [\"area\"];\r\n            for (var i = 0; i < showDta.length; i++) {\r\n       " +
"         if (showDta[i].parent == str || showDta[i].value == str) {\r\n           " +
"         showCol.push(showDta[i].key);\r\n                }\r\n                if (s" +
"tr == \"灾害点\" && showDta[i].pid == \"zhlx\") {\r\n                    showCol.push(sho" +
"wDta[i].key);\r\n                }\r\n                if (str == \"隐患点\" && showDta[i]" +
".pid == \"yhdzhlx\") {\r\n                    showCol.push(showDta[i].key);\r\n       " +
"         }\r\n            }\r\n            $(\'#\' + a).jqGrid(\"showCol\", showCol);\r\n " +
"           if (JSON.stringify(zhlxqury) != \"{}\") {\r\n\r\n                if (zhlxqu" +
"ry.dangerousCount == \"1\" || zhlxqury.disasterCount == \"1\") {//隐患点\r\n             " +
"       if (zhlxqury.huap == \"0\") {\r\n                        $(\'#gridTableCount\')" +
".jqGrid(\"hideCol\", \"yhdhp\");\r\n                        $(\'#gridTableCount\').jqGri" +
"d(\"hideCol\", \"hp\");\r\n                    }\r\n                    if (zhlxqury.zhl" +
"xbengt == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\"," +
" \"bt\");\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"yhdbt\")" +
";\r\n                    }\r\n                    if (zhlxqury.zhlxxiep == \"0\") {\r\n " +
"                       $(\'#gridTableCount\').jqGrid(\"hideCol\", \"xp\");\r\n          " +
"              $(\'#gridTableCount\').jqGrid(\"hideCol\", \"yhdxp\");\r\n                " +
"    }\r\n                    if (zhlxqury.zhlxnisl == \"0\") {\r\n                    " +
"    $(\'#gridTableCount\').jqGrid(\"hideCol\", \"nsl\");\r\n                        $(\'#" +
"gridTableCount\').jqGrid(\"hideCol\", \"yhdnsl\");\r\n                    }\r\n          " +
"          if (zhlxqury.zhlxdimcj == \"0\") {\r\n                        $(\'#gridTabl" +
"eCount\').jqGrid(\"hideCol\", \"dmcj\");\r\n                        $(\'#gridTableCount\'" +
").jqGrid(\"hideCol\", \"yhddmcj\");\r\n                    }\r\n                    if (" +
"zhlxqury.zhlxdilf == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid" +
"(\"hideCol\", \"dlf\");\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCo" +
"l\", \"yhddlf\");\r\n                    }\r\n                    if (zhlxqury.zhlxtax " +
"== \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"dmtx\"" +
");\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"yhddmtx\");\r\n" +
"                    }\r\n                }\r\n                if (zhlxqury.dangerous" +
"Count == \"0\") {\r\n                    var gbjiedian = $(\"#tabListContentDiv .menu" +
"Tab[data-id=tab_yhd]\").next();\r\n                    gbjiedian.trigger(\"click\");\r" +
"\n                }\r\n                if (zhlxqury.disasterCount == \"0\") {\r\n      " +
"              var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_zhd]\")." +
"next();\r\n                    gbjiedian.trigger(\"click\");\r\n                }\r\n   " +
"         }\r\n            if (JSON.stringify(wdqury) != \"{}\") {\r\n                i" +
"f (wdqury.allwendbxqk == \"0\") {\r\n                    var gbjiedian = $(\"#tabList" +
"ContentDiv .menuTab[data-id=tab_mq]\").next();\r\n                    gbjiedian.tri" +
"gger(\"click\");\r\n                    var gbjiedian = $(\"#tabListContentDiv .menuT" +
"ab[data-id=tab_jh]\").next();\r\n                    gbjiedian.trigger(\"click\");\r\n " +
"                   var gbjiedian1 = $(\"#tabListContentDiv .menuTab[data-id=tab_c" +
"hart]\").next();\r\n                    gbjiedian1.trigger(\"click\");\r\n             " +
"   } else {\r\n                    if (wdqury.wdwendxh == \"0\") {\r\n                " +
"        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"mqwd\");\r\n                    }\r\n" +
"                    if (wdqury.wdwendxjc == \"0\") {\r\n                        $(\'#" +
"gridTableCount\').jqGrid(\"hideCol\", \"mqqzbwd\");\r\n                    }\r\n         " +
"           if (wdqury.wdwendxc == \"0\") {\r\n                        $(\'#gridTableC" +
"ount\').jqGrid(\"hideCol\", \"mqbwd\");\r\n                    }\r\n                    i" +
"f (wdqury.bhwendxh == \"0\") {\r\n                        $(\'#gridTableCount\').jqGri" +
"d(\"hideCol\", \"jhwd\");\r\n                    }\r\n                    if (wdqury.bhw" +
"endxjc == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\"," +
" \"jhqzbwd\");\r\n                    }\r\n                    if (wdqury.bhwendxc == " +
"\"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"jhbwd\");" +
"\r\n                    }\r\n                }\r\n            }\r\n            if (JSON." +
"stringify(zhyxqury) != \"{}\") {\r\n                if (zhyxqury.allzhyxjqzwx == \"0\"" +
") {\r\n                    var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=" +
"tab_wh]\").next();\r\n                    gbjiedian.trigger(\"click\");\r\n            " +
"        var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_wx]\").next();" +
"\r\n                    gbjiedian.trigger(\"click\");\r\n                    var gbjie" +
"dian1 = $(\"#tabListContentDiv .menuTab[data-id=tab_chart]\").next();\r\n           " +
"         gbjiedian1.trigger(\"click\");\r\n                } else {\r\n               " +
"     if (zhyxqury.shfw == \"0\") {\r\n                        $(\'#gridTableCount\').j" +
"qGrid(\"hideCol\", \"hhfw\");\r\n                    }\r\n                    if (zhyxqu" +
"ry.huil == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\"" +
", \"hl\");\r\n                    }\r\n                    if (zhyxqury.huiqu == \"0\") " +
"{\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"hq\");\r\n      " +
"              }\r\n                    if (zhyxqury.qianzwxweixrk == \"0\") {\r\n     " +
"                   $(\'#gridTableCount\').jqGrid(\"hideCol\", \"wxrk\");\r\n            " +
"        }\r\n                    if (zhyxqury.qianzwxweixcc == \"0\") {\r\n           " +
"             $(\'#gridTableCount\').jqGrid(\"hideCol\", \"wxcc\");\r\n                  " +
"  }\r\n                }\r\n            }\r\n\r\n            if (JSON.stringify(zxqqury)" +
" != \"{}\") {\r\n                if (zxqqury.allzhyxjqzwx == \"0\" && zxqqury.zqxx == " +
"\"0\" && zxqqury.zqzx == \"0\" && zxqqury.zqdx == \"0\" && zxqqury.zqtdx == \"0\" && zxq" +
"qury.xqxx == \"0\" && zxqqury.xqdx == \"0\" && zxqqury.xqzx == \"0\" && zxqqury.xqtdx " +
"== \"0\") {\r\n                    var gbjiedian = $(\"#tabListContentDiv .menuTab[da" +
"ta-id=tab_zq]\").next();\r\n                    gbjiedian.trigger(\"click\");\r\n      " +
"              var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_xq]\").n" +
"ext();\r\n                    gbjiedian.trigger(\"click\");\r\n                    var" +
" gbjiedian1 = $(\"#tabListContentDiv .menuTab[data-id=tab_chart]\").next();\r\n     " +
"               gbjiedian1.trigger(\"click\");\r\n                } else {\r\n         " +
"           if (zxqqury.zqxx == \"0\") {\r\n                        $(\'#gridTableCoun" +
"t\').jqGrid(\"hideCol\", \"zqxx\");\r\n                    }\r\n                    if (z" +
"xqqury.zqzx == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hide" +
"Col\", \"zqzx\");\r\n                    }\r\n                    if (zxqqury.zqdx == \"" +
"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"zqdx\");\r\n" +
"                    }\r\n                    if (zxqqury.zqtdx == \"0\") {\r\n        " +
"                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"zqtdx\");\r\n              " +
"      }\r\n                    if (zxqqury.xqxx == \"0\") {\r\n                       " +
" $(\'#gridTableCount\').jqGrid(\"hideCol\", \"xqxx\");\r\n                    }\r\n       " +
"             if (zxqqury.xqdx == \"0\") {\r\n                        $(\'#gridTableCo" +
"unt\').jqGrid(\"hideCol\", \"xqdx\");\r\n                    }\r\n                    if " +
"(zxqqury.xqzx == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hi" +
"deCol\", \"xqzx\");\r\n                    }\r\n                    if (zxqqury.xqtdx =" +
"= \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"xqtdx\"" +
");\r\n                    }\r\n                }\r\n            }\r\n            if (JSO" +
"N.stringify(fzjyqury) != \"{}\") {\r\n                if (fzjyqury.alljcjfzqk == \"0\"" +
" && fzjyqury.dingqmsjc == \"0\" && fzjyqury.anzjyjcss == \"0\" && fzjyqury.dimwyjc =" +
"= \"0\" && fzjyqury.shebbwyjc == \"0\" && fzjyqury.quncqf == \"0\" && fzjyqury.zhuanyj" +
"c == \"0\" && fzjyqury.banqbr == \"0\" && fzjyqury.gongczl == \"0\") {\r\n              " +
"      var gbjiedian = $(\"#tabListContentDiv .menuTab[data-id=tab_jcjy]\").next();" +
"\r\n                    gbjiedian.trigger(\"click\");\r\n                    var gbjie" +
"dian = $(\"#tabListContentDiv .menuTab[data-id=tab_fzjy]\").next();\r\n             " +
"       gbjiedian.trigger(\"click\");\r\n                    var gbjiedian1 = $(\"#tab" +
"ListContentDiv .menuTab[data-id=tab_chart]\").next();\r\n                    gbjied" +
"ian1.trigger(\"click\");\r\n                } else {\r\n                    if (fzjyqu" +
"ry.dingqmsjc == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hid" +
"eCol\", \"jcms\");\r\n                    }\r\n                    if (fzjyqury.anzjyjc" +
"ss == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"jc" +
"ss\");\r\n                    }\r\n                    if (fzjyqury.dimwyjc == \"0\") {" +
"\r\n                        $(\'#gridTableCount\').jqGrid(\"hideCol\", \"jcdm\");\r\n     " +
"               }\r\n                    if (fzjyqury.shebbwyjc == \"0\") {\r\n        " +
"                $(\'#gridTableCount\').jqGrid(\"hideCol\", \"jcsb\");\r\n               " +
"     }\r\n                    if (fzjyqury.quncqf == \"0\") {\r\n                     " +
"   $(\'#gridTableCount\').jqGrid(\"hideCol\", \"fzqcqf\");\r\n                    }\r\n   " +
"                 if (fzjyqury.zhuanyjc == \"0\") {\r\n                        $(\'#gr" +
"idTableCount\').jqGrid(\"hideCol\", \"fzzyjc\");\r\n                    }\r\n            " +
"        if (fzjyqury.banqbr == \"0\") {\r\n                        $(\'#gridTableCoun" +
"t\').jqGrid(\"hideCol\", \"fzbrbq\");\r\n                    }\r\n                    if " +
"(fzjyqury.gongczl == \"0\") {\r\n                        $(\'#gridTableCount\').jqGrid" +
"(\"hideCol\", \"fzgczl\");\r\n                    }\r\n                }\r\n            }\r" +
"\n        }\r\n\r\n        //加载统计表格\r\n        function GetGrid_Count(id, chartId, type" +
"Id) {\r\n            var $gridTableCount = $(\'#\' + id);\r\n            var selectedR" +
"owIndex = 0;\r\n            $gridTableCount.jqGrid({\r\n                autowidth: t" +
"rue,\r\n                postData: { queryJson: JSON.stringify(queryJson) },\r\n     " +
"           //height: gridH,\r\n                url: \"../../api/TBL_HAZARDBASICINFO" +
"Api/GetAnalyseList\",\r\n                datatype: \"json\",\r\n                loadBef" +
"oreSend: function (a) {\r\n                    a.setRequestHeader(\"Authorization\"," +
" authToken);\r\n                },\r\n                treeGrid: true,\r\n             " +
"   treeGridModel: \"adjacency\",\r\n                ExpandColumn: \"area\",\r\n         " +
"       colModel: colmns,\r\n                treeReader: { level_field: \"level\", pa" +
"rent_id_field: \"parent_field\", leaf_field: \"isLeaf\", expanded_field: \"expanded\" " +
"},\r\n                shrinkToFit: false,\r\n                gridview: true,\r\n      " +
"          onSelectRow: function (rowId, status) {\r\n                    //selecte" +
"dRowIndex = $(\'#\' + this.id).getGridParam(\'selrow\');\r\n                    consol" +
"e.log(rowId, status);\r\n                    //console.log(selectedRowIndex);\r\n   " +
"                 var dt = $(\'#\' + this.id).jqGrid(\"getRowData\", rowId);\r\n       " +
"             var data = [];\r\n                    data.push({ longitude: XZQHJWD[" +
"rowId][0], latitude: XZQHJWD[rowId][1] });\r\n                    mapCtlExt.addLoc" +
"ation(data, false, 3);\r\n                },\r\n                gridComplete: functi" +
"on () {\r\n                    $(\'#\' + this.id).setSelection(selectedRowIndex, fal" +
"se);\r\n                    $(\'#gridTableCount\').setGridWidth(($(\'.gridPanel\').wid" +
"th() - 5));\r\n                    //$(\'#gridTableA\').setGridWidth(($(window).widt" +
"h() - 5));\r\n                },\r\n                loadComplete: function (jsondata" +
") {\r\n                    groupstr = \"\";\r\n                    var coldata = [];\r\n" +
"                    for (var i = 0; i < dicCol.length; i++) {\r\n                 " +
"       if (dicCol[i].key != \"area\") {\r\n                            if (dicCol[i]" +
".key == \"zhd\" || dicCol[i].key == \"yhd\") {\r\n                                cold" +
"ata.push({ text: dicCol[i].value, \'value\': dicCol[i].key });\r\n                  " +
"          }\r\n\r\n                            //取出所有数据\r\n                           " +
" var temp = [];\r\n                            if (dicCol[i].key == \"zq\" || dicCol" +
"[i].key == \"mq\" || dicCol[i].key == \"jh\" || dicCol[i].key == \"xq\") {\r\n          " +
"                      groupstr += dicCol[i].value + \",\";\r\n                      " +
"          allYData[dicCol[i].key] = {};\r\n                                for (va" +
"r k = 0; k < dicCol[i].children.length; k++) {\r\n                                " +
"    temp = [];\r\n                                    if (jsondata != null && json" +
"data.length > 0) {\r\n                                        for (var j = 0; j < " +
"jsondata.length; j++) {\r\n                                            temp.push(j" +
"sondata[j][dicCol[i].children[k].key]);\r\n                                       " +
" };\r\n                                    }\r\n                                    " +
"allYData[dicCol[i].key][dicCol[i].children[k].key] = {\r\n                        " +
"                name: dicCol[i].children[k].value, type: \"bar\", data: temp,\r\n   " +
"                                     itemStyle: { normal: { label: { show: true," +
" position: \'top\' } } }\r\n                                    };\r\n                " +
"                }\r\n                            } else {\r\n                       " +
"         if (jsondata != null && jsondata.length > 0) {\r\n                       " +
"             for (var j = 0; j < jsondata.length; j++) {\r\n                      " +
"                  temp.push(jsondata[j][dicCol[i].key]);\r\n                      " +
"              };\r\n                                }\r\n                           " +
"     allYData[dicCol[i].key] = {\r\n                                    name: dicC" +
"ol[i].value, type: \"bar\", data: temp,\r\n                                    itemS" +
"tyle: { normal: { label: { show: true, position: \'top\' } } }\r\n                  " +
"              };\r\n                            }\r\n                        }\r\n    " +
"                }\r\n\r\n                    allXData = [];\r\n                    for" +
" (var i = 0; i < jsondata.length; i++) {\r\n                        var temp = \"\";" +
"\r\n                        if (jsondata[i].townname != null)\r\n                   " +
"         temp = jsondata[i].townname;\r\n                        else if (jsondata" +
"[i].countyname != null)\r\n                            temp = jsondata[i].countyna" +
"me;\r\n                        else if (jsondata[i].cityname != null)\r\n           " +
"                 temp = jsondata[i].cityname;\r\n                        else if (" +
"jsondata[i].provincename != null)\r\n                            temp = jsondata[i" +
"].provincename;\r\n                        allXData.push(temp);\r\n                 " +
"   }\r\n\r\n                    //统计图表类型\r\n                    $(\"#\" + typeId).ComboB" +
"ox({\r\n                        data: coldata,\r\n                        id: \"value" +
"\",\r\n                        text: \"text\",\r\n                        height: \'200p" +
"x\',\r\n                        selectOne: true,\r\n                        descripti" +
"on: \"\"\r\n                    }).bind(\"change\", function () {\r\n                   " +
"     var value = $(this).attr(\'data-value\');\r\n                        var text =" +
" $(this).attr(\'data-text\');\r\n                        LoadChart([text], allYData[" +
"value], Getpix(value), chartId);\r\n                    });\r\n\r\n                   " +
" var xdata = [showDta[0].value];\r\n                    var ydata = allYData.zhd;\r" +
"\n                    LoadChart(xdata, ydata, Getpix(showDta[0].key), chartId);\r\n" +
"                }\r\n            });\r\n\r\n            //组合列头\r\n            var group " +
"= [];\r\n            //$(\"input[name=\'deviceType\']\").each(function () {\r\n         " +
"   //    var id = $(this)[0].id;\r\n            //    var count = 0;\r\n            " +
"//    var name = \"\";\r\n            //    var first = \"\";\r\n            //    for (" +
"var i = 0; i < dicCol.length; i++) {\r\n            //        if (dicCol[i].pid ==" +
" id) {\r\n            //            if (count == 0) {\r\n            //             " +
"   name = dicCol[i].parent;\r\n            //                first = dicCol[i].key" +
";\r\n            //            }\r\n            //            count += 1;\r\n         " +
"   //        }\r\n\r\n            //    }\r\n            //    group.push({ startColum" +
"nName: first, numberOfColumns: count, titleText: name });\r\n            //});\r\n  " +
"          var flag = \"\"; var flagCount = 0; var falgKey = \"\"; var falgTitle = \"\"" +
";\r\n            $(dicCol).each(function (index, item) {\r\n                if (item" +
".pid) {\r\n                    if (!flag) {\r\n                        flag = item.p" +
"id;\r\n                        falgKey = item.key;\r\n                        falgTi" +
"tle = item.parent;\r\n                    }\r\n                    if (flag != item." +
"pid) {//如果下一个和上一个不同则合并表头\r\n                        group.push({ startColumnName: " +
"falgKey, numberOfColumns: flagCount, titleText: falgTitle });\r\n                 " +
"       flag = item.pid;\r\n                        falgKey = item.key;\r\n          " +
"              falgTitle = item.parent;\r\n                        flagCount = 1;\r\n" +
"                    }\r\n                    else if (index == dicCol.length - 1) " +
"{//最后一个\r\n                        group.push({ startColumnName: falgKey, numberOf" +
"Columns: flagCount + 1, titleText: falgTitle });\r\n                    }\r\n       " +
"             else {\r\n                        flagCount++;\r\n                    }" +
"\r\n                }\r\n            });\r\n\r\n\r\n            $gridTableCount.jqGrid(\"se" +
"tGroupHeaders\", {\r\n                useColSpanStyle: true,\r\n                group" +
"Headers: group\r\n            });\r\n            //控制显示列\r\n            HideValue(id);" +
"\r\n            showColmns(\"灾害点\", id);\r\n            changeTabs(queryJson);\r\n      " +
"      BindMapMarker_count(queryJson, \"灾害点\");\r\n        }\r\n\r\n        //加载查询表格\r\n   " +
"     function GetGrid_Point(obj) {\r\n            var gridH = $(window).height() -" +
" $(\'#mapControl\').height() - $(\'#tabListContentDiv\').height() - 82;\r\n           " +
" var selectedRowIndex = 0;\r\n            var queryJson = {};\r\n            queryJs" +
"on[\"PROVINCE\"] = obj[\"province\"];\r\n            queryJson[\"CITY\"] = obj[\"city\"];\r" +
"\n            queryJson[\"COUNTY\"] = obj[\"county\"];\r\n            queryJson[\"Select" +
"Type\"] = obj[\"SelectType\"];\r\n            queryJson[\"PROJECTTYPE\"] = \"调查\";\r\n     " +
"       queryJson[\"TYPE\"] = \"查询\";\r\n            dtq[\"PROVINCE\"] = obj[\"province\"];" +
"\r\n            dtq[\"CITY\"] = obj[\"city\"];\r\n            dtq[\"COUNTY\"] = obj[\"count" +
"y\"];\r\n            // BindMapMarker_count(dtq, \"灾害点\");\r\n            $(\"#TJSJCX\")." +
"empty();\r\n            var html = \"<div class=\\\"gridPanel\\\"><table id=\\\"gridTable" +
"Point\\\"></table><div id=\\\"gridPager\\\"></div></div>\";\r\n            $(\"#TJSJCX\").a" +
"ppend(html);\r\n            var $gridTable = $(\'#gridTablePoint\');\r\n            Bi" +
"ndMapMarker(queryJson);\r\n            $gridTable.jqGrid({\r\n                autowi" +
"dth: true,\r\n                height: gridH,\r\n                mtype: \'POST\',\r\n    " +
"            postData: { queryJson: JSON.stringify(queryJson) },\r\n               " +
" url: \"../../api/TBL_HAZARDBASICINFOApi/PostPageListJson\",\r\n                data" +
"type: \"json\",\r\n                loadBeforeSend: function (a) {\r\n                 " +
"   if (authToken != null)\r\n                        a.setRequestHeader(\"Authoriza" +
"tion\", authToken);\r\n                },\r\n                colModel: [\r\n           " +
"         { label: \'主键\', name: \'GUID\', index: \'GUID\', width: 250, align: \'left\', " +
"sortable: true, hidden: true },\r\n                    { label: \'灾害点编号\', name: \'UN" +
"IFIEDCODE\', index: \'UNIFIEDCODE\', width: 250, align: \'left\', sortable: true },\r\n" +
"                    { label: \'灾害点名称\', name: \'DISASTERNAME\', index: \'DISASTERNAME" +
"\', width: 300, align: \'left\', sortable: true },\r\n                    { label: \'灾" +
"害点类型\', name: \'DISASTERTYPE\', index: \'DISASTERTYPE\', width: 200, align: \'left\', s" +
"ortable: true },\r\n                    {\r\n                        label: \'灾情等级\', " +
"name: \'DISASTERLEVEL\', index: \'DISASTERLEVEL\', width: 150, align: \'left\', sortab" +
"le: true,\r\n                        formatter: function (cellvalue, options, rowO" +
"bject) {\r\n                            return getInfoTop().learun.data.get([\"data" +
"Item\", \"DISASTERLEVEL\", cellvalue]);\r\n                        }\r\n               " +
"     },\r\n                    {\r\n                        label: \'险情等级\', name: \'DA" +
"NGERLEVEL\', index: \'DANGERLEVEL\', width: 150, align: \'left\', sortable: true,\r\n  " +
"                      formatter: function (cellvalue, options, rowObject) {\r\n   " +
"                         return getInfoTop().learun.data.get([\"dataItem\", \"DANGE" +
"RLEVEL\", cellvalue]);\r\n                        }\r\n                    },\r\n      " +
"              { label: \'经度\', name: \'LONGITUDE\', index: \'LONGITUDE\', width: 100, " +
"align: \'left\', sortable: true, hidden: true },\r\n                    { label: \'纬度" +
"\', name: \'LATITUDE\', index: \'LATITUDE\', width: 100, align: \'left\', sortable: tru" +
"e, hidden: true },\r\n                    { label: \'地理位置\', name: \'LOCATION\', index" +
": \'LOCATION\', width: 500, align: \'left\', sortable: true },\r\n                    " +
"{ label: \'市\', name: \'CITY\', index: \'CITY\', width: 100, align: \'left\', sortable: " +
"true, hidden: true },\r\n                    { label: \'市名称\', name: \'CITYNAME\', ind" +
"ex: \'CITYNAME\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n    " +
"                { label: \'县\', name: \'COUNTY\', index: \'COUNTY\', width: 100, align" +
": \'left\', sortable: true, hidden: true },\r\n                    { label: \'县名称\', n" +
"ame: \'COUNTYNAME\', index: \'COUNTYNAME\', width: 100, align: \'left\', sortable: tru" +
"e, hidden: true },\r\n                    { label: \'乡镇\', name: \'TOWN\', index: \'TOW" +
"N\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n                " +
"    { label: \'乡镇名称\', name: \'TOWNNAME\', index: \'TOWNNAME\', width: 100, align: \'le" +
"ft\', sortable: true, hidden: true },\r\n                    { label: \'目前稳定程度\', nam" +
"e: \'CURSTABLESTATUS\', index: \'CURSTABLESTATUS\', width: 100, align: \'left\', sorta" +
"ble: true, hidden: true },\r\n                    { label: \'今后变化趋势\', name: \'STABLE" +
"TREND\', index: \'STABLETREND\', width: 100, align: \'left\', sortable: true, hidden:" +
" true },\r\n                    { label: \'威胁人口\', name: \'THREATENPEOPLE\', index: \'T" +
"HREATENPEOPLE\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n    " +
"                { label: \'威胁财产\', name: \'THREATENASSETS\', index: \'THREATENASSETS\'" +
", width: 100, align: \'left\', sortable: true, hidden: true },\r\n                  " +
"  { label: \'死亡人口\', name: \'DEATHTOLL\', index: \'DEATHTOLL\', width: 100, align: \'le" +
"ft\', sortable: true, hidden: true },\r\n                    { label: \'财产损失\', name:" +
" \'ASSETSLOSE\', index: \'ASSETSLOSE\', width: 100, align: \'left\', sortable: true, h" +
"idden: true },\r\n                    { label: \'防治建议\', name: \'TREATMENTSUGGESTION\'" +
", index: \'TREATMENTSUGGESTION\', width: 100, align: \'left\', sortable: true, hidde" +
"n: true },\r\n                    { label: \'隐患点\', name: \'HIDDENDANGER\', index: \'HI" +
"DDENDANGER\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n       " +
"             { label: \'监测建议\', name: \'MONITORSUGGESTION\', index: \'MONITORSUGGESTI" +
"ON\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n               " +
"     { label: \'修改日期\', name: \'MODIFYTIME\', index: \'MODIFYTIME\', width: 100, align" +
": \'left\', sortable: true, hidden: true }\r\n\r\n                ],\r\n                " +
"viewrecords: true,\r\n                rowNum: 30,\r\n                rowList: [30, 5" +
"0, 100],\r\n                pager: \"#gridPager\",\r\n                sortname: \'MODIF" +
"YTIME\',\r\n                sortorder: \'desc\',\r\n                rownumbers: true,\r\n" +
"                shrinkToFit: true,\r\n                gridview: true,\r\n           " +
"     onSelectRow: function (rowId, status) {\r\n                    selectedRowInd" +
"ex = $(\'#\' + this.id).getGridParam(\'selrow\');\r\n                    var dt = $gri" +
"dTable.jqGrid(\"getRowData\", rowId);\r\n                    var data = [];\r\n       " +
"             data.push({ longitude: dt.LONGITUDE, latitude: dt.LATITUDE });\r\n   " +
"                 mapCtlExt.addLocation(data, false);\r\n                },\r\n      " +
"          gridComplete: function (data) {\r\n                    $(\'#gridTablePoin" +
"t\').setGridWidth($(\'.gridPanel:eq(1)\').width() - 5);\r\n                    $(\'#\' " +
"+ this.id).setSelection(selectedRowIndex, false);\r\n\r\n\r\n\r\n                }\r\n    " +
"        });\r\n        }\r\n\r\n\r\n\r\n        //加载地图marker\r\n        function BindMapMark" +
"er(queryJson) {\r\n            $.ajax({\r\n                url: \"../../api/TBL_HAZAR" +
"DBASICINFOApi/GetZYListJson\",\r\n                data: { queryJson: JSON.stringify" +
"(queryJson) },\r\n                beforeSend: function (a) {\r\n                    " +
"if (authToken != null)\r\n                        a.setRequestHeader(\"Authorizatio" +
"n\", authToken);\r\n                },\r\n                type: \"get\",\r\n             " +
"   dataType: \'json\',\r\n                success: function (data) {\r\n\r\n            " +
"        var returnValue = [];\r\n                    var type = [];\r\n             " +
"       for (var i = 0; i < data.length; i++) {\r\n                        if (data" +
"[i].DANGERLEVEL == null) {\r\n                            data[i].DANGERLEVEL = \"\"" +
";\r\n                        }\r\n                        if (data[i].THREATENPEOPLE" +
" == null) {\r\n                            data[i].THREATENPEOPLE = \"\";\r\n         " +
"               }\r\n                        if (data[i].THREATENASSETS == null) {\r" +
"\n                            data[i].THREATENASSETS = \"\";\r\n                     " +
"   }\r\n                        //详情页面\r\n                        var divhtml = \'<di" +
"v style=\"font-weight: bold;\"></div>\';\r\n                        divhtml += \'<div " +
"style=\"font-weight: bold;margin-bottom:5px;\"><span style=\"margin-left:10px;\">灾害点" +
"名称：</span><span>\' + data[i].DISASTERNAME + \'</span></div>\';\r\n                   " +
"     divhtml += \'<div style=\"margin-bottom:5px;\"><span style=\"margin-left:10px;\"" +
">灾害类型：</span><span>\' + data[i].DISASTERTYPE + \'</span></div>\';\r\n                " +
"        divhtml += \'<div><input type=\"hidden\" id=\"keyID\" value=\"\' + data[i].UNIF" +
"IEDCODE + \'\"/></div>\';\r\n                        divhtml += \'<div style=\"margin-b" +
"ottom:5px;\"><span style=\"margin-left:10px;\">灾害点编号：</span><span>\' + data[i].UNIFI" +
"EDCODE + \'</span></div>\';\r\n                        divhtml += \'<div style=\"margi" +
"n-bottom:5px;\"><span style=\"margin-left:10px;\">威胁人口(人)：</span><span>\' + data[i]." +
"THREATENPEOPLE + \'</span></div>\';\r\n                        divhtml += \'<div styl" +
"e=\"margin-bottom:5px;\"><span style=\"margin-left:10px;\">威胁财产(万元)：</span><span>\' +" +
" data[i].THREATENASSETS + \'</span></div>\';\r\n                        divhtml += \'" +
"<div style=\"margin-bottom:5px;\"><span style=\"margin-left:10px;\">险情等级：</span><spa" +
"n>\' + getInfoTop().learun.data.get([\"dataItem\", \"DANGERLEVEL\", data[i].DANGERLEV" +
"EL]) + \'</span></div>\';\r\n                        divhtml += \'<div style=\"margin-" +
"bottom:5px;\"><span style=\"margin-left:10px;\">地理位置：</span><span>\' + data[i].LOCAT" +
"ION + \'</span></div>\';\r\n                        //divhtml += \'<span style=\"margi" +
"n-right:20px; float:right; cursor: pointer;\"><a onclick=\"MapViewDetail(\\\'\' + dat" +
"a[i].DISASTERTYPE + \",\" + data[i].UNIFIEDCODE + \'\\\')\" href=\"#\" class=\"link-detai" +
"l\">详细信息</a></span>\';\r\n                        var longitude = 0, latitude = 0;\r\n" +
"                        if (data[i].LONGITUDE) {\r\n                            lo" +
"ngitude = parseFloat(data[i].LONGITUDE);\r\n                        }\r\n           " +
"             if (data[i].LATITUDE) {\r\n                            latitude = par" +
"seFloat(data[i].LATITUDE);\r\n                        }\r\n                        r" +
"eturnValue.push({ id: \"all\", url: \"../../Content/images/\" + data[i].DISASTERTYPE" +
" + \"-16.png\", location: [longitude, latitude], popupHtml: divhtml });\r\n\r\n       " +
"             }\r\n                    mapCtlExt.addMarker(returnValue);\r\n         " +
"       }, error: function (e) {\r\n                },\r\n                cache: fals" +
"e\r\n            });\r\n\r\n        };\r\n\r\n        //地图详情\r\n        function MapViewDeta" +
"il(type) {\r\n            var keyValue = type.split(\",\")[1];\r\n            var type" +
"s = type.split(\",\")[0];\r\n            var title = types;\r\n            if (types =" +
"= \"滑坡\") {\r\n                types = \"001\"\r\n            } else if (types == \"崩塌\") " +
"{\r\n                types = \"002\"\r\n            } else if (types == \"泥石流\") {\r\n    " +
"            types = \"003\"\r\n            } else if (types == \"地面沉降\") {\r\n          " +
"      types = \"004\"\r\n            } else if (types == \"地面塌陷\") {\r\n                " +
"types = \"005\"\r\n            } else if (types == \"地裂缝\") {\r\n                types =" +
" \"006\"\r\n            } else if (types == \"斜坡\") {\r\n                types = \"007\"\r\n" +
"            } else if (types == \"滑坡隐患点\") {\r\n                types = \"008\"\r\n     " +
"       } else if (types == \"崩塌隐患点\") {\r\n                types = \"009\"\r\n          " +
"  } else if (types == \"遥感解译点\") {\r\n                types = \"010\"\r\n            }\r\n" +
"            if (checkedRow(keyValue)) {\r\n                newTabs({\r\n            " +
"        id: \"DZLSSJCX\",\r\n                    url: \"/JXGeoManage/TBL_HAZARDBASICI" +
"NFO/DETAIL?keyValue=\" + keyValue + \"&types=\" + types + \"&callback=1\"\r\n          " +
"      });\r\n            }\r\n        }\r\n        //加载地图\r\n        var mapCtlExt = nul" +
"l;\r\n        function GetMapData() {\r\n            mapCtlExt = $(\"#mapControl\").ma" +
"pCtl(\r\n                cfGetMapData({\r\n                    isCluster: false\r\n   " +
"             })\r\n            );\r\n            usercode = \"");

            
            #line 1891 "..\..\Areas\JXGeoManage\Views\TBL_HAZARDBASICINFO\TBL_HAZARDBASICINFOCountAnalyse.cshtml"
                   Write(Infoearth.Application.Code.OperatorProvider.Provider.Current().XZQHCode);

            
            #line default
            #line hidden
WriteLiteral("\";\r\n            GetAreaGeometry(usercode);\r\n        };\r\n\r\n        //地图加载统计图\r\n    " +
"    function BindMapMarker_count(obj, str) {\r\n            var tmpQueryJson = {};" +
"\r\n            $.extend(tmpQueryJson, obj);\r\n            if (str != \"灾害点\") {\r\n   " +
"             tmpQueryJson[\'zhd\'] = \"0\";\r\n            }\r\n            if (str != \"" +
"隐患点\") {\r\n                tmpQueryJson[\'yhd\'] = \"0\";\r\n            }\r\n            " +
"if (str != \"灾情等级\") {\r\n                tmpQueryJson[\'zq\'] = \"0\";\r\n            }\r\n" +
"            if (str != \"险情等级\") {\r\n                tmpQueryJson[\'xq\'] = \"0\";\r\n   " +
"         }\r\n            if (str != \"造成危害\") {\r\n                tmpQueryJson[\'wh\']" +
" = \"0\";\r\n            }\r\n            if (str != \"潜在威胁\") {\r\n                tmpQue" +
"ryJson[\'wx\'] = \"0\";\r\n            }\r\n            if (str != \"目前稳定程度\") {\r\n        " +
"        tmpQueryJson[\'mq\'] = \"0\";\r\n            }\r\n            if (str != \"今后变化趋势" +
"\") {\r\n                tmpQueryJson[\'jh\'] = \"0\";\r\n            }\r\n            if (" +
"str != \"灾害点\" && str != \"隐患点\") {\r\n                tmpQueryJson[\'zhlx\'] = \"0\";\r\n  " +
"          }\r\n            if (str != \"监测建议\") {\r\n                tmpQueryJson[\'jc\'" +
"] = \"0\";\r\n            }\r\n            if (str != \"防治建议\") {\r\n                tmpQu" +
"eryJson[\'fz\'] = \"0\";\r\n            }\r\n\r\n            $.ajax({\r\n                url" +
": \"../../JXGeoManage/TBL_HAZARDBASICINFO/GetZHDCountResult\",\r\n                da" +
"ta: {\r\n                    queryJson: JSON.stringify(tmpQueryJson), type: 1\r\n   " +
"             },\r\n                beforeSend: function (request) {\r\n             " +
"       request.setRequestHeader(\"Authorization\", authToken);\r\n                }," +
"\r\n                type: \"GET\",\r\n                success: function (dataList) {\r\n" +
"                    var markerArrs = []; var aa = \"\", aaa = \"\";\r\n               " +
"     if (dataList) {\r\n                        var data = JSON.parse(dataList);\r\n" +
"                        data = data.data;\r\n                        if (data.leng" +
"th > 0) {\r\n                            for (var i = 0; i < data.length; i++) {\r\n" +
"                                aa = \"\";\r\n                                var it" +
"em = data[i];\r\n                                var x = Number(item.LONGITUDE);\r\n" +
"                                var y = Number(item.LATITUDE);\r\n                " +
"                if (!x || !y) {\r\n                                    continue;\r\n" +
"                                }\r\n                                if (item.hasO" +
"wnProperty(\'省\')) {\r\n                                    XZQHJWD[item[\'省\']] = [x," +
" y]\r\n                                } else if (item.hasOwnProperty(\'市\')) {\r\n   " +
"                                 XZQHJWD[item[\'市\']] = [x, y]\r\n                  " +
"              } else if (item.hasOwnProperty(\'县\')) {\r\n                          " +
"          XZQHJWD[item[\'县\']] = [x, y]\r\n                                }\r\n      " +
"                          var xData = [], inflationData = [];\r\n                 " +
"               for (var key in item) {\r\n                                    if (" +
"key == \"省\" || key == \"市\" || key == \"县\" || key == \"districtName\" || key == \"LATIT" +
"UDE\" || key == \"LONGITUDE\") {\r\n                                        continue;" +
"\r\n                                    }\r\n                                    xDa" +
"ta.push(key);\r\n                                    inflationData.push(item[key])" +
";\r\n                                    aa += key + \":\" + item[key] + \"<br/>\";\r\n " +
"                               }\r\n                                var level = it" +
"em[\"县\"] ? item[\"县\"] + \"</br>\" : (item[\"市\"] ? item[\"市\"] + \"</br>\" : (item[\"省\"] ? " +
"item[\"省\"] + \"</br>\" : \"\"));\r\n                                var hd = aa;\r\n     " +
"                           var option = {\r\n                                    t" +
"ooltip: {\r\n                                        trigger: \'axis\',\r\n           " +
"                             axisPointer: {\r\n                                   " +
"         type: \'shadow\'\r\n                                        },\r\n           " +
"                             formatter: level + aa,\r\n                           " +
"             //formatter:function (a,b,c) {\r\n                                   " +
"     //    // return level + \"{b}:{c}\"\r\n                                        " +
"//    return level + aa;\r\n                                        //},\r\n        " +
"                                position: function (point, params, dom, rect, si" +
"ze) {\r\n                                            return [point[0], \'-50%\'];\r\n " +
"                                       }\r\n                                    }," +
"\r\n                                    grid: {\r\n                                 " +
"       width: 30,\r\n                                        height: 40,\r\n        " +
"                                left: 0,\r\n                                      " +
"  top: 0,\r\n                                        z: 100\r\n                     " +
"               },\r\n                                    xAxis: {\r\n               " +
"                         type: \'category\',\r\n                                    " +
"    splitLine: { show: false },\r\n                                        axisTic" +
"k: { show: false },\r\n                                        axisLabel: { show: " +
"false },\r\n                                        axisLine: { show: false },\r\n  " +
"                                      data: xData,\r\n                            " +
"            z: 100\r\n                                    },\r\n                    " +
"                yAxis: {\r\n                                        splitLine: { s" +
"how: false },\r\n                                        axisTick: { show: false }" +
",\r\n                                        axisLabel: { show: false },\r\n        " +
"                                axisLine: {\r\n                                   " +
"         show: false,\r\n                                            lineStyle: { " +
"color: \'#1c70b6\' }\r\n                                        },\r\n                " +
"                        z: 100\r\n                                    },\r\n        " +
"                            series: {\r\n                                        t" +
"ype: \'bar\',\r\n                                        //barWidth: 7,\r\n           " +
"                             barGap: 1,\r\n                                       " +
" barMaxWidth: 10,\r\n                                        barCategoryGap: 0,\r\n " +
"                                       z: 100,\r\n                                " +
"        data: inflationData,\r\n                                        itemStyle:" +
" {\r\n                                            normal: {\r\n                     " +
"                           color: function (params) {\r\n                         " +
"                           //柱状图每根柱子颜色\r\n                                        " +
"            var colorList = [\'#76ee00\', \'#b2ca6d\', \'#268bf9\', \'#568be3\', \'#86b3f" +
"f\', \'#b0ea55\', \'#00d1aa\', \'#00b8d4\', \'#02c6f8\', \'#4b0082\'];\r\n                   " +
"                                 return colorList[params.dataIndex];\r\n          " +
"                                      }\r\n                                       " +
"     }\r\n                                        }\r\n                             " +
"       }\r\n                                };\r\n                                va" +
"r geoCoord = [x, y];\r\n                                markerArrs.push({ option: " +
"option, position: geoCoord });\r\n                                //var parms = JS" +
"ON.parse(item.districtName);\r\n                                //var icon = item." +
"imgPath ? item.imgPath : \'\';\r\n                                //var marker = {\r\n" +
"                                //    id: \"all\",\r\n                              " +
"  //    url: \"../../\" + icon,\r\n                                //    location: [" +
"x, y],\r\n                                //    popupHtml: parms.html\r\n           " +
"                     //};\r\n\r\n                                //markerArrs.push(m" +
"arker);\r\n                            }\r\n                            if (markerAr" +
"rs.length === 0) return;\r\n                        }\r\n                    }\r\n    " +
"                mapCtlExt.addChart(markerArrs);\r\n                }, error: funct" +
"ion (e) {\r\n                },\r\n                cache: false\r\n            });\r\n  " +
"      }\r\n\r\n        function GetHtml(objArr) {\r\n            if (!objArr.townname)" +
" {\r\n                objArr.townname = \"\";\r\n            }\r\n            if (!objAr" +
"r.wz) {\r\n                objArr.wz = \"\";\r\n            }\r\n            if (!objArr" +
".cityname) {\r\n                objArr.cityname = \"\";\r\n            }\r\n            " +
"if (!objArr.countryname) {\r\n                objArr.countryname = \"\";\r\n          " +
"  }\r\n            var divhtml = \'<div style=\"font-weight: bold;\"></div>\';\r\n      " +
"      divhtml += \'<div style=\"font-weight: bold;margin-bottom:5px;\"><span style=" +
"\"margin-left:10px;\">灾害点名称：</span><span>\' + objArr.name + \'</span></div>\';\r\n     " +
"       divhtml += \'<div style=\"margin-bottom:5px;\"><span style=\"margin-left:10px" +
";\">灾害类型：</span><span>\' + objArr.disastertype + \'</span></div>\';\r\n            div" +
"html += \'<div style=\"margin-bottom:5px;\"><span style=\"margin-left:10px;\">灾害点编号：<" +
"/span><span>\' + objArr.code + \'</span></div>\';\r\n            divhtml += \'<div sty" +
"le=\"margin-bottom:5px;\"><span style=\"margin-left:10px;\">市名称：</span><span>\' + obj" +
"Arr.cityname + \'</span></div>\';\r\n            divhtml += \'<div style=\"margin-bott" +
"om:5px;\"><span style=\"margin-left:10px;\">县名称：</span><span>\' + objArr.countryname" +
" + \'</span></div>\';\r\n            divhtml += \'<div style=\"margin-bottom:5px;\"><sp" +
"an style=\"margin-left:10px;\">乡镇名称：</span><span>\' + objArr.townname + \'</span></d" +
"iv>\';\r\n            divhtml += \'<div style=\"margin-bottom:5px;\"><span style=\"marg" +
"in-left:10px;\">地理位置：</span><span>\' + objArr.wz + \'</span></div>\';\r\n            d" +
"ivhtml += \'<span style=\"margin-right:20px; float:right; cursor: pointer;\"><a onc" +
"lick=\"MapViewDetail(\\\'\' + objArr.disastertype + \",\" + objArr.code + \",\" + objArr" +
".guid + \",\" + objArr.oldcode + \'\\\' )\" href=\"#\" class=\"link-detail\">详细信息</a></spa" +
"n>\';\r\n            return divhtml;\r\n        }\r\n\r\n        //地图详情\r\n        function" +
" MapViewDetail(type) {\r\n            var keyValue = type.split(\",\")[2];\r\n        " +
"    var unifycode = type.split(\",\")[1];\r\n            var types = type.split(\",\")" +
"[0];\r\n            if (types == \"滑坡\") {\r\n                types = \"001\"\r\n         " +
"   } else if (types == \"崩塌\") {\r\n                types = \"002\"\r\n            } els" +
"e if (types == \"泥石流\") {\r\n                types = \"003\"\r\n            } else if (t" +
"ypes == \"地面沉降\") {\r\n                types = \"004\"\r\n            } else if (types =" +
"= \"地面塌陷\") {\r\n                types = \"005\"\r\n            } else if (types == \"地裂缝" +
"\") {\r\n                types = \"006\"\r\n            } else if (types == \"斜坡\") {\r\n  " +
"              types = \"007\"\r\n            }\r\n            newTab({\r\n              " +
"  id: \"DZDCCXXQ\",\r\n                url: \"/JXGeoManage/TBL_HAZARDBASICINFO/DETAIL" +
"_DIAOCHA?keyValue=\" + keyValue + \"&types=\" + types + \"&unifycode=\" + unifycode +" +
" \"&callback=show\"\r\n            });\r\n        }\r\n\r\n        //加载图表\r\n        functio" +
"n LoadChart(title, data, z, chartId) {\r\n            var myChart = echarts.init(d" +
"ocument.getElementById(chartId));\r\n            var series = [], legendData = []," +
" titlestr = \"\";\r\n            // 指定图表的配置项和数据\r\n            if (groupstr.indexOf(ti" +
"tle[0]) > -1) {\r\n                var colors = [\'#D53A35\', \'#334B5C\', \'#6AB0B8\', " +
"\'#E98F6F\', \'#9FBADF\', \'#7FAE90\', \'#DE9325\'];\r\n                titlestr = title[0" +
"];\r\n                var index = 0;\r\n                for (var k in data) {\r\n     " +
"               legendData.push(data[k].name);\r\n                    series.push({" +
"\r\n                        name: data[k].name,\r\n                        type: dat" +
"a[k].type,\r\n                        data: data[k].data,\r\n                       " +
" color: colors[index],\r\n                        itemStyle: data[k].itemStyle\r\n  " +
"                  });\r\n                    index++;\r\n                }\r\n        " +
"    } else {\r\n                legendData = title;\r\n                series.push(d" +
"ata);\r\n            }\r\n            var option = {\r\n                title: {\r\n    " +
"                text: titlestr\r\n                },\r\n                tooltip: {\r\n" +
"                    trigger: \'axis\',\r\n                    axisPointer: {        " +
"    // 坐标轴指示器，坐标轴触发有效\r\n                        type: \'shadow\'        // 默认为直线，可选" +
"为：\'line\' | \'shadow\'\r\n                    }\r\n                },\r\n                " +
"legend: {\r\n                    data: legendData,\r\n                    x: \'center" +
"\',\r\n                    y: 30,\r\n                    padding: [5, 35, 5, 5]\r\n    " +
"            },\r\n                grid: {\r\n                    \"borderWidth\": 0,\r\n" +
"                    top: 60,\r\n                    containLabel: true\r\n          " +
"      },\r\n                xAxis: {\r\n                    data: allXData,\r\n       " +
"             name: \'行政区划\',\r\n                    axisLabel: {\r\n                  " +
"      interval: 0,\r\n                        rotate: -30\r\n                    }\r\n" +
"                },\r\n                yAxis: {\r\n                    type: \'value\'," +
"\r\n                    name: z\r\n                },\r\n                series: serie" +
"s\r\n            };\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOpti" +
"on(option, true);\r\n        }\r\n\r\n        //显示隐藏结果列表tab\r\n        function changeTa" +
"bs(queryJson) {\r\n            var removeId = [];\r\n            if (queryJson.zhd =" +
"= \"1\") {\r\n                //$(\".grid_part:eq(0)\").show().removeClass(\"active\");\r" +
"\n                bindDataGridList({ value: \"tab_zhd\", title: \"灾害点\", aClick: \"cha" +
"ngeToGrid(1)\" });\r\n            }\r\n            else {\r\n                //$(\".grid" +
"_part:eq(0)\").hide();\r\n                removeId.push(\"zhd\");\r\n            }\r\n   " +
"         if (queryJson.yhd == \"1\") {\r\n                //$(\".grid_part:eq(1)\").sh" +
"ow().removeClass(\"active\");\r\n                bindDataGridList({ value: \"tab_yhd\"" +
", title: \"隐患点\", aClick: \"changeToGrid(2)\" });\r\n            }\r\n            else {" +
"\r\n                //$(\".grid_part:eq(1)\").hide();\r\n                removeId.push" +
"(\"yhd\");\r\n            }\r\n            if (queryJson.zq == \"1\") {\r\n               " +
" //$(\".grid_part:eq(2)\").show().removeClass(\"active\");\r\n                bindData" +
"GridList({ value: \"tab_zq\", title: \"灾情等级\", aClick: \"changeToGrid(3)\" });\r\n      " +
"      }\r\n            else {\r\n                //$(\".grid_part:eq(2)\").hide();\r\n  " +
"              removeId.push(\"zq\");\r\n            }\r\n            if (queryJson.xq " +
"== \"1\") {\r\n                //$(\".grid_part:eq(3)\").show().removeClass(\"active\");" +
"\r\n                bindDataGridList({ value: \"tab_xq\", title: \"险情等级\", aClick: \"ch" +
"angeToGrid(4)\" });\r\n            }\r\n            else {\r\n                //$(\".gri" +
"d_part:eq(3)\").hide();\r\n                removeId.push(\"xq\");\r\n            }\r\n   " +
"         if (queryJson.wh == \"1\") {\r\n                //$(\".grid_part:eq(4)\").sho" +
"w().removeClass(\"active\");\r\n                bindDataGridList({ value: \"tab_wh\", " +
"title: \"造成危害\", aClick: \"changeToGrid(5)\" });\r\n            }\r\n            else {\r" +
"\n                //$(\".grid_part:eq(4)\").hide();\r\n                removeId.push(" +
"\"wh\");\r\n            }\r\n            if (queryJson.wx == \"1\") {\r\n                /" +
"/$(\".grid_part:eq(5)\").show().removeClass(\"active\");\r\n                bindDataGr" +
"idList({ value: \"tab_wx\", title: \"潜在威胁\", aClick: \"changeToGrid(6)\" });\r\n        " +
"    }\r\n            else {\r\n                //$(\".grid_part:eq(5)\").hide();\r\n    " +
"            removeId.push(\"wx\");\r\n            }\r\n            if (queryJson.mq ==" +
" \"1\") {\r\n                //$(\".grid_part:eq(6)\").show().removeClass(\"active\");\r\n" +
"                bindDataGridList({ value: \"tab_mq\", title: \"目前稳定程度\", aClick: \"ch" +
"angeToGrid(7)\" });\r\n            }\r\n            else {\r\n                //$(\".gri" +
"d_part:eq(6)\").hide();\r\n                removeId.push(\"mq\");\r\n            }\r\n   " +
"         if (queryJson.jh == \"1\") {\r\n                //$(\".grid_part:eq(7)\").sho" +
"w().removeClass(\"active\");\r\n                bindDataGridList({ value: \"tab_jh\", " +
"title: \"今后变化趋势\", aClick: \"changeToGrid(8)\" });\r\n            }\r\n            else " +
"{\r\n                //$(\".grid_part:eq(7)\").hide();\r\n                removeId.pus" +
"h(\"jh\");\r\n            }\r\n            if (queryJson.jc == \"1\") {\r\n               " +
" bindDataGridList({ value: \"tab_jcjy\", title: \"监测建议\", aClick: \"changeToGrid(9)\" " +
"});\r\n            }\r\n            else {\r\n                removeId.push(\"jc\");\r\n  " +
"          }\r\n            if (queryJson.fz == \"1\") {\r\n                bindDataGri" +
"dList({ value: \"tab_fzjy\", title: \"防治建议\", aClick: \"changeToGrid(10)\" });\r\n      " +
"      }\r\n            else {\r\n                removeId.push(\"fz\");\r\n            }" +
"\r\n\r\n            bindDataGridList({ value: \"tab_chart\", title: \"统计图表\", aClick: \"c" +
"hangeToChart()\" });\r\n            //关闭没有数据的tab页\r\n            for (var i = 0; i < " +
"removeId.length; i++) {\r\n                var dom = $(\"#tabListContentDiv .menuTa" +
"b[data-id=tab_\" + removeId[i] + \"]\").children(\":last\");\r\n                dom.tri" +
"gger(\"click\");\r\n            }\r\n            $(\"#tabListContentDiv .menuTab:first\"" +
").trigger(\"click\");\r\n            //$(\".grid_part:visible:first\").addClass(\"activ" +
"e\");\r\n        }\r\n        var str = \"\"; var dtq = {};\r\n        //tab标签表格切换\r\n     " +
"   function changeToGrid(num, type) {\r\n            if (!num) { return; }\r\n      " +
"      var $gridTableCount = $(\"#gridTableCount\");\r\n            window.setTimeout" +
"(function () {\r\n                HideValue(\"gridTableCount\");\r\n\r\n                " +
"switch (num) {\r\n                    case 1:\r\n                        str = \"灾害点\"" +
";\r\n                        break;\r\n                    case 2:\r\n                " +
"        str = \"隐患点\";\r\n                        break;\r\n                    case 3" +
":\r\n                        str = \"灾情等级\";\r\n                        break;\r\n      " +
"              case 4:\r\n                        str = \"险情等级\";\r\n                  " +
"      break;\r\n                    case 5:\r\n                        str = \"造成危害\";" +
"\r\n                        break;\r\n                    case 6:\r\n                 " +
"       str = \"潜在威胁\";\r\n                        break;\r\n                    case 7" +
":\r\n                        str = \"目前稳定程度\";\r\n                        break;\r\n    " +
"                case 8:\r\n                        str = \"今后变化趋势\";\r\n              " +
"          break;\r\n                    case 9:\r\n                        str = \"监测" +
"建议\";\r\n                        break;\r\n                    case 10:\r\n            " +
"            str = \"防治建议\";\r\n                        break;\r\n                    d" +
"efault: str = \"\";\r\n                }\r\n                $(\"#TJTB\").hide();\r\n      " +
"          var gridH = $(window).height() - $(\'#mapControl\').height() - $(\'#tabLi" +
"stContentDiv\').height() - 82;\r\n                var $gridTable = null;\r\n         " +
"       if (str) {\r\n                    $gridTable = $(\"#gridTableCount\");\r\n     " +
"               showColmns(str, \"gridTableCount\");\r\n                    $(\"#TJSJC" +
"X\").hide();\r\n                    $(\"#TJJG\").show();\r\n                    mapCtlE" +
"xt.addMarker();\r\n                    queryJson = $(\"#TjItem\").getWebControls();\r" +
"\n                    if (queryJson.level == \"\") {\r\n                        query" +
"Json.level = \"省\";\r\n                    }\r\n                    queryJson.sqlWhere" +
" = whereSql;\r\n                    queryJson[\"UnionStatisticsSql\"] = UnionStatist" +
"icsSql;\r\n                    BindMapMarker_count(queryJson, str);\r\n             " +
"       $gridTable.setGridWidth($(\".gridPanel\").width() - 5);\r\n                }\r" +
"\n                else {\r\n                    mapCtlExt.removeChartLayer();\r\n    " +
"                var num1 = num.substring(0, 2);\r\n                    var num2 = " +
"num.substring(2, 4);\r\n                    var num3 = num.substring(4, 6);\r\n     " +
"               var obj = {};\r\n                    if (!Number(num1)) { return; }" +
"\r\n                    else if (num2 == \"00\") {\r\n                        obj[\"pro" +
"vince\"] = num;\r\n                        obj[\"city\"] = \"\";\r\n                     " +
"   obj[\"county\"] = \"\";\r\n                    }\r\n                    else if (num3" +
" == \"00\") {\r\n                        obj[\"province\"] = num1 + \"0000\";\r\n         " +
"               obj[\"city\"] = num;\r\n                        obj[\"county\"] = \"\";\r\n" +
"                    }\r\n                    else {\r\n                        obj[\"" +
"province\"] = num1 + \"0000\";\r\n                        obj[\"city\"] = num1 + num2 +" +
" \"00\";\r\n                        obj[\"county\"] = num;\r\n                    }\r\n   " +
"                 obj[\"SelectType\"] = type;//查询类型\r\n                    $gridTable" +
" = $(\"#gridTablePoint\");\r\n                    $(\"#TJSJCX\").show();\r\n            " +
"        $(\"#TJJG\").hide();\r\n                    dtq = queryJson;\r\n              " +
"      GetGrid_Point(obj);\r\n                    $gridTable.setGridWidth($(\".gridP" +
"anel:eq(1)\").width() - 5);\r\n                }\r\n                $gridTable.setGri" +
"dHeight(gridH);\r\n            }, 200);\r\n        }\r\n\r\n        //tab标签切换到统计图\r\n     " +
"   function changeToChart() {\r\n            var myChart = echarts.init(document.g" +
"etElementById(\"chartsdata\"));\r\n            $(\"#TJJG\").hide();\r\n            $(\"#T" +
"JSJCX\").hide();\r\n            $(\"#TJTB\").show();\r\n            window.setTimeout(f" +
"unction () {\r\n                myChart.resize();\r\n            }, 200);\r\n        }" +
"\r\n\r\n        //添加tab页\r\n        function bindDataGridList(item) {\r\n            var" +
" exists = tabCtl.newTab({ id: item.value, title: item.title, closed: true, icon:" +
" \'\', url: item.value, isTab: true, noNextTab: true, aClick: item.aClick, newUnAc" +
"tive: true });\r\n        }\r\n\r\n        function addOneTab(name, code) {\r\n         " +
"   var doms = $(\"#tabListContentDiv .menuTab\");\r\n            for (var i = 0; i <" +
" doms.length; i++) {\r\n                var domI = $(\"#tabListContentDiv .menuTab:" +
"eq(\" + i + \")\");\r\n                if (domI.text().indexOf(\"统计内容\") > -1) {\r\n     " +
"               domI.next().trigger(\"click\");\r\n                }\r\n            }\r\n" +
"            var title = $(\'.menuTab.active\')[0].innerText;\r\n            if (name" +
") {\r\n                bindDataGridList({ value: \"tab_\" + code, title: \"统计内容-\" + n" +
"ame, aClick: \"changeToGrid(\'\" + code + \"\',\'\" + title + \"\')\", newUnActive: true }" +
");\r\n                $(\"#tabListContentDiv .menuTab:last\").trigger(\"click\");\r\n   " +
"         }\r\n        }\r\n\r\n        //存入报表\r\n        function btn_save() {\r\n        " +
"    if ($(\"#tablename\").val() == \"\") {\r\n                learun.dialogMsg({ msg: " +
"\'报表名称不能为空！\', type: 0 });\r\n                return false;\r\n            }\r\n        " +
"    if (zhlxqury.dangerousCount == 0) {\r\n                queryJson.yhd = 0;\r\n   " +
"         } if (zhlxqury.disasterCount == 0) {\r\n                queryJson.zhd = 0" +
";\r\n            } if (wdqury.allwendbxqk == 0) {\r\n                queryJson.mq = " +
"0; queryJson.jh = 0;\r\n            } if (zhyxqury.allzhyxjqzwx == 0) {\r\n         " +
"       queryJson.wh = 0; queryJson.wx = 0;\r\n            } if (zxqqury.allzxq == " +
"0) {\r\n                queryJson.xq = 0; queryJson.zq = 0;\r\n            }\r\n      " +
"      $(\'#YBCTJ_UI\').SaveReport($(\'#tablename\').val(), JSON.stringify(queryJson)" +
", JSON.stringify(showDta));\r\n        }\r\n\r\n        //对应导出\r\n        function btn_e" +
"xport() {\r\n            //queryJson = $(\"#TjItem\").getWebControls();\r\n           " +
" //queryJson.sqlWhere = whereSql;\r\n            var arr = [];\r\n            for (v" +
"ar i = 0; i < showDta.length; i++) {\r\n                arr.push(showDta[i].key);\r" +
"\n            }\r\n            var strcol = arr.join(\",\");\r\n            location.hr" +
"ef = \"../../JXGeoManage/TBL_HAZARDBASICINFO/GetHazardbasiciStaticsExcelDown?quer" +
"yJson=\" + JSON.stringify(queryJson) + \"&colum=\" + JSON.stringify(strcol);\r\n     " +
"   }\r\n\r\n        //存入报表库点击事件\r\n        function setReportName() {\r\n            //i" +
"f (reportTitle == \"\" || reportTitle == undefined) {\r\n            var time = new " +
"Date();\r\n            var month = time.getMonth() + 1;\r\n            if (month < 1" +
"0)\r\n                month = \'0\' + month;\r\n            var day = time.getDate();\r" +
"\n            if (day < 10)\r\n                day = \'0\' + day;\r\n            $(\"#ta" +
"blename\").val(\"灾害情况统计\" + time.getFullYear() + \"年\" + month + \"月\" + day + \"日\");\r\n " +
"           //console.log($(\"#tablename\").val())\r\n            //}\r\n            //" +
"else {\r\n            //    $(\"#tablename\")[0].value = reportTitle;\r\n            /" +
"/}\r\n            $(\"#myModal\").modal(\"show\");\r\n        }\r\n        var zhlxqury = " +
"{}; var wdqury = {}; var zhyxqury = {}; var zxqqury = {}; var fzjyqury = {};\r\n  " +
"      //统计内容\r\n        function StatisticeContext() {\r\n            dialogOpen({\r\n" +
"                id: \'Form\',\r\n                title: \'统计内容\',\r\n                url" +
": \'../../../../JXGeoManage/TBL_HAZARDBASICINFO/StatisticeContextNew\',\r\n         " +
"       width: \'950px\',\r\n                height: \'550px\',\r\n                callBa" +
"ck: function (iframeId) {\r\n                    //queryJson2 = getInfoTop().frame" +
"s[iframeId].$(\"#Tj\").getWebControls();\r\n                    //$(\"#yhd\").attr(\"ch" +
"ecked\", queryJson2[\'yhd\'] == 0 ? false : true);\r\n                    //$(\"#zhd\")" +
".attr(\"checked\", queryJson2[\'zhd\'] == 0 ? false : true);\r\n                    //" +
"$(\"#jh\").attr(\"checked\", queryJson2[\'jh\'] == 0 ? false : true);\r\n               " +
"     //$(\"#mq\").attr(\"checked\", queryJson2[\'mq\'] == 0 ? false : true);\r\n        " +
"            //$(\"#wh\").attr(\"checked\", queryJson2[\'wh\'] == 0 ? false : true);\r\n " +
"                   //$(\"#wx\").attr(\"checked\", queryJson2[\'wx\'] == 0 ? false : tr" +
"ue);\r\n                    //$(\"#xq\").attr(\"checked\", queryJson2[\'xq\'] == 0 ? fal" +
"se : true);\r\n                    //$(\"#zhlx\").attr(\"checked\", queryJson2[\'zhlx\']" +
" == 0 ? false : true);\r\n                    //$(\"#zq\").attr(\"checked\", queryJson" +
"2[\'zq\'] == 0 ? false : true);\r\n                    zhlxqury = getInfoTop().frame" +
"s[iframeId].$(\"#tj1\").getWebControls();\r\n                    wdqury = getInfoTop" +
"().frames[iframeId].$(\"#tj2\").getWebControls();\r\n                    zhyxqury = " +
"getInfoTop().frames[iframeId].$(\"#tj3\").getWebControls();\r\n                    z" +
"xqqury = getInfoTop().frames[iframeId].$(\"#tj4\").getWebControls();\r\n            " +
"        fzjyqury = getInfoTop().frames[iframeId].$(\"#tj5\").getWebControls();\r\n  " +
"                  getInfoTop().$(\".layui-layer-btn1\").click();\r\n                " +
"}\r\n            });\r\n        }\r\n        var UnionStatisticsSql = \"\";\r\n        //组" +
"合统计内容\r\n        function ComStatisticeContext() {\r\n            dialogOpen({\r\n    " +
"            id: \'Form1\',\r\n                title: \'组合统计条件\',\r\n                url:" +
" \'../../JXGeoManage/TBL_HAZARDBASICINFO/ComStatisticeContext?data=\' + new Date()" +
",\r\n                width: \'690px\',\r\n                height: \'500px\',\r\n          " +
"      callBack: function (iframeId) {\r\n                    //获取最终拼接sql\r\n        " +
"            // UnionStatisticsSql = getInfoTop().frames[iframeId].$(\".chaxunyuju" +
"\")[0].innerHTML;\r\n                    //UnionStatisticsSql = $(getInfoTop().fram" +
"es[iframeId].$(\".chaxunyuju\")[0]).val();\r\n                    UnionStatisticsSql" +
" = $(getInfoTop().frames[iframeId].$(\".zdnew\")[0]).val()\r\n                    Un" +
"ionStatisticsSql = getInfoTop().frames[iframeId].CreplaceE(UnionStatisticsSql);\r" +
"\n                    getInfoTop().$(\".layui-layer-btn1\").click();\r\n             " +
"   }\r\n            });\r\n        }\r\n        //加载项目名称\r\n        function WriteAndDro" +
"p() {\r\n            var authToken = getAuthorizationToken();\r\n            $.ajax(" +
"{\r\n                cache: false,\r\n                type: \"GET\",\r\n                " +
"dataType: \"json\",\r\n                url: \"../../api/JYGC_PROJECTBASEINFOApi/GetLi" +
"stJson?queryJson=\" + JSON.stringify({}),\r\n                beforeSend: function (" +
"request) {\r\n                    request.setRequestHeader(\"Authorization\", authTo" +
"ken);\r\n                },\r\n                error: function () {\r\n               " +
"     alert(\"请求失败\");\r\n                },\r\n                success: function (data" +
") {\r\n                    if (data.length > 0) {\r\n                        var com" +
"boData = \'[\';\r\n                        for (var i = 0; i < data.length; i++) {\r\n" +
"                            if (i != data.length - 1) {\r\n                       " +
"         comboData += \'{ label:\"\' + data[i].PROJECTNAME + \'\",value:\"\' + data[i]." +
"PROJECTGUID + \'\"},\';\r\n                            } else {\r\n                    " +
"            comboData += \'{ label:\"\' + data[i].PROJECTNAME + \'\",value:\"\' + data[" +
"i].PROJECTGUID + \'\"}]\';\r\n                            }\r\n                        " +
"}\r\n                        var comboData2 = eval(\'(\' + comboData + \')\');\r\n      " +
"                  $(\"#ISGLPROJECT\").ComboBox({\r\n                            id: " +
"\"value\",\r\n                            text: \"label\",\r\n                          " +
"  description: \"==请选择==\",\r\n                            height: \"200px\",\r\n       " +
"                     data: comboData2\r\n                        });\r\n            " +
"        }\r\n\r\n                }\r\n            });\r\n        }\r\n    </script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
