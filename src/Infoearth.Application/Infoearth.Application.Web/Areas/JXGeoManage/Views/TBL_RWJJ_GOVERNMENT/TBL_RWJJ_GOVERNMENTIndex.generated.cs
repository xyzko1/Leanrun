#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_RWJJ_GOVERNMENT/TBL_RWJJ_GOVERNMENTIndex.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_RWJJ_GOVERNMENT_TBL_RWJJ_GOVERNMENTIndex_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_RWJJ_GOVERNMENT_TBL_RWJJ_GOVERNMENTIndex_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_RWJJ_GOVERNMENT\TBL_RWJJ_GOVERNMENTIndex.cshtml"
  
    ViewBag.Title = "列表页面";
    Layout = "~/Views/Shared/_IndexMap.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n <style>\r\n    .ui-layout-center {\r\n       overflow-x: hidden !important;\r\n    }" +
"\r\n    .ui-layout-resizer {\r\n        background-color:#f0f3f4 !important;\r\n    }\r" +
"\n</style>\r\n<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"ui-layout-west\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"west-Panel\"");

WriteLiteral(">\r\n             <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(">行政区划信息</div>\r\n             <div");

WriteLiteral(" id=\"itemTree\"");

WriteLiteral("></div>\r\n        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_center\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"center-Panel\"");

WriteLiteral(" style=\"height: 100%;\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout2\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n           <div");

WriteLiteral(" class=\"ui-layout-north\"");

WriteLiteral(" id=\"ui_map\"");

WriteLiteral(" style=\"height: 432px;\"");

WriteLiteral(">\r\n                  <div");

WriteLiteral(" id=\"mapControl\"");

WriteLiteral(" style=\"height:432px;\"");

WriteLiteral("></div>\r\n          </div>\r\n          <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_grid\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" id=\"filter-form\"");

WriteLiteral(">\r\n                           <table>\r\n                               <tr>\r\n     " +
"                             <td>\r\n                                    <input");

WriteLiteral(" id=\"txt_Keyword\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入要查询关键字\"");

WriteLiteral(" style=\"width: 200px;\"");

WriteLiteral(" />\r\n                                   </td>\r\n                                  " +
" <td");

WriteLiteral(" style=\"padding-left: 5px;\"");

WriteLiteral(">\r\n                                       <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>查询</a>\r\n                                   </td>\r\n                          " +
"     </tr>\r\n                           </table>\r\n                       </div>\r\n" +
"                       <div");

WriteLiteral(" class=\"toolbar\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                                <a");

WriteLiteral(" id=\"lr-replace\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"reload()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-refresh\"");

WriteLiteral("></i>刷新</a>\r\n                                <a");

WriteLiteral(" id=\"lr-add\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_add()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-plus\"");

WriteLiteral("></i>新增</a>\r\n                                <a");

WriteLiteral(" id=\"lr-edit\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_edit()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>编辑</a>\r\n                                <a");

WriteLiteral(" id=\"lr-delete\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_delete()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-trash-o\"");

WriteLiteral("></i>删除</a>\r\n                            </div>\r\n                        <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                            <a");

WriteLiteral(" id=\"lr-colgrid\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"ColDataGrid()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-chevron-down\"");

WriteLiteral("></i>列表</a>\r\n                            <a");

WriteLiteral(" id=\"lr-colmap\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"ColMapDiv()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-chevron-up\"");

WriteLiteral("></i>地图</a>\r\n                        </div>\r\n                      </div>\r\n      " +
"                <div");

WriteLiteral(" style=\"clear:both;\"");

WriteLiteral("></div>\r\n                  </div>\r\n                  <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                      <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                      <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n                   </div>\r\n              </div>\r\n          </div>\r\n     " +
"  </div>\r\n    </div>\r\n </div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script>\r\n    var layout2NorthH = 1;\r\n    $(function () {\r\n        InitialPage(" +
");\r\n        GetTree();\r\n        GetMapData();\r\n        GetGrid();\r\n        //查询点" +
"击事件\r\n        $(\"#btn_Search\").click(function () {\r\n            SearchEvent();\r\n " +
"       });\r\n    });\r\n    //初始化页面\r\n    function InitialPage() {\r\n        //layout" +
"布局\r\n        $(\'#layout\').layout({\r\n                applyDemoStyles: true,\r\n     " +
"           onresize: function () {\r\n                if (isResize < 10) {\r\n      " +
"              isResize++;\r\n                }\r\n                resize();\r\n       " +
"      }\r\n         });\r\n        var isResize = 0;\r\n        var count = 0;\r\n      " +
"  var resized = 0;\r\n        $(\'#layout2\').layout({\r\n            applyDemoStyles:" +
" true,\r\n            onresize: function () {\r\n                resize();\r\n        " +
"        if (isResize > 1) {\r\n                resized = 1;\r\n                 } el" +
"se {\r\n                    if (count == 1 || resized == 0) {\r\n                   " +
"     $(\'#layout2 .ui-layout-center\').height($(\'#layout2 .ui-layout-center\').heig" +
"ht() - 18);\r\n                    }\r\n                 }\r\n                  count+" +
"+;\r\n             }\r\n         });\r\n          //resize重设布局;\r\n         $(window).re" +
"size(function (e) {\r\n              if (isResize<10) {\r\n                 isResize" +
" ++;\r\n              }\r\n              resize();\r\n              e.stopPropagation(" +
");\r\n         });\r\n         function resize() {\r\n              window.setTimeout(" +
"function () {\r\n                  if (mapCtlExt != null) {\r\n                     " +
"   mapCtlExt.setHeight($(\'#mapControl\').parent().height() - 4);\r\n               " +
"   }\r\n                  $(\'.center-Panel\').height($(\'#layout\').parent().height()" +
" - 20);\r\n                  $(\'#gridTable\').setGridWidth(($(\'.gridPanel\').width()" +
"));\r\n                  $(\'#layout2 .ui-layout-center\').width($(\'#layout2 .ui-lay" +
"out-center\').parent().width() - 10);\r\n                  $(\'#layout2 .ui-layout-r" +
"esizer\').width($(\'#layout2 .ui-layout-center\').parent().width() - 10);\r\n        " +
"          $(\'#gridTable\').setGridHeight($(window).height() - $(\'#mapControl\').he" +
"ight() - $(\'.panel-Title\').height());\r\n                  $(\'#gridTable\').setGrid" +
"Height($(\'#layout2 .ui-layout-center\').height() - 60 - 60);\r\n                  $" +
"(\'.ui-jqgrid-bdiv\').height($(\'#layout2 .ui-layout-center\').height() - 60 - 60);\r" +
"\n                  $(\'#itemTree\').setTreeHeight($(window).height() - 52);\r\n     " +
"             $(\'#layout2 .ui-layout-center\').height($(\'#layout2\').height() - $(\'" +
"#layout2 .ui-layout-north\').height() - 15);\r\n                  $(\'#gridTable\').s" +
"etGridHeight($(\'#layout2 .ui-layout-center\').height() - 115);\r\n                 " +
" $(\'#layout2 .ui-layout-center\').css(\'overflow\', \'hidden\');\r\n              }, 20" +
"0);\r\n           };\r\n           $(window).resize();\r\n           $(\'#layout2 .ui-l" +
"ayout-center\').height($(\'#layout2 .ui-layout-center\').height() - 18);\r\n         " +
"  layout2NorthH = $(\"#layout2 .ui-layout-north\").height();\r\n     }\r\n    //加载行政区划" +
"树\r\n    var AreaCode = DefalutCode;\r\n    function GetTree() {\r\n        var item =" +
" {\r\n            height: $(window).height() - 52,\r\n            isAllExpand: false" +
",\r\n            url: \"../../Map/GetTreeJsonForMap\",\r\n            onnodeclick: fun" +
"ction (item) {\r\n                AreaCode = item.id;\r\n                if(item.val" +
"ue.split(\',\')[1]  < 3) {\r\n                     //展开下级\r\n                     $(\"." +
"bbit-tree-selected\").children(\'.bbit-tree-ec-icon\').trigger(\"click\");\r\n         " +
"       }\r\n                $(\'#btn_Search\').trigger(\"click\");\r\n            },\r\n  " +
"      };\r\n        //初始化\r\n        $(\"#itemTree\").treeview(item);\r\n    };\r\n    //加" +
"载地图\r\n    var mapCtlExt = null;\r\n    function GetMapData() {\r\n          $.ajax({\r" +
"\n             url: \'../../Map/GetMapDatas\',\r\n             async: false,\r\n       " +
"      type: \"GET\",\r\n             success: function (data) {\r\n                   " +
"    var dataSet = JSON.parse(data);\r\n                        mapCtlExt= $(\"#mapC" +
"ontrol\").mapCtl({\r\n                                mapwidth: 1500,\r\n            " +
"                    isShowGisLayer:false,\r\n                                isFra" +
"me:true,\r\n                                dataset: dataSet,\r\n                   " +
"             isCluster: true\r\n                             });\r\n                " +
"        }, error: function (e) {\r\n                    },\r\n             cache: fa" +
"lse\r\n         });\r\n     };\r\n    //加载表格\r\n    function GetGrid() {\r\n        var se" +
"lectedRowIndex = 0;\r\n        var queryJson = $(\"#filter-form\").getWebControls();" +
"\r\n        queryJson[\"AreaCode\"] = AreaCode;\r\n        var $gridTable = $(\'#gridTa" +
"ble\');\r\n        $gridTable.jqGrid({\r\n            autowidth: true,\r\n            p" +
"ostData: { queryJson: JSON.stringify(queryJson) },\r\n            height: $(window" +
").height() - 542,\r\n            url: \"../../JXGeoManage/TBL_RWJJ_GOVERNMENT/GetLi" +
"stJson\",\r\n            datatype: \"json\",\r\n            colModel: [\r\n              " +
"  { label: \'ID\', name: \'UNIFIEDCODE\', index: \'UNIFIEDCODE\', width: 300, align: \'" +
"left\', sortable: false, hidden: true },\r\n                { label: \'单位名称\', name: " +
"\'NAME\', index: \'NAME\', width: 500, align: \'left\', sortable: false },\r\n          " +
"      { label: \'身份证\', name: \'CARDID\', index: \'CARDID\', width: 200, align: \'left\'" +
", sortable: false },\r\n                { label: \'经度\', name: \'LONGITUDE\', index: \'" +
"LONGITUDE\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n        " +
"        { label: \'纬度\', name: \'LATITUDE\', index: \'LATITUDE\', width: 100, align: \'" +
"left\', sortable: true, hidden: true },\r\n                { label: \'电话\', name: \'PH" +
"ONE\', index: \'PHONE\', width: 500, align: \'left\', sortable: false },\r\n           " +
"     { label: \'手机\', name: \'MOBILE\', index: \'MOBILE\', width: 100, align: \'left\', " +
"sortable: false},\r\n                { label: \'区县\', name: \'CITY\', index: \'CITY\', w" +
"idth: 100, align: \'left\', sortable: false },\r\n                { label: \'乡镇\', nam" +
"e: \'TOWN\', index: \'TOWN\', width: 100, align: \'left\', sortable: false},\r\n        " +
"        { label: \'村组\', name: \'VILLAGE\', index: \'VILLAGE\', width: 100, align: \'le" +
"ft\', sortable: false },\r\n                { label: \'联系人\', name: \'CONTACTPERSON\', " +
"index: \'CONTACTPERSON\', width: 100, align: \'left\', sortable: false},\r\n          " +
"      { label: \'机构级别\', name: \'ORGANIZATIONLEVEL\', index: \'ORGANIZATIONLEVEL\', wi" +
"dth: 100, align: \'left\', sortable: false},\r\n                { label: \'政府ID\', nam" +
"e: \'NAMEID\', index: \'NAMEID\', width: 100, align: \'left\', sortable: false, hidden" +
": true },\r\n                { label: \'联系人编号\', name: \'CONTACTPERSONID\', index: \'CO" +
"NTACTPERSONID\', width: 100, align: \'left\', sortable: false, hidden: true },\r\n   " +
"         ],\r\n            viewrecords: true,\r\n            rowNum: 30,\r\n          " +
"  rowList: [30, 50, 100],\r\n            pager: \"#gridPager\",\r\n            sortnam" +
"e: \'UNIFIEDCODE\',\r\n            sortorder: \'desc\',\r\n            rownumbers: true," +
"\r\n            shrinkToFit: true,\r\n            gridview: true,\r\n            onSel" +
"ectRow: function () {\r\n                selectedRowIndex = $(\'#\' + this.id).getGr" +
"idParam(\'selrow\');\r\n                var dt = $gridTable.jqGrid(\"getRowData\", row" +
"Id);\r\n                var data = [];\r\n                var longitude = 0, latitud" +
"e = 0;\r\n                if (dt.LONGITUDE) {\r\n                    longitude = par" +
"seFloat(DFMZH(dt.LONGITUDE));\r\n                }\r\n                if (dt.LATITUD" +
"E) {\r\n                    latitude = parseFloat(DFMZH(dt.LATITUDE));\r\n          " +
"      }\r\n                data.push({ longitude: longitude, latitude: latitude })" +
";\r\n                mapCtlExt.addLocation(data,true);\r\n            },\r\n          " +
"  gridComplete: function () {\r\n                $(\'#\' + this.id).setSelection(sel" +
"ectedRowIndex, false);\r\n            }\r\n        });\r\n    }\r\n    //新增\r\n    functio" +
"n btn_add() {\r\n        dialogOpen({\r\n            id: \'Form\',\r\n            title:" +
" \'添加人文经济政府信息表\',\r\n            url: \'/JXGeoManage/TBL_RWJJ_GOVERNMENT/TBL_RWJJ_GOV" +
"ERNMENTForm\',\r\n            width: \'px\',\r\n            height: \'px\',\r\n            " +
"callBack: function (iframeId) {\r\n                getInfoTop().frames[iframeId].A" +
"cceptClick();\r\n            }\r\n        });\r\n    }\r\n    //编辑\r\n    function btn_edi" +
"t() {\r\n        var keyValue = $(\"#gridTable\").jqGridRowValue(\'UNIFIEDCODE\');\r\n  " +
"      if (checkedRow(keyValue)) {\r\n            dialogOpen({\r\n                id:" +
" \'Form\',\r\n                title: \'编辑人文经济政府信息表\',\r\n                url: \'/JXGeoMan" +
"age/TBL_RWJJ_GOVERNMENT/TBL_RWJJ_GOVERNMENTForm?keyValue=\' + keyValue,\r\n        " +
"        width: \'px\',\r\n                height: \'px\',\r\n                callBack: f" +
"unction (iframeId) {\r\n                    getInfoTop().frames[iframeId].AcceptCl" +
"ick();\r\n                }\r\n            })\r\n        }\r\n    }\r\n    //删除\r\n    funct" +
"ion btn_delete() {\r\n        var keyValue = $(\"#gridTable\").jqGridRowValue(\'UNIFI" +
"EDCODE\');\r\n        if (keyValue) {\r\n            $.RemoveForm({\r\n                " +
"url: \'../../JXGeoManage/TBL_RWJJ_GOVERNMENT/RemoveForm\',\r\n                param:" +
" { keyValue: keyValue },\r\n                success: function (data) {\r\n          " +
"          $(\'#gridTable\').trigger(\'reloadGrid\');\r\n                }\r\n           " +
" })\r\n        } else {\r\n            dialogMsg(\'请选择需要删除的人文经济政府信息表！\', 0);\r\n        " +
"}\r\n    }\r\n      //查询表格函数\r\n      function SearchEvent() {\r\n        var queryJson " +
"= $(\"#filter-form\").getWebControls();\r\n        queryJson[\"AreaCode\"] = AreaCode\r" +
"\n            $(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n                 postData" +
": { queryJson: JSON.stringify(queryJson) },\r\n                 url: \"../../JXGeoM" +
"anage/TBL_RWJJ_GOVERNMENT/GetListJson\"\r\n            }).trigger(\'reloadGrid\');\r\n " +
"       }\r\n      function ColDataGrid() {\r\n        var centerHeight = $(\"#ui_cent" +
"er .ui-layout\").height();\r\n        var layout2 = $(\'#layout2\').layout();\r\n      " +
"  if ($(\"#lr-colgrid i\").hasClass(\"fa-chevron-down\")) {\r\n             var northH" +
" = centerHeight - 65;\r\n             layout2.sizePane(\"north\", northH);\r\n        " +
"     $(\"#lr-colgrid i\").removeClass(\"fa-chevron-down\");\r\n             $(\"#lr-col" +
"grid i\").addClass(\"fa-chevron-up\");\r\n             if ($(\"#lr-colmap i\").hasClass" +
"(\"fa-chevron-down\")) {\r\n                  $(\"#lr-colmap i\").removeClass(\"fa-chev" +
"ron-down\");\r\n                  $(\"#lr-colmap i\").addClass(\"fa-chevron-up\");\r\n   " +
"          }\r\n        }\r\n        else {\r\n             layout2.sizePane(\"north\", l" +
"ayout2NorthH);\r\n             $(\"#lr-colgrid i\").removeClass(\"fa-chevron-up\");\r\n " +
"            $(\"#lr-colgrid i\").addClass(\"fa-chevron-down\");\r\n        }\r\n        " +
"mapCtlExt.updateSize();\r\n      }\r\n      function ColMapDiv() {\r\n        var layo" +
"ut2 = $(\'#layout2\').layout();\r\n        if ($(\"#lr-colmap i\").hasClass(\"fa-chevro" +
"n-up\")) {\r\n            layout2.sizePane(\"north\", 1);\r\n            $(\"#lr-colmap " +
"i\").removeClass(\"fa-chevron-up\");\r\n            $(\"#lr-colmap i\").addClass(\"fa-ch" +
"evron-down\");\r\n            if ($(\"#lr-colgrid i\").hasClass(\"fa-chevron-up\")) {\r\n" +
"                $(\"#lr-colgrid i\").removeClass(\"fa-chevron-up\");\r\n              " +
"  $(\"#lr-colgrid i\").addClass(\"fa-chevron-down\");\r\n            }\r\n        }\r\n   " +
"     else {\r\n            layout2.sizePane(\"north\", layout2NorthH);\r\n            " +
"$(\"#lr-colmap i\").removeClass(\"fa-chevron-down\");\r\n            $(\"#lr-colmap i\")" +
".addClass(\"fa-chevron-up\");\r\n            if (mapCtlExt != null) {\r\n             " +
"   mapCtlExt.setHeight($(\"#mapControl\").parent().height() - 32 - 4);\r\n          " +
"  }\r\n        }\r\n        mapCtlExt.updateSize();\r\n      }\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
