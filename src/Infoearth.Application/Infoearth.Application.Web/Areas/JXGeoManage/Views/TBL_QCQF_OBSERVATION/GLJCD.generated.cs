#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_QCQF_OBSERVATION/GLJCD.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_QCQF_OBSERVATION_GLJCD_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_QCQF_OBSERVATION_GLJCD_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_QCQF_OBSERVATION\GLJCD.cshtml"
  
    ViewBag.Title = "列表页面";
    Layout = "~/Views/Shared/_Index.cshtml";

            
            #line default
            #line hidden
WriteLiteral(@"
<style>
    body {
        margin:0;
    }
    .spans {
        padding: 0 10px;
        width: 9%;
        text-align: center;
        height: 28px;
        line-height: 28px;
        min-width: 100px;
    }
    .ui-state-highlight, .ui-widget-content .ui-state-highlight, .ui-widget-header .ui-state-highlight {
background:#fff !important;
color:#000 !important;
    }
</style>
<div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(" style=\"background-color: rgba(236, 247, 255, 1);color:#000;height:35px\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-bars\"");

WriteLiteral("></i>查询条件</div>\r\n    <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" style=\"width: 100%; height: 40px;color:#000;display: flex; align-items: center;f" +
"lex-wrap:wrap;padding:0\"");

WriteLiteral(">\r\n        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">灾害点名称:</span><input");

WriteLiteral(" id=\"DISASTERNAME\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入灾害点名称\"");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral(" />\r\n        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">监测类型:</span><div");

WriteLiteral(" id=\"MONITORPOINTCODE\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" placeholder=\"请选择\"");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral("></div>\r\n        <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">监测部位:</span><input");

WriteLiteral(" id=\"MONITORPOINTPOSITION\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入监测部位\"");

WriteLiteral(" style=\"width: 16%\"");

WriteLiteral(" />\r\n        <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" style=\"margin-bottom:0;margin-left:30px\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i> 查询</a>\r\n       <a");

WriteLiteral(" id=\"btn_Reset\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" style=\"margin-bottom:0;margin-left:30px;background:gray;border-color:gray;cursor" +
": pointer;\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i> 重置</a>&nbsp;  \r\n    </div>\r\n    <div");

WriteLiteral(" style=\"background-color: rgba(236, 247, 255, 1);width:100%;height:35px;color:#00" +
"0;display:flex;align-items: center;\"");

WriteLiteral(">\r\n        <span");

WriteLiteral(" style=\"flex:1;font-weight:700;padding-left:9px;height:35px;line-height:35px\"");

WriteLiteral(">监测点列表</span>\r\n    </div>\r\n    <div");

WriteLiteral(" style=\"clear:both;\"");

WriteLiteral("></div>\r\n</div>\r\n<div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n    <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n</div>\r\n<div");

WriteLiteral(" style=\"background-color: rgba(236, 247, 255, 1);width:100%;height:35px;color:#00" +
"0;display:flex;align-items: center;\"");

WriteLiteral(">\r\n    <span");

WriteLiteral(" style=\"flex:1;font-weight:700;padding-left:9px;height:35px;line-height:35px\"");

WriteLiteral(">已关联监测点</span>\r\n</div>\r\n<div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" id=\"gridTables\"");

WriteLiteral("></table>\r\n</div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script>\r\n    var authToken = getAuthorizationToken();\r\n    var checkeddatas = " +
"[];\r\n    var keyValue = request(\'keyValue\');\r\n    var ID = request(\'ID\');\r\n    v" +
"ar gljcecode = request(\'gljcecode\');\r\n    \r\n    $(function () {\r\n        Initial" +
"Page();\r\n        initControl();\r\n        GetGrid();\r\n        GetGrids()\r\n    });" +
"\r\n    //初始化控件\r\n    function initControl() {\r\n        $.ajax({\r\n            url: " +
"\"../../api/TBL_QCQF_POINTOBSERVATIONApi/GetListByID\",\r\n            type: \"GET\",\r" +
"\n            async: false,\r\n            data: { ID: keyValue },\r\n            bef" +
"oreSend: function (a) {\r\n                a.setRequestHeader(\"Authorization\", aut" +
"hToken);\r\n            },\r\n            success: function (data) {\r\n              " +
"  if (data != undefined && data != null && data != \'\') {\r\n                    fo" +
"r (var i = 0; i < data.length; i++) {\r\n                        checkeddatas.push" +
"(data[i][\"UNIFIEDCODE\"]);\r\n                    }\r\n                }\r\n           " +
" }\r\n        })\r\n        $(\"#btn_Search\").click(SearchEvent);\r\n        $(\"#btn_Re" +
"set\").click(ClearEvent);\r\n    }\r\n    function SearchEvent() {\r\n        var query" +
"Json = $(\".title-search\").getWebControls();\r\n        $(\"#gridTable\").jqGrid(\'set" +
"GridParam\', {\r\n            postData: { queryJson: JSON.stringify(queryJson) },\r\n" +
"            loadBeforeSend: function (a) {\r\n                a.setRequestHeader(\"" +
"Authorization\", authToken);\r\n            },\r\n            url: \"../../api/TBL_QCQ" +
"F_LAYOUTPOINTINFOApi/GetPageListJson\",\r\n            page: 1\r\n        }).trigger(" +
"\'reloadGrid\');\r\n    }\r\n    function ClearEvent() {\r\n        $(\".title-search\").f" +
"ind(\"input[type=\'text\']\").val(\"\");\r\n        $(\"#MONITORPOINTCODE\").ComboBoxSetVa" +
"lue(\" \");\r\n    }\r\n    //初始化页面\r\n    function InitialPage() {\r\n        //resize重设布" +
"局;\r\n        $(window).resize(function (e) {\r\n            window.setTimeout(funct" +
"ion () {\r\n                $(\'#gridTable\').setGridWidth(($(\'.gridPanel\').width())" +
");\r\n                $(\'#gridTable\').setGridHeight($(window).height() - 136.5 - 3" +
"4);\r\n            }, 200);\r\n            e.stopPropagation();\r\n        });\r\n      " +
"  $(\"#MONITORPOINTCODE\").ComboBox({\r\n            id: \"label\",\r\n            text:" +
" \"value\",\r\n            description: \"请选择\",\r\n            height: \"170px\",\r\n      " +
"      data: [\r\n                { label: \"DG\", value: \"地鼓\" },\r\n                { " +
"label: \"DL\", value: \"地裂\" },\r\n                { label: \"QL\", value: \"墙裂\" },\r\n    " +
"            { label: \"JS\", value: \"井水\" },\r\n                { label: \"QS\", value:" +
" \"泉水\" },\r\n            ]\r\n        });\r\n    }\r\n    var dataArr = [];  var uuid = [" +
"];\r\n    var guids = guid();\r\n    //加载表格\r\n    function GetGrid() {\r\n        conso" +
"le.log(\"加载\");\r\n        var selectedRowIndex = 0;\r\n        var $gridTable = $(\'#g" +
"ridTable\');\r\n        var queryJson = $(\".title-search\").getWebControls();\r\n     " +
"   queryJson[\"areecode\"] = gljcecode;\r\n        $gridTable.jqGrid({\r\n            " +
"autowidth: true,\r\n            height: ($(window).height() - 136.5 - 34)/2,\r\n    " +
"        url: \"../../api/TBL_QCQF_LAYOUTPOINTINFOApi/GetPageListJson\",\r\n         " +
"   datatype: \"json\",\r\n            postData: { queryJson: JSON.stringify(queryJso" +
"n) },\r\n            loadBeforeSend: function (a) {\r\n                a.setRequestH" +
"eader(\"Authorization\", authToken);\r\n            },\r\n            colModel: [\r\n   " +
"             { label: \'GUID\', name: \'GUID\', index: \'GUID\', width: 250, align: \'l" +
"eft\', sortable: true,hidden:true},\r\n                { label: \'灾害点名称\', name: \'DIS" +
"ASTERNAME\', index: \'DISASTERNAME\', width: 250, align: \'left\', sortable: true },\r" +
"\n                { label: \'地理位置\', name: \'LOCATION\', index: \'LOCATION\', width: 35" +
"0, align: \'left\', sortable: true },\r\n                { label: \'监测部位\', name: \'MON" +
"ITORPOINTPOSITION\', index: \'MONITORPOINTPOSITION\', width: 250, align: \'left\', so" +
"rtable: true, hidden: true },\r\n                { label: \'监测点标号\', name: \'MONITORP" +
"OINTCODE\', index: \'MONITORPOINTCODE\', width: 150, align: \'left\', sortable: true " +
"},\r\n                {\r\n                    label: \'监测类型\', name: \'MONITORPOINTCOD" +
"E\', index: \'MONITORPOINTCODE\', width: 120, align: \'left\', sortable: true\r\n      " +
"           , formatter: function (cellvalue, options, rowObject) {\r\n            " +
"        //防止空值substring报错\r\n                     if (cellvalue != null || cellval" +
"ue != undefined || cellvalue != \"\") {\r\n                         switch (cellvalu" +
"e.substring(0, 2)) {\r\n                             case \"DG\":\r\n                 " +
"                return \"地鼓\";\r\n                             case \"DL\":\r\n         " +
"                        return \"地裂\";\r\n                             case \"QL\":\r\n " +
"                                return \"墙裂\";\r\n                             case " +
"\"JS\":\r\n                                 return \"井水\";\r\n                          " +
"   case \"QS\":\r\n                                 return \"泉水\";\r\n                  " +
"           default:\r\n                                 return \"\";\r\n              " +
"           }\r\n                     } else {\r\n                         return \"\";" +
"\r\n                     }\r\n                     \r\n                 }\r\n           " +
"     },\r\n            ],\r\n            multiselect: true,\r\n            viewrecords" +
": true,\r\n            rowNum: 30,\r\n            rowList: [30, 50, 100],\r\n         " +
"   pager: \"#gridPager\",\r\n            sortname: \'GUID\',\r\n            sortorder: \'" +
"desc\',\r\n            rownumbers: true,\r\n            shrinkToFit: false,\r\n        " +
"    gridview: true,\r\n            onSelectAll:function(rowids,statue){ \r\n        " +
"        dataArr = [];\r\n                $(\"#gridTables\").jqGrid(\"clearGridData\");" +
"\r\n                var ids = $(\'#gridTable\').jqGrid(\'getGridParam\', \'selarrrow\');" +
"\r\n                for (var i = 0; i < ids.length; i++) {\r\n                    va" +
"r rowData = $(\'#gridTable\').jqGrid(\'getRowData\', ids[i]);\r\n                    d" +
"ataArr.push(rowData);\r\n                }\r\n                $(\"#gridTables\").jqGri" +
"d(\'setGridParam\', {\r\n                    datatype: \'local\',\n                    " +
"data: dataArr,\n                    page: 1\r\n                }).trigger(\"reloadGr" +
"id\");\r\n            },\r\n            onSelectRow: function (rowId, status) {\r\n    " +
"           //var rowData = $(\"#gridTable\").getRowData(rowId);\r\n               //" +
"if (!IsInArr(rowData.GUID, checkeddatas)) {\r\n               //    checkeddatas.p" +
"ush(rowData.GUID);\r\n               //    $(\"#\" + rowId).find(\":checkbox\").prop(\'" +
"checked\', true);\r\n               // }\r\n               // else {\r\n               " +
"//    checkeddatas.splice(checkeddatas.indexOf(rowData.GUID), 1)\r\n              " +
" //    $(\"#\" + rowId).find(\":checkbox\").prop(\'checked\', false);\r\n               " +
"//}\r\n                uuid = []; dataArr = []; checkeddatas = [];\r\n              " +
" $(\"#gridTables\").jqGrid(\"clearGridData\");\r\n               var ids = $(\'#gridTab" +
"le\').jqGrid(\'getGridParam\', \'selarrrow\');\r\n               for(var i=0;i<ids.leng" +
"th;i++){\r\n                   var rowData = $(\'#gridTable\').jqGrid(\'getRowData\', " +
"ids[i]);\r\n                   dataArr.push(rowData);\r\n                   uuid.pus" +
"h(ID);\r\n                   checkeddatas.push(rowData.GUID);\r\n               }\r\n " +
"               $(\"#gridTables\").jqGrid(\'setGridParam\', {\r\n                   dat" +
"atype: \'local\',\n                   data: dataArr,\n                   page: 1\r\n  " +
"             }).trigger(\"reloadGrid\");\r\n            },\r\n            gridComplete" +
": function () {\r\n                //var rowIds = $(\"#gridTable\").jqGrid(\"getDataI" +
"Ds\");\r\n                //for (var i = 0; i < checkeddatas.length; i++) {\r\n      " +
"          //    for (var j = 1; j < rowIds.length+1; j++) {\r\n                // " +
"       if (checkeddatas[i] == $(\"#gridTable\").getRowData(j).GUID) {\r\n           " +
"     //            var curChk = $(\"#\" + j).find(\":checkbox\");\r\n                /" +
"/            curChk.attr(\'checked\', \'true\');\r\n                //        }\r\n     " +
"           //    }\r\n                //}\r\n            }\r\n        });\r\n    }\r\n    " +
"function IsInArr(a, arr) {\r\n        var flag= false;\r\n        for (var i = 0; i " +
"< arr.length; i++) {\r\n            if (a==arr[i]) {\r\n                flag = true;" +
"\r\n            }\r\n        }\r\n        return flag;\r\n    }\r\n    //加载表格\r\n    functio" +
"n GetGrids() {\r\n        var selectedRowIndex = 0;\r\n        var $gridTable = $(\'#" +
"gridTables\');\r\n        $gridTable.jqGrid({\r\n            autowidth: true,\r\n      " +
"      height: $(window).height() - 486.5 - 28,\r\n            datatype: \'local\',\n " +
"           data: dataArr,\r\n            loadBeforeSend: function (a) {\r\n         " +
"       a.setRequestHeader(\"Authorization\", authToken);\r\n            },\r\n        " +
"    colModel: [\r\n                { label: \'GUID\', name: \'GUID\', index: \'GUID\', w" +
"idth: 250, align: \'left\', sortable: true, hidden: true },\r\n                { lab" +
"el: \'灾害点名称\', name: \'DISASTERNAME\', index: \'DISASTERNAME\', width: 250, align: \'le" +
"ft\', sortable: true },\r\n                { label: \'地理位置\', name: \'LOCATION\', index" +
": \'LOCATION\', width: 350, align: \'left\', sortable: true },\r\n                { la" +
"bel: \'监测部位\', name: \'MONITORPOINTPOSITION\', index: \'MONITORPOINTPOSITION\', width:" +
" 250, align: \'left\', sortable: true, hidden: true },\r\n                { label: \'" +
"监测点编号\', name: \'MONITORPOINTCODE\', index: \'MONITORPOINTCODE\', width: 150, align: " +
"\'left\', sortable: true },\r\n                {\r\n                    label: \'监测类型\'," +
" name: \'MONITORPOINTCODE\', index: \'MONITORPOINTCODE\', width: 120, align: \'left\'," +
" sortable: true\r\n                    , formatter: function (cellvalue, options, " +
"rowObject) {\r\n                        if (cellvalue != null || cellvalue != unde" +
"fined || cellvalue != \"\") {\r\n                            switch (cellvalue.subst" +
"ring(0, 2)) {\r\n                                case \"DG\":\r\n                     " +
"               return \"地鼓\";\r\n                                case \"DL\":\r\n       " +
"                             return \"地裂\";\r\n                                case " +
"\"QL\":\r\n                                    return \"墙裂\";\r\n                       " +
"         case \"JS\":\r\n                                    return \"井水\";\r\n         " +
"                       case \"QS\":\r\n                                    return \"泉" +
"水\";\r\n                                default:\r\n                                 " +
"   return \"\";\r\n                            }\r\n                        } else {\r\n" +
"                            return \"\";\r\n                        }\r\n             " +
"       }\r\n                },\r\n                {\r\n                    label: \'操作\'" +
", name: \'Action\', index: \'Action\', width: 80, align: \'center\', sortable: true,\r\n" +
"                    formatter: function (cellvalue, options, rowObject) {\r\n     " +
"                   return \'<a onclick=\\\"DeleteInfo(\\\'\' + options.rowId + \'\\\')\\\" " +
"style=\\\"color: #008cee;cursor: pointer;\\\">删除</a>\';\r\n                    }\r\n     " +
"           },\r\n            ],\r\n            viewrecords: true,\r\n            sortn" +
"ame: \'GUID\',\r\n            sortorder: \'desc\',\r\n            rownumbers: true,\r\n   " +
"         shrinkToFit: false,\r\n            gridview: true,\r\n            onSelectR" +
"ow: function () {\r\n                selectedRowIndex = $(\'#\' + this.id).getGridPa" +
"ram(\'selrow\');\r\n            },\r\n            gridComplete: function () {\r\n       " +
"         $(\'#\' + this.id).setSelection(selectedRowIndex, false);\r\n            }\r" +
"\n        });\r\n    }\r\n    //删除勾选\r\n    function DeleteInfo(guid) {\r\n        $(\"#gr" +
"idTables\").jqGrid(\"delRowData\", guid);\r\n        var a = guid - 1;\r\n        $($(\"" +
"#gridTable\").find(\":checkbox\")[a]).prop(\'checked\', false);\r\n    }\r\n        //保存表" +
"单;\r\n    function AcceptClick() {\r\n        var rows = $(\"#gridTables\").jqGrid(\'ge" +
"tRowData\');\r\n        var aa = {};\r\n        aa.dataArr = dataArr; aa.checkeddatas" +
" = checkeddatas; aa.uuid = uuid;\r\n        return aa;\r\n            //return check" +
"eddatas;\r\n    }\r\n    function guid() {\r\n        function S4() {\r\n            ret" +
"urn (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n        }\r" +
"\n        return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4()" +
" + S4() + S4());\r\n    }\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
