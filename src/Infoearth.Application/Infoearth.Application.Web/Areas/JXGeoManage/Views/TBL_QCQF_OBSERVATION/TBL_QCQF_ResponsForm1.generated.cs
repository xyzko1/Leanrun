#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/JXGeoManage/Views/TBL_QCQF_OBSERVATION/TBL_QCQF_ResponsForm.cshtml")]
    public partial class _Areas_JXGeoManage_Views_TBL_QCQF_OBSERVATION_TBL_QCQF_ResponsForm_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_JXGeoManage_Views_TBL_QCQF_OBSERVATION_TBL_QCQF_ResponsForm_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\JXGeoManage\Views\TBL_QCQF_OBSERVATION\TBL_QCQF_ResponsForm.cshtml"
  
    ViewBag.Title = "表单页面";
    Layout = "~/Views/Shared/_Form.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 5 "..\..\Areas\JXGeoManage\Views\TBL_QCQF_OBSERVATION\TBL_QCQF_ResponsForm.cshtml"
  
    ViewBag.Title = "查询页面";
    Layout = "~/Views/Shared/_Index.cshtml";

            
            #line default
            #line hidden
WriteLiteral(@"
<style>
    .form td {
        border: 1px solid #d6d6d6;
        text-align: center !important;
    }

    .formTitle {
        width: 110px !important;
        background: #f6f6f6;
    }

    .haszard {
        background: #C3C3C3;
    }

    .form td {
        border: 1px solid #d6d6d6;
        text-align: center !important;
    }

        .form td input {
            border-top: none;
            border-left: none;
            border-right: none;
        }

        .form td textarea {
            border-top: none;
            border-left: none;
            border-right: none;
        }

    .tiaoj {
        width: 50%;
        float: left;
        margin: 8px 0px;
    }

    .spans {
        width: 25%;
        float: left;
        line-height: 28px;
        margin-right: 10px;
        text-align: right;
    }

    #ISGCR label,#ISLIMITED label {
        margin: 0px 15px;
    }
</style>
<div");

WriteLiteral(" style=\"padding: 10px;\"");

WriteLiteral(">\r\n\r\n    <div");

WriteLiteral(" style=\"width: 100%; height: 40px; align-items: center; justify-content: start;\"");

WriteLiteral(" id=\"formqcqc_ob\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"tiaoj\"");

WriteLiteral(">\r\n            <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">是否观测人<span");

WriteLiteral(" style=\"color: red\"");

WriteLiteral(">*</span>:</span>\r\n            <div");

WriteLiteral(" id=\"ISGCR\"");

WriteLiteral(" type=\"\"");

WriteLiteral(" style=\"float: left; line-height: 30px;\"");

WriteLiteral("></div>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"tiaoj\"");

WriteLiteral(" style=\"clear: both;\"");

WriteLiteral(">\r\n            <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">姓名<span");

WriteLiteral(" style=\"color: red\"");

WriteLiteral(">*</span>:</span><input");

WriteLiteral(" id=\"OBSERVATIONPEOPLE\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" onclick=\"btn_SelectPeople();\"");

WriteLiteral(" placeholder=\"请输入姓名!\"");

WriteLiteral(" style=\"width: 50%\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" checkexpession=\"NotNull\"");

WriteLiteral(" />\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"tiaoj\"");

WriteLiteral(">\r\n            <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">电话<span");

WriteLiteral(" style=\"color: red\"");

WriteLiteral(">*</span>:</span><input");

WriteLiteral(" id=\"OBSERVATIONPHONE\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入电话!\"");

WriteLiteral(" style=\"width: 50%\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" checkexpession=\"MobileOrPhone\"");

WriteLiteral(" />\r\n        </div>\r\n        <div");

WriteLiteral(" id=\"XZQHCODE\"");

WriteLiteral("></div>\r\n\r\n        <div");

WriteLiteral(" style=\"clear: both;\"");

WriteLiteral("></div>\r\n        <div");

WriteLiteral(" id=\"jcd\"");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"tiaoj\"");

WriteLiteral(">\r\n                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">登陆密码:</span><input");

WriteLiteral(" id=\"LOGINPASSWORD\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"\"");

WriteLiteral(" style=\"width: 50%\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" disabled=\"disabled\"");

WriteLiteral(" />\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"tiaoj\"");

WriteLiteral(">\r\n                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">更新时间:</span><input");

WriteLiteral(" id=\"UPDATETIME\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" onfocus=\"WdatePicker()\"");

WriteLiteral(" style=\"width: 50%\"");

WriteLiteral(" />\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"tiaoj\"");

WriteLiteral(">\r\n                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">是否限制范围:</span>\r\n                <div");

WriteLiteral(" id=\"ISLIMITED\"");

WriteLiteral(" type=\"\"");

WriteLiteral(" style=\"float: left; line-height: 30px;\"");

WriteLiteral("></div>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"tiaoj\"");

WriteLiteral(" style=\"display:none;\"");

WriteLiteral(" id=\"FFWZ\"");

WriteLiteral(">\r\n                <span");

WriteLiteral(" class=\"spans\"");

WriteLiteral(">范围值:</span>\r\n                <input");

WriteLiteral(" id=\"FWZ\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"\"");

WriteLiteral(" style=\"width: 50%;\"");

WriteLiteral(" />\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"tiaoj\"");

WriteLiteral(">\r\n                <a");

WriteLiteral(" id=\"btn_Adddis\"");

WriteLiteral(" onclick=\"btn_Adddis()\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" style=\"margin-bottom: 0; margin-left: 30px\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>关联监测点</a>\r\n            </div>\r\n            <div");

WriteLiteral(" style=\"clear: both;\"");

WriteLiteral("></div>\r\n            <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(" style=\"margin-top: 20px;\"");

WriteLiteral(">\r\n                <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n            </div>\r\n        </div>\r\n        <div");

WriteLiteral(" style=\"display: none\"");

WriteLiteral(">\r\n            <table>\r\n                <tr>\r\n                    <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">GUID</td>\r\n                    <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                        <input");

WriteLiteral(" id=\"GUID\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n                    </td>\r\n                    <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">ID</td>\r\n                    <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                        <input");

WriteLiteral(" id=\"ID\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n    " +
"    </div>\r\n    </div>\r\n");

DefineSection("Scripts", () => {

            
            #line 114 "..\..\Areas\JXGeoManage\Views\TBL_QCQF_OBSERVATION\TBL_QCQF_ResponsForm.cshtml"
    
            
            #line default
            #line hidden
WriteLiteral("\r\n    <script");

WriteAttribute("src", Tuple.Create(" src=\"", 4111), Tuple.Create("\"", 4168)
, Tuple.Create(Tuple.Create("", 4117), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/districts/districtsNew.js")
, 4117), false)
);

WriteLiteral("></script>\r\n    <script>\r\n        var AreaCode = request(\'AreaCode\');\r\n        va" +
"r keyValue = request(\'keyValue\');\r\n        var queryJson = [];\r\n        var auth" +
"Token = getAuthorizationToken();\r\n        var jcr = \"\"; var pd = false;\r\n       " +
" $(function () {\r\n            initControl();\r\n            $(\"#ISGCR label\").clic" +
"k(function () {\r\n                if (this.firstChild.value == \"1\") {\r\n          " +
"          $(\"#jcd\").show();\r\n                    pd = true;\r\n                   " +
" $(\".taojian\").css(\"margin\", \"15px 0px\")\r\n                } else if (this.firstC" +
"hild.value == \"0\") {\r\n                    $(\"#jcd\").hide();\r\n                   " +
" pd = false;\r\n                }\r\n            });\r\n            $(\"#ISLIMITED labe" +
"l\").click(function () {\r\n                if (this.firstChild.value == \"1\") {\r\n  " +
"                  $(\"#FFWZ\").show();\r\n                } else if (this.firstChild" +
".value == \"0\") {\r\n                    $(\"#FFWZ\").hide();\r\n                }\r\n   " +
"         });\r\n            \r\n        });\r\n        var guis = \"\";\r\n        //保存表单;" +
"\r\n        function AcceptClick() {\r\n            if (!$(\'#formqcqc_ob\').Validform" +
"()) {\r\n                return false;\r\n            }\r\n\r\n            var postData " +
"= $(\"#formqcqc_ob\").GetWebControls(keyValue);\r\n            if (!postData.ISGCR) " +
"{\r\n                var Validatemsg = \"不能为空！\\n\";\r\n                ValidationMessa" +
"ge($(\"#ISGCR\"), Validatemsg); return false;\r\n            }\r\n            if (post" +
"Data.PROVINCE) {\r\n                postData.PROVINCENAME = $(\"#PROVINCE\")[0].text" +
"Content;\r\n            }\r\n            if (postData.CITY) {\r\n                postD" +
"ata.CITYNAME = $(\"#CITY\")[0].textContent;\r\n            }\r\n            if (postDa" +
"ta.COUNTY) {\r\n                postData.COUNTRYNAME = $(\"#COUNTY\")[0].textContent" +
";\r\n            }\r\n            if (postData.TOWN) {\r\n                postData.TOW" +
"NNAME = $(\"#TOWN\")[0].textContent;\r\n            }\r\n            //if (queryJson.u" +
"uid != undefined) {\r\n            //    postData.ID = queryJson.uuid[0];\r\n       " +
"     //}\r\n            $.SaveForm({\r\n                url: \"../../api/TBL_QCQF_OBS" +
"ERVATIONApi/SaveForm?keyValue=\" + keyValue,\r\n                param: postData,\r\n " +
"               authToken: authToken,\r\n                loading: \"正在保存数据...\",\r\n   " +
"             success: function (data) {\r\n                    try {\r\n            " +
"            console.log(data);\r\n                        if (data.resultdata) {\r\n" +
"                             guis = data.resultdata.GUID;\r\n                     " +
"       if (queryJson) {\r\n                                for (var i = 0; i < que" +
"ryJson.checkeddatas.length; i++) {\r\n                                    queryJso" +
"n.uuid[i]=guis;\r\n                                }\r\n                            " +
"}\r\n                            if (keyValue == \"\") {\r\n                          " +
"      saveRESPONS();\r\n                            }\r\n                        }\r\n" +
"                        getInfoTop().learun.currentIframe().$(\'#gridTable\').trig" +
"ger(\'reloadGrid\');\r\n                    } catch (e) {\r\n                        w" +
"indow.parent.$(\'#gridTable\').trigger(\'reloadGrid\');\r\n                    }\r\n    " +
"            }\r\n            });\r\n            if (keyValue) {\r\n                sav" +
"eRESPONS();\r\n            }\r\n\r\n        }\r\n        function saveRESPONS() {\r\n     " +
"       if (queryJson.uuid == undefined || queryJson.checkeddatas == undefined) {" +
"\r\n                queryJson.uuid = []; queryJson.checkeddatas = [];\r\n           " +
" }\r\n            $.ajax({\r\n                url: \"../../JXGeoManage/TBL_QCQF_POINT" +
"OBSERVATION/SaveFormByID\",\r\n                type: \"POST\",\r\n                async" +
": false,\r\n                data: { ID: JSON.stringify(queryJson.uuid), UNIFIEDCOD" +
"E: JSON.stringify(queryJson.checkeddatas) },\r\n                //data: { ID: JSON" +
".stringify(queryJson.checkeddatas), UNIFIEDCODE: JSON.stringify(queryJson.uuid) " +
"},\r\n                success: function (data) {\r\n                }\r\n            }" +
");\r\n        }\r\n        var usercode = { provinceId: \"\", selectCityId: \"\", select" +
"County: \"\" }\r\n        //初始化控件\r\n        function initControl() {\r\n            cfI" +
"nitControlRadioOrCheck(\"ISGCR\", \"HIDDENDANGER\", \"radio\");\r\n            cfInitCon" +
"trolRadioOrCheck(\"ISLIMITED\", \"HIDDENDANGER\", \"radio\");\r\n            \r\n         " +
"   if (AreaCode) {\r\n                if (AreaCode.substring(2, 6) == \"0000\") {\r\n " +
"                   usercode.provinceId = AreaCode;\r\n                } else if (A" +
"reaCode.substring(4, 6) == \"00\") {\r\n                    usercode.provinceId = Ar" +
"eaCode.substring(0, 2) + \"0000\";\r\n                    usercode.selectCityId = Ar" +
"eaCode;\r\n                } else {\r\n                    usercode.provinceId = Are" +
"aCode.substring(0, 2) + \"0000\";\r\n                    usercode.selectCityId = Are" +
"aCode.substring(0, 4) + \"00\";\r\n                    usercode.selectCounty = AreaC" +
"ode;\r\n                }\r\n            } else {\r\n                usercode = userco" +
"des();\r\n                if (usercode.selectCounty != \"\") {\r\n                    " +
"AreaCode = usercode.selectCounty;\r\n                }else if (usercode.selectCity" +
"Id != \"\") {\r\n                    AreaCode = usercode.selectCityId;\r\n            " +
"    }else if (usercode.provinceId != \"\") {\r\n                    AreaCode = userc" +
"ode.provinceId;\r\n                }\r\n            }\r\n            var district = $(" +
"\"#XZQHCODE\").districtsCtl({\r\n                provinceId: usercode.provinceId,\r\n " +
"               selectProviceId: usercode.provinceId,\r\n                selectCity" +
"Id: usercode.selectCityId,\r\n                selectCounty: usercode.selectCounty," +
"\r\n                showTown: true\r\n            });\r\n            //获取表单\r\n         " +
"   if (!!keyValue) {\r\n                $.SetForm({\r\n                    url: \"../" +
"../api/TBL_QCQF_OBSERVATIONApi/GetFormJson\",\r\n                    param: { keyVa" +
"lue: keyValue },\r\n                    authToken: authToken,\r\n                   " +
" success: function (data) {\r\n                        $(\"#formqcqc_ob\").SetWebCon" +
"trols(data);\r\n                        if (data.ISGCR) {\r\n                       " +
"     if (data.ISGCR.trim() == \"1\") {\r\n                                $(\"#jcd\")." +
"show();\r\n                            }\r\n                        }\r\n             " +
"           if (data.ISLIMITED) {\r\n                            if (data.ISLIMITED" +
".trim() == \"1\") {\r\n                                $(\"#FFWZ\").show();\r\n         " +
"                   }\r\n                        }\r\n                        if (dat" +
"a.PROVINCENAME) {\r\n                            usercode.provinceId = data.PROVIN" +
"CE;\r\n                        }\r\n                        if (data.CITYNAME) {\r\n  " +
"                          $($(\"#CITY\")[0]).find(\"div\")[0].innerHTML = data.CITYN" +
"AME;\r\n                        }\r\n                        if (data.COUNTRYNAME) {" +
"\r\n                            $($(\"#COUNTY\")[0]).find(\"div\")[0].innerHTML = data" +
".COUNTRYNAME;\r\n                        }\r\n                        if (data.TOWNN" +
"AME) {\r\n                            $($(\"#TOWN\")[0]).find(\"div\")[0].innerHTML = " +
"data.TOWNNAME;\r\n                        }\r\n                        $(\"#ISGCR\").C" +
"omboBoxSetValue(data[\"ISGCR\"]);\r\n                        //jcr = data.ID; \r\n    " +
"                    jcr = data.GUID;\r\n                        GetGrid1(jcr);\r\n  " +
"                  }\r\n                });\r\n            }\r\n            GetGrid2();" +
"\r\n\r\n\r\n        }\r\n        var dataArr1 = [];\r\n        //加载表格\r\n        function Ge" +
"tGrid1(data) {\r\n            var selectedRowIndex = 0;\r\n            var $gridTabl" +
"e = $(\'#gridTable\');\r\n            if (data != undefined && data != null && data " +
"!= \'\') {\r\n                queryJson = data;\r\n            }\r\n            $gridTab" +
"le.jqGrid({\r\n                autowidth: true,\r\n                height: $(window)" +
".height() - 400,\r\n                url: \"../../JXGeoManage/TBL_QCQF_POINTOBSERVAT" +
"ION/GetDataJcd\",\r\n                datatype: \"json\",\r\n                postData: {" +
" id: data },\r\n                loadBeforeSend: function (a) {\r\n                  " +
"  a.setRequestHeader(\"Authorization\", authToken);\r\n                },\r\n         " +
"       colModel: [\r\n                    { label: \'GUID\', name: \'GUID\', index: \'G" +
"UID\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n              " +
"      { label: \'灾害点名称\', name: \'DISASTERNAME\', index: \'DISASTERNAME\', width: 200," +
" align: \'left\', sortable: true },\r\n                    { label: \'地理位置\', name: \'L" +
"OCATION\', index: \'LOCATION\', width: 200, align: \'left\', sortable: true },\r\n     " +
"               { label: \'监测部位\', name: \'MONITORPOINTPOSITION\', index: \'MONITORPOI" +
"NTPOSITION\', width: 150, align: \'left\', sortable: true, hidden: true },\r\n       " +
"             { label: \'灾害点编号\', name: \'UNIFIEDCODE\', index: \'UNIFIEDCODE\', width:" +
" 150, align: \'left\', sortable: true },\r\n                       {\r\n              " +
"             label: \'监测类型\', name: \'MONITORPOINTCODE\', index: \'MONITORPOINTCODE\'," +
" width: 120, align: \'left\', sortable: true\r\n                     , formatter: fu" +
"nction (cellvalue, options, rowObject) {\r\n                         if (cellvalue" +
") {\r\n                             switch (cellvalue.substring(0, 2)) {\r\n        " +
"                         case \"DG\":\r\n                                     return" +
" \"地鼓\";\r\n                                 case \"DL\":\r\n                           " +
"          return \"地裂\";\r\n                                 case \"QL\":\r\n           " +
"                          return \"墙裂\";\r\n                                 case \"J" +
"S\":\r\n                                     return \"井水\";\r\n                        " +
"         case \"QS\":\r\n                                     return \"泉水\";\r\n        " +
"                         default:\r\n                                     return \"" +
"\";\r\n                             }\r\n                         } else {\r\n         " +
"                    return \"\";\r\n                         }\r\n                    " +
" }\r\n                       },\r\n                   {\r\n                       labe" +
"l: \'操作\', name: \'GUID\', index: \'GUID\', width: 80, align: \'center\', sortable: true" +
",\r\n                       formatter: function (cellvalue, options, rowObject) {\r" +
"\n                           if (cellvalue != \"\" || cellvalue != null) {\r\n       " +
"                        return \'<a onclick=\\\"DeleteInfo(\\\'\' + rowObject.GUID + \'" +
"\\\',\\\'\' + options.rowId + \'\\\')\\\" style=\\\"color: #008cee;cursor: pointer;\\\">删除</a>" +
"\';\r\n                           }\r\n                           else {\r\n           " +
"                    return \"\";\r\n                           }\r\n                  " +
"     }\r\n                   },\r\n                ],\r\n                viewrecords: " +
"true,\r\n                rowNum: 30,\r\n                rowList: [30, 50, 100],\r\n   " +
"             pager: \"#gridPager\",\r\n                sortname: \'GUID\',\r\n          " +
"      sortorder: \'desc\',\r\n                rownumbers: true,\r\n                shr" +
"inkToFit: false,\r\n                gridview: true,\r\n                onSelectRow: " +
"function () {\r\n                    selectedRowIndex = $(\'#\' + this.id).getGridPa" +
"ram(\'selrow\');\r\n                },\r\n                gridComplete: function () {\r" +
"\n                    $(\'#\' + this.id).setSelection(selectedRowIndex, false);\r\n  " +
"              }\r\n            });\r\n        }\r\n        function GetGrid2(data) {\r\n" +
"            var selectedRowIndex = 0;\r\n            var $gridTable = $(\'#gridTabl" +
"e\');\r\n            if (data != undefined && data != null && data != \'\') {\r\n      " +
"          queryJson = data;\r\n            }\r\n            $gridTable.jqGrid({\r\n   " +
"             autowidth: true,\r\n                height: $(window).height() - 400," +
"\r\n                datatype: \'local\',\n                data: dataArr1,\r\n          " +
"      loadBeforeSend: function (a) {\r\n                    a.setRequestHeader(\"Au" +
"thorization\", authToken);\r\n                },\r\n                colModel: [\r\n    " +
"                { label: \'GUID\', name: \'GUID\', index: \'GUID\', width: 100, align:" +
" \'left\', sortable: true, hidden: true },\r\n                    { label: \'灾害点名称\', " +
"name: \'DISASTERNAME\', index: \'DISASTERNAME\', width: 200, align: \'left\', sortable" +
": true },\r\n                    { label: \'地理位置\', name: \'LOCATION\', index: \'LOCATI" +
"ON\', width: 200, align: \'left\', sortable: true },\r\n                    { label: " +
"\'监测部位\', name: \'MONITORPOINTPOSITION\', index: \'MONITORPOINTPOSITION\', width: 150," +
" align: \'left\', sortable: true, hidden: true },\r\n                    { label: \'灾" +
"害点编号\', name: \'UNIFIEDCODE\', index: \'UNIFIEDCODE\', width: 150, align: \'left\', sor" +
"table: true },\r\n                       {\r\n                           label: \'监测类" +
"型\', name: \'MONITORPOINTCODE\', index: \'MONITORPOINTCODE\', width: 120, align: \'lef" +
"t\', sortable: true\r\n                     , formatter: function (cellvalue, optio" +
"ns, rowObject) {\r\n                         if (cellvalue) {\r\n                   " +
"          switch (cellvalue.substring(0, 2)) {\r\n                                " +
" case \"DG\":\r\n                                     return \"地鼓\";\r\n                " +
"                 case \"DL\":\r\n                                     return \"地裂\";\r\n" +
"                                 case \"QL\":\r\n                                   " +
"  return \"墙裂\";\r\n                                 case \"JS\":\r\n                   " +
"                  return \"井水\";\r\n                                 case \"QS\":\r\n   " +
"                                  return \"泉水\";\r\n                                " +
" default:\r\n                                     return \"\";\r\n                    " +
"         }\r\n                         } else {\r\n                             retu" +
"rn \"\";\r\n                         }\r\n                     }\r\n                    " +
"   },\r\n                   {\r\n                       label: \'操作\', name: \'GUID\', i" +
"ndex: \'GUID\', width: 80, align: \'center\', sortable: true,\r\n                     " +
"  formatter: function (cellvalue, options, rowObject) {\r\n                       " +
"    if (cellvalue != \"\" || cellvalue != null) {\r\n                               " +
"return \'<a onclick=\\\"DeleteInfo(\\\'\' + rowObject.GUID + \'\\\',\\\'\' + options.rowId +" +
" \'\\\')\\\" style=\\\"color: #008cee;cursor: pointer;\\\">删除</a>\';\r\n                    " +
"       }\r\n                           else {\r\n                               retu" +
"rn \"\";\r\n                           }\r\n                       }\r\n                " +
"   },\r\n                ],\r\n                viewrecords: true,\r\n                r" +
"owNum: 30,\r\n                rowList: [30, 50, 100],\r\n                pager: \"#gr" +
"idPager\",\r\n                sortname: \'GUID\',\r\n                sortorder: \'desc\'," +
"\r\n                rownumbers: true,\r\n                shrinkToFit: false,\r\n      " +
"          gridview: true,\r\n                onSelectRow: function () {\r\n         " +
"           selectedRowIndex = $(\'#\' + this.id).getGridParam(\'selrow\');\r\n        " +
"        },\r\n                gridComplete: function () {\r\n                    $(\'" +
"#\' + this.id).setSelection(selectedRowIndex, false);\r\n                }\r\n       " +
"     });\r\n        }\r\n        //删除勾选\r\n        function DeleteInfo(guid, roeid) {\r" +
"\n            $(\"#gridTable\").jqGrid(\"delRowData\", roeid);\r\n            if (query" +
"Json.uuid != undefined || queryJson.checkeddatas != undefined) {\r\n              " +
"  queryJson.checkeddatas.splice($.inArray(guid, queryJson.checkeddatas), 1);\r\n  " +
"              queryJson.uuid.pop();\r\n            } else {\r\n                $.aja" +
"x({\r\n                    url: \"../../JXGeoManage/TBL_QCQF_POINTOBSERVATION/deleg" +
"l\",\r\n                    beforeSend: function (a) {\r\n                        a.s" +
"etRequestHeader(\"Authorization\", authToken);\r\n                    },\r\n          " +
"          type: \"get\",\r\n                    async: false,\r\n                    d" +
"ata: { id: guid, guid: $(\"#ID\").val() },\r\n                    success: function " +
"(data) {\r\n                    }\r\n                });\r\n            }\r\n        }\r\n" +
"        function SearchEvent(data) {\r\n            $(\"#gridTable\").jqGrid(\'setGri" +
"dParam\', {\r\n                loadBeforeSend: function (a) {\r\n                    " +
"a.setRequestHeader(\"Authorization\", authToken);\r\n                },\r\n           " +
"     postData: { queryJson: JSON.stringify(data) },\r\n                url: \"../.." +
"/api/TBL_QCQF_LAYOUTPOINTINFOApi/GetPageListJson\",\r\n                page: 1\r\n   " +
"         }).trigger(\'reloadGrid\');\r\n        }\r\n        //获取观测人姓名\r\n        functi" +
"on btn_SelectPeople() {\r\n            if (pd == true) {\r\n                dialogOp" +
"en({\r\n                    id: \'ContactPersonForm\',\r\n                    title: \'" +
"选择观测人\',\r\n                    url: \'../../ContactPerson/ContactPersonForm?AreaId=" +
"\' + AreaCode,\r\n                    width: \'800px\',\r\n                    height: " +
"\'500px\',\r\n                    callBack: function (iframeId) {\r\n                 " +
"       var data = getInfoTop().frames[iframeId].AcceptClick();\r\n                " +
"        console.log(data);\r\n                        $(\"#OBSERVATIONPEOPLE\").val(" +
"data[\"UserName\"]);\r\n                        $(\"#LOGINPASSWORD\").val(data[\"Passwo" +
"rd\"]);\r\n                        \r\n                        $(\"#ID\").val(data[\"Con" +
"tactPeopleID\"]);\r\n                        //$(\"#PROVINCE\").comboBoxSetValue(\" \")" +
";\r\n                        //$(\"#CITY\").comboBoxSetValue(\" \");\r\n                " +
"        //$(\"#COUNTY\").comboBoxSetValue(\" \");\r\n                        //$(\"#TOW" +
"N\").comboBoxSetValue(\" \");\r\n                        var code1 = data[\"DistrictCo" +
"de\"];\r\n                        if (code1) {\r\n                            if (cod" +
"e1.substring(2, 6) == \"0000\") {\r\n                                usercode.provin" +
"ceId = code1;\r\n                            } else if (code1.substring(4, 6) == \"" +
"00\") {\r\n                                usercode.provinceId = code1.substring(0," +
" 2) + \"0000\";\r\n                                usercode.selectCityId = code1;\r\n " +
"                           } else {\r\n                                usercode.pr" +
"ovinceId = code1.substring(0, 2) + \"0000\";\r\n                                user" +
"code.selectCityId = code1.substring(0, 4) + \"00\";\r\n                             " +
"   usercode.selectCounty = code1;\r\n                            }\r\n              " +
"              \r\n                            var district = $(\"#XZQHCODE\").distri" +
"ctsCtl({\r\n                                provinceId: usercode.provinceId,\r\n    " +
"                            selectProviceId: usercode.provinceId,\r\n             " +
"                   selectCityId: usercode.selectCityId,\r\n                       " +
"         selectCounty: usercode.selectCounty,\r\n                                s" +
"howTown: true\r\n                            });\r\n                        }\r\n     " +
"               }\r\n                });\r\n            }\r\n        }\r\n        var glj" +
"cecode = \"\";\r\n        //关联监测点\r\n        function btn_Adddis() {\r\n            if (" +
"$(\"#TOWN\")[0].dataset.value!=\"\") {\r\n                gljcecode = $(\"#TOWN\")[0].da" +
"taset.value;\r\n            } else if ($(\"#COUNTY\")[0].dataset.value != \"\") {\r\n   " +
"             gljcecode = $(\"#COUNTY\")[0].dataset.value;\r\n            } else if (" +
"$(\"#CITY\")[0].dataset.value != \"\") {\r\n                gljcecode = $(\"#CITY\")[0]." +
"dataset.value;\r\n            } else if ($(\"#PROVINCE\")[0].dataset.value != \"\") {\r" +
"\n                gljcecode = $(\"#PROVINCE\")[0].dataset.value;\r\n            }\r\n  " +
"          dialogOpen({\r\n                id: \'GLJCD\',\r\n                title: \'关联" +
"监测点\',\r\n                url: \'../../JXGeoManage/TBL_QCQF_OBSERVATION/GLJCD?gljcec" +
"ode=\' + gljcecode + \'&keyValue=\' + $(\"#ID\").val() + \'&ID=\' + keyValue,\r\n        " +
"        width: \'1000px\',\r\n                height: \'800px\',\r\n                isCl" +
"ose: true,\r\n                callBack: function (iframeId) {\r\n                   " +
" queryJson = getInfoTop().frames[iframeId].AcceptClick();\r\n                    $" +
"(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n                        datatype: \'loca" +
"l\',\n                        data: queryJson.dataArr,\n                        pag" +
"e: 1\r\n                    }).trigger(\"reloadGrid\");\r\n                    $.ajax(" +
"{\r\n                        url: \"../../JXGeoManage/TBL_QCQF_POINTOBSERVATION/del" +
"eglnewByqCqf\",\r\n                        beforeSend: function (a) {\r\n            " +
"                a.setRequestHeader(\"Authorization\", authToken);\r\n               " +
"         },\r\n                        type: \"get\",\r\n                        async" +
": false,\r\n                        data: { id: keyValue },\r\n                     " +
"   success: function (data) {\r\n                        }\r\n                    })" +
";\r\n                }\r\n            });\r\n        }\r\n    </script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
