#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/WeChatManage/Views/App/Index.cshtml")]
    public partial class _Areas_WeChatManage_Views_App_Index_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_WeChatManage_Views_App_Index_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\WeChatManage\Views\App\Index.cshtml"
  
    ViewBag.Title = "应用管理";
    Layout = "~/Views/Shared/_Index.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<script>\r\n    $(function () {\r\n        resize();\r\n        GetList();\r\n    })\r\n " +
"   function resize() {\r\n        $(\'#pageayout\').height($(window).height() - 20);" +
"\r\n        $(window).resize(function (e) {\r\n            window.setTimeout(functio" +
"n () {\r\n                $(\'#pageayout\').height($(window).height() - 20);\r\n      " +
"      }, 200);\r\n            e.stopPropagation();\r\n        });\r\n    }\r\n    //添加Ap" +
"p\r\n    function btn_add_app() {\r\n        learun.dialogOpen({\r\n            id: \"F" +
"orm\",\r\n            title: \'创建新应用\',\r\n            url: \'/WeChatManage/App/Form\',\r\n" +
"            width: \"550px\",\r\n            height: \"440px\",\r\n            callBack:" +
" function (iframeId) {\r\n                getInfoTop().frames[iframeId].AcceptClic" +
"k();\r\n            }\r\n        });\r\n    }\r\n    //应用列表\r\n    function GetList() {\r\n " +
"       $.ajax({\r\n            url: \"../../WeChatManage/App/GetListJson\",\r\n       " +
"     type: \"get\",\r\n            dataType: \"json\",\r\n            async: false,\r\n   " +
"         beforeSend: function (xmlHttp) {\r\n                xmlHttp.setRequestHea" +
"der(\"If-Modified-Since\", \"0\");\r\n                xmlHttp.setRequestHeader(\"Cache-" +
"Control\", \"no-cache\");\r\n            },\r\n            success: function (data) {\r\n" +
"                var _html = \"\";\r\n                $(\".app-box\").find(\".app-item\")" +
".remove();\r\n                $.each(data, function (i) {\r\n                    var" +
" row = data[i];\r\n                    var AppLogo = top.contentPath + row.F_AppLo" +
"go;\r\n                    _html += \'<li id=\"\' + row.F_AppId + \'\" class=\"app-item\"" +
" data-type=\"\' + row.F_AppType + \'\" title=\"\' + (row.F_Description == null ? \"\" : " +
"row.F_Description) + \'\">\';\r\n                    _html += \'<a class=\"app-logo\"><i" +
"mg style=\"width: 80px; height: 80px;border-radius: 80px;\" src=\"\' + AppLogo + \'\">" +
"</a>\';\r\n                    _html += \'<h3 class=\"app-name\">\' + row.F_AppName + \'" +
"</h3><div class=\"app-item-close\"></div>\';\r\n                    _html += \' </li>\'" +
";\r\n                });\r\n                $(\".app-box\").prepend(_html);\r\n         " +
"   }\r\n        });\r\n        $(\".app-box\").find(\".app-logo\").click(function () {\r\n" +
"            var AppId = $(this).parents(\'li\').attr(\'id\');\r\n            var AppTy" +
"pe = $(this).parents(\'li\').attr(\'data-type\');\r\n            if (AppType == 1) {\r\n" +
"                learun.dialogOpen({\r\n                    id: \"FormNews\",\r\n      " +
"              title: \'消息型应用\',\r\n                    url: \'/WeChatManage/App/FormN" +
"ews?keyValue=\' + AppId,\r\n                    width: \"550px\",\r\n                  " +
"  height: \"440px\",\r\n                    btn: null\r\n                });\r\n        " +
"    } else if (AppType == 2) {\r\n                learun.dialogOpen({\r\n           " +
"         id: \"FormHome\",\r\n                    title: \'主页型应用\',\r\n                 " +
"   url: \'/WeChatManage/App/FormHome?keyValue=\' + AppId,\r\n                    wid" +
"th: \"550px\",\r\n                    height: \"440px\",\r\n                    callBack" +
": function (iframeId) {\r\n                        getInfoTop().frames[iframeId].A" +
"cceptClick();\r\n                    }\r\n                });\r\n            }\r\n      " +
"  });\r\n        $(\".app-box\").find(\".app-item\").hover(function () {\r\n            " +
"$(this).find(\'.app-item-close\').show();\r\n        }, function () {\r\n            $" +
"(this).find(\'.app-item-close\').hide();\r\n        });\r\n        //删除应用\r\n        $(\"" +
".app-item-close\").click(function () {\r\n            var AppId = $(this).parents(\'" +
"li\').attr(\'id\');\r\n            learun.removeForm({\r\n                url: \"../../W" +
"eChatManage/App/RemoveForm\",\r\n                param: { keyValue: AppId },\r\n     " +
"           success: function (data) {\r\n                    learun.reload();\r\n   " +
"             }\r\n            })\r\n            return false;\r\n        })\r\n    }\r\n</" +
"script>\r\n\r\n<div");

WriteLiteral(" id=\"pageayout\"");

WriteLiteral(" class=\"border\"");

WriteLiteral(" style=\"background: #fff; overflow: auto;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"app-panel\"");

WriteLiteral(">\r\n        <ul");

WriteLiteral(" class=\"app-box\"");

WriteLiteral(">\r\n            <li");

WriteLiteral(" class=\"app-item-add\"");

WriteLiteral(" onclick=\"btn_add_app()\"");

WriteLiteral(" title=\"添加应用\"");

WriteLiteral(">\r\n                <a");

WriteLiteral(" class=\"app-logo\"");

WriteLiteral("></a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n");

        }
    }
}
#pragma warning restore 1591
