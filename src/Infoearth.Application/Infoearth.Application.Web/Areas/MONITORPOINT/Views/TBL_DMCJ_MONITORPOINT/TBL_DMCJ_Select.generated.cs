#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/MONITORPOINT/Views/TBL_DMCJ_MONITORPOINT/TBL_DMCJ_Select.cshtml")]
    public partial class _Areas_MONITORPOINT_Views_TBL_DMCJ_MONITORPOINT_TBL_DMCJ_Select_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_MONITORPOINT_Views_TBL_DMCJ_MONITORPOINT_TBL_DMCJ_Select_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\MONITORPOINT\Views\TBL_DMCJ_MONITORPOINT\TBL_DMCJ_Select.cshtml"
  
    ViewBag.Title = "列表页面";
    Layout = "~/Views/Shared/_Index.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<style>\r\n    #gridTable td {\r\n        border-right: 1px solid #ccc !important;\r" +
"\n    }\r\n</style>\r\n<div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(" style=\"height:10px !important;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" id=\"filter-form\"");

WriteLiteral(">\r\n        ");

WriteLiteral("\r\n    </div>\r\n    <div");

WriteLiteral(" style=\"clear:both\"");

WriteLiteral("></div>\r\n</div>\r\n<div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n    <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n</div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script>\r\n    var GUID = [];\r\n    var selectFileData = [];\r\n    var authToken =" +
" getAuthorizationToken();\r\n    $(function () {\r\n        InitialPage();\r\n        " +
"if (request(\'name\')) {\r\n            GUID = unescape(request(\'name\')).split(\',\');" +
"\r\n        }\r\n        //查询条件\r\n        //$(\"#queryCondition .dropdown-menu li\").cl" +
"ick(function () {\r\n        //    var text = $(this).find(\'a\').html();\r\n        /" +
"/    var value = $(this).find(\'a\').attr(\'data-value\');\r\n        //    $(\"#queryC" +
"ondition .dropdown-text\").html(text).attr(\'data-value\', value)\r\n        //});\r\n " +
"       GetGrid();\r\n        //查询点击事件\r\n        //$(\"#btn_Search\").click(function (" +
") {\r\n        //    SearchEvent();\r\n        //});\r\n    });\r\n    //初始化页面\r\n    func" +
"tion InitialPage() {\r\n        //resize重设布局;\r\n        $(window).resize(function (" +
"e) {\r\n            window.setTimeout(function () {\r\n                $(\'#gridTable" +
"\').setGridWidth(($(\'.gridPanel\').width()));\r\n                $(\'#gridTable\').set" +
"GridHeight($(window).height());\r\n            }, 200);\r\n            e.stopPropaga" +
"tion();\r\n        });\r\n    }\r\n    //加载表格\r\n    function GetGrid() {\r\n        var s" +
"electedRowIndex = 0;\r\n        var queryJson = $(\"#filter-form\").getWebControls()" +
";\r\n        var $gridTable = $(\'#gridTable\');\r\n        $gridTable.jqGrid({\r\n     " +
"       autowidth: true,\r\n            postData: { queryJson: JSON.stringify(query" +
"Json) },\r\n            height: $(window).height() - 80,\r\n            url: \"../../" +
"api/MONITORPOINT/TBL_DMCJ_BASEINFO/GetPageListJson\",\r\n            loadBeforeSend" +
": function (request) {\r\n                request.setRequestHeader(\"Authorization\"" +
", authToken);\r\n            },\r\n            datatype: \"json\",\r\n            colMod" +
"el: [\r\n                { label: \'GUID\', name: \'GUID\', index: \'GUID\', width: 230," +
" align: \'left\', sortable: true, hidden: true },\r\n                { label: \'地面沉降名" +
"称\', name: \'DMCJMC\', index: \'DMCJMC\', width: 250, align: \'left\', sortable: true }" +
",\r\n                { label: \'地面沉降编号\', name: \'DMCJBH\', index: \'DMCJBH\', width: 25" +
"0, align: \'left\', sortable: true },\r\n                { label: \'经度\', name: \'LONGI" +
"TUDE\', index: \'LONGITUDE\', width: 100, align: \'left\', sortable: true, hidden: tr" +
"ue },\r\n                { label: \'纬度\', name: \'LATITUDE\', index: \'LATITUDE\', width" +
": 100, align: \'left\', sortable: true, hidden: true },\r\n                { label: " +
"\'调查人\', name: \'DCR\', index: \'DCR\', width: 100, align: \'left\', sortable: true, hid" +
"den: true },\r\n                {\r\n                    label: \'填表日期\', name: \'TBSJ\'" +
", index: \'TBSJ\', width: 200, align: \'left\', sortable: true,hidden: true,\r\n      " +
"              formatter: function (cellvalue) {\r\n                        if (cel" +
"lvalue) { return learun.formatDate(cellvalue, \'yyyy-MM-dd\'); } else { return \'\' " +
"}\r\n                    }\r\n                },\r\n                { label: \'地理位置\', n" +
"ame: \'LOCATION\', index: \'LOCATION\', width: 100, align: \'left\', sortable: true, h" +
"idden: true },\r\n            ],\r\n            viewrecords: true,\r\n            rowN" +
"um: 30,\r\n            rowList: [30, 50, 100],\r\n            pager: \"#gridPager\",\r\n" +
"            sortname: \'DMCJBH\',\r\n            sortorder: \'desc\',\r\n            row" +
"numbers: true,\r\n            shrinkToFit: true,\r\n            gridview: true,\r\n   " +
"         altRows: true,\r\n            onSelectRow: function (rowId, status) {\r\n  " +
"              selectedRowIndex = $(\'#\' + this.id).getGridParam(\'selrow\');\r\n     " +
"           var dt = $gridTable.jqGrid(\"getRowData\", rowId);\r\n                var" +
" objArr = { guid: dt.GUID, name: dt.DMCJMC, code: dt.DMCJBH, jd: dt.LONGITUDE, w" +
"d: dt.LATITUDE, };\r\n                //var html = GetHtml(objArr);\r\n             " +
"   var data = [];\r\n                data.push({ longitude: dt.LONGITUDE, latitude" +
": dt.LATITUDE,  });\r\n                //map.getView().setZoom(8);\r\n              " +
"  //if (isMarkerClick) {\r\n                //    isMarkerClick = false;\r\n        " +
"        //    //cfShowGDZBArea(dt.KQGD, mapCtlExt);\r\n                //    retur" +
"n;\r\n                //}\r\n                //else if (dt.LONGITUDE && dt.LATITUDE)" +
" {\r\n                //    mapCtlExt.addLocation(data);\r\n                //    //" +
"cfShowGDZBArea(dt.KQGD, mapCtlExt);\r\n                //}\r\n            },\r\n      " +
"      gridComplete: function () {\r\n                $(\'#\' + this.id).setSelection" +
"(selectedRowIndex, false);\r\n            }\r\n        });\r\n    }\r\n\r\n    var selectD" +
"ata = [];\r\n\r\n    //保存表单;\r\n    function AcceptClick(callback) {\r\n        var name" +
" = $(\"#gridTable\").jqGridRowValue(\'DMCJMC\');\r\n        var DeptCode = $(\"#gridTab" +
"le\").jqGridRowValue(\'DMCJBH\');\r\n        //var parkName = $(\"#gridTable\").jqGridR" +
"owValue(\'PARKNAME\');\r\n        var data = { name: name, DeptCode: DeptCode };\r\n  " +
"      callback(data);\r\n        learun.dialogClose();\r\n    }\r\n    function addSel" +
"ectFileData(dt) {\r\n        var flag = false;\r\n        for (var i = 0; i < select" +
"FileData.length; i++) {\r\n            if (selectFileData[i].GUID == dt.GUID) {\r\n " +
"               flag = true;\r\n            }\r\n        }\r\n        if (!flag) {\r\n   " +
"         selectFileData.push({ GUID: dt.GUID, NAME: dt.NAME });\r\n        }\r\n    " +
"}\r\n    function deleteSelectFileData(GUID) {\r\n        for (var i = 0; i < select" +
"FileData.length; i++) {\r\n            if (selectFileData[i].GUID == GUID) {\r\n    " +
"            selectFileData.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    f" +
"unction getAuthorizationToken() {\r\n        var strCookie = document.cookie;\r\n   " +
"     var cookieArray = strCookie.split(\'; \');\r\n        for (var i = 0; i < cooki" +
"eArray.length; i++) {\r\n            var key = cookieArray[i].split(\'=\')[0];\r\n    " +
"        var value = cookieArray[i].split(\'=\')[1];\r\n            if (key == \'Token" +
"\') {\r\n                value = unescape(value);\r\n                //去掉逗号、用户名\r\n    " +
"            value = value.split(\',\')[0];\r\n                //md5加密、转大写\r\n         " +
"       value = $.md5(value).toUpperCase();\r\n                return value;\r\n     " +
"       }\r\n        }\r\n        return null;\r\n    }\r\n\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
