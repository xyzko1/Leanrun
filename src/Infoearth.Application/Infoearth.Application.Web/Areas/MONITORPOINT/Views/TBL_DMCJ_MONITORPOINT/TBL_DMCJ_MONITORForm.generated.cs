#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/MONITORPOINT/Views/TBL_DMCJ_MONITORPOINT/TBL_DMCJ_MONITORForm.cshtml")]
    public partial class _Areas_MONITORPOINT_Views_TBL_DMCJ_MONITORPOINT_TBL_DMCJ_MONITORForm_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_MONITORPOINT_Views_TBL_DMCJ_MONITORPOINT_TBL_DMCJ_MONITORForm_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\MONITORPOINT\Views\TBL_DMCJ_MONITORPOINT\TBL_DMCJ_MONITORForm.cshtml"
  
    ViewBag.Title = "表单页面";
    Layout = "~/Views/Shared/_Form.cshtml";

            
            #line default
            #line hidden
WriteLiteral(@"
<style>
    .single_cell{
        float: left;
        width: 300px;
        line-height: 45px;
        margin-right:20px;
    }
    .single_cell  .formTitle{
        float: left;
        margin: 5px;
        height: 28px; 
        line-height: 28px;
        display: inline-block;
        width: 68px;
        text-align: right;
    }
    .single_cell  input{
        float: left;
        width: 200px;
        margin: 8px;
    }
</style>
<div");

WriteLiteral(" class=\"ul\"");

WriteLiteral(">\r\n    <ul");

WriteLiteral(" class=\"nav nav-tabs\"");

WriteLiteral(">\r\n        <li");

WriteLiteral(" class=\"active\"");

WriteLiteral(" title=\"监测数据查询\"");

WriteLiteral("><a");

WriteLiteral(" href=\"#JCSJCX\"");

WriteLiteral(" data-toggle=\"tab\"");

WriteLiteral(">监测数据查询</a></li>\r\n        <li");

WriteLiteral(" title=\"数据列表\"");

WriteLiteral("  class=\"titdata\"");

WriteLiteral("><a");

WriteLiteral(" href=\"#tab_1\"");

WriteLiteral(" data-toggle=\"tab\"");

WriteLiteral(" id=\"SJLB\"");

WriteLiteral(">数据列表</a></li>\r\n    </ul>\r\n</div>\r\n<div");

WriteLiteral(" class=\"tab-content\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"tab-pane in active\"");

WriteLiteral(" id=\"JCSJCX\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" style=\"height:44px;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                <span");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">开始时间:</span>\r\n                <input");

WriteLiteral(" id=\"starttime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" datefmt=\"yyyy-MM-dd\"");

WriteLiteral(" onfocus=\"WdatePicker({ dateFmt: \'yyyy\', isShowToday: false, isShowClear: false, " +
"maxDate: \'#F{$dp.$D(\\\'endtime\\\')}\' })\"");

WriteLiteral(" />\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                <span");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(" id=\"line\"");

WriteLiteral(">结束时间</span>\r\n                <input");

WriteLiteral(" id=\"endtime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" datefmt=\"yyyy-MM-dd\"");

WriteLiteral(" onfocus=\"WdatePicker({ dateFmt: \'yyyy\', isShowToday: false, isShowClear: false, " +
"minDate: \'#F{$dp.$D(\\\'starttime\\\')}\' })\"");

WriteLiteral(" />\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                <a");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" onclick=\"reset()\"");

WriteLiteral(">重置</a>\r\n                <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>查询</a>\r\n            </div>\r\n        </div>\r\n         <div");

WriteLiteral(" id=\"divTJ\"");

WriteLiteral(" style=\"width: 100%; height: 400px;\"");

WriteLiteral("></div>\r\n    </div>\r\n    <div");

WriteLiteral(" style=\"margin-top: 10px;float:left;width:100%;\"");

WriteLiteral(" class=\"tab-pane in\"");

WriteLiteral(" id=\"tab_1\"");

WriteLiteral(">\r\n        <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral(" style=\"width:100% !important;\"");

WriteLiteral("></table>\r\n        <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n    </div>\r\n</div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 2208), Tuple.Create("\"", 2262)
, Tuple.Create(Tuple.Create("", 2214), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/echarts/echarts.min.js")
, 2214), false)
);

WriteLiteral("></script>\r\n<script>\r\n    var keyValue = request(\'keyValue\');\r\n    var authToken " +
"= getAuthorizationToken();\r\n    $(function () {\r\n        initControl();\r\n       " +
" GetReport();\r\n        GetGrid();\r\n        $(\"#btn_Search\").click(function () {\r" +
"\n            GetReport();\r\n        });\r\n    })\r\n    function initControl() {\r\n  " +
"     $(\'#gridTable\').width(($(\'#tab_1\').width()));//表格宽度\r\n        var date = new" +
" Date();\r\n        var startDt = (date.getFullYear() - 5);;\r\n        var endDt = " +
"date.getFullYear();\r\n        $(\"#starttime\").val(startDt);\r\n        $(\"#endtime\"" +
").val(endDt);\r\n    }\r\n    var fillZero = function (val) {\r\n        if (val.toStr" +
"ing().length == 1) {\r\n            return \"0\" + val.toString();\r\n        }\r\n     " +
"   return val.toString();\r\n    }\r\n    function reset() {\r\n        $(\"#starttime\"" +
").val(\"\");\r\n        $(\"#endtime\").val(\"\");\r\n    }\r\n    //加载Echars报表\r\n    functio" +
"n GetReport() {\r\n        var myChart = echarts.init(document.getElementById(\"div" +
"TJ\"));\r\n        //var queryJson = keyValue;\r\n\r\n        var dataSeries = [];\r\n   " +
"     var dataSeriesY = [];\r\n        var dataSeriesZ = [];\r\n        var dataSerie" +
"sObj = {\r\n            name: \'\',\r\n            type: \'\',\r\n            smooth: true" +
",\r\n            data: \'\',\r\n            itemStyle: {\r\n                normal: {\r\n " +
"                   label: {\r\n                        show: true,\r\n              " +
"          position: \'top\'\r\n                    }\r\n                }\r\n           " +
" }\r\n        };\r\n        var dataSeriesObjY = {\r\n            name: \'\',\r\n         " +
"   type: \'\',\r\n            smooth: true,\r\n            data: \'\',\r\n            item" +
"Style: {\r\n                normal: {\r\n                    label: {\r\n             " +
"           show: true,\r\n                        position: \'top\'\r\n               " +
"     }\r\n                }\r\n            }\r\n        };\r\n        var dataSeriesObjZ" +
" = {\r\n            name: \'\',\r\n            type: \'\',\r\n            smooth: true,\r\n " +
"           data: \'\',\r\n            itemStyle: {\r\n                normal: {\r\n     " +
"               label: {\r\n                        show: true,\r\n                  " +
"      position: \'top\'\r\n                    }\r\n                }\r\n            }\r\n" +
"        };\r\n        var queryJson = {};\r\n        queryJson[\"MONITORPOINTIDS\"] = " +
"keyValue;\r\n        queryJson[\"STARTYEAR\"] = $(\"#starttime\").val();\r\n        quer" +
"yJson[\"ENDYEAR\"] = $(\"#endtime\").val();\r\n        $.ajax({\r\n            url: \'../" +
"../api/MONITORPOINT/TBL_DMCJ_MONITORDATA/GetQueryListByMonitorPoint?queryJson=\' " +
"+ JSON.stringify(queryJson),\r\n            //queryJson: JSON.stringify(queryJson)" +
",\r\n            beforeSend: function (request) {\r\n                if (authToken) " +
"{\r\n                    request.setRequestHeader(\"Authorization\", authToken);\r\n  " +
"              }\r\n            },\r\n            async: false,\r\n            type: \"G" +
"ET\",\r\n            success: function (data) {\r\n                data = JSON.parse(" +
"data);\r\n                if (data != null && data.Data.length > 0) {\r\n           " +
"         var dataDevicename = [];\r\n                    for (var i = 0; i < data." +
"Data.length; i++) {\r\n                        dataDevicename.push(data.Data[i][\"监" +
"测点名称\"]);\r\n                    }\r\n                }\r\n                var dataX = " +
"data.Columns;\r\n                dataX.splice(0, 1);\r\n                dataX.splice" +
"(0, 1);\r\n                dataX.pop();\r\n                if (data != null && data." +
"Data.length > 0) {\r\n                    var dataSeriesShowNew = [];\r\n           " +
"         for (var i = 0; i < data.Data.length; i++) {\r\n                        v" +
"ar j = [];\r\n                        for (var key in data.Data[i]) {\r\n           " +
"                 j.push(data.Data[i][key]);\r\n                        }\r\n        " +
"                j.splice(j.length - 3, 3)\r\n                        dataSeriesSho" +
"wNew.push(j);\r\n                    }\r\n                    \r\n                }\r\n " +
"               option = {\r\n                    tooltip: {\r\n                     " +
"   trigger: \'axis\',\r\n                        axisPointer: {            // 坐标轴指示器" +
"，坐标轴触发有效\r\n                            type: \'line\'        // 默认为直线，可选为：\'line\' | " +
"\'shadow\'\r\n                        },\r\n                    },\r\n                  " +
"  legend: {\r\n                        show:true,\r\n                        data: d" +
"ataDevicename,\r\n                        x: \'center\',\r\n                        y:" +
" 30,\r\n                        //padding: [5, 35, 5, 5]\r\n                    },\r\n" +
"                    grid: {\r\n                        \"borderWidth\": 0,\r\n        " +
"               // top: 100,\r\n                        containLabel: true\r\n       " +
"             },\r\n                    xAxis:\r\n                        //dataXShow" +
"\r\n                       [{\r\n                           type: \'category\',\r\n     " +
"                      //splitNumber: 10,\r\n                           data:dataX\r" +
"\n                       }]\r\n                    ,\r\n                    yAxis: {\r" +
"\n                        type: \'value\',\r\n                        name: \'\',\r\n    " +
"                },\r\n                    //series: [\r\n                    //    {" +
"\r\n                    //        name:dataDevicename,\r\n                    //    " +
"    type:\'line\',\r\n                    //        data: dataSeriesShowNew\r\n       " +
"             //    }\r\n                    //],\r\n                    valueAxis: {" +
"\r\n                        axisLine: {\r\n                            show:true,\r\n " +
"                       }\r\n                    }\r\n                }\r\n            " +
"    var Series = [];\r\n                if (data != null && data.Data.length > 0) " +
"{\r\n                    for (var i = 0; i < dataDevicename.length; i++) {\r\n      " +
"                  Series.push({\r\n                            name: dataDevicenam" +
"e[i],\r\n                            type: \'line\',\r\n                            da" +
"ta: dataSeriesShowNew[i]\r\n                        });\r\n                    }\r\n  " +
"              }\r\n                option.series = Series;\r\n                myChar" +
"t.setOption(option, true);\r\n                //\r\n                var colModel = [" +
"];\r\n                var params = [];\r\n                if (!!data) {\r\n           " +
"         if (!!data.Columns) {\r\n                        for (var i = 0; i < data" +
".Data.length; i++) {\r\n                            params.push(data.Data[i]);\r\n  " +
"                      }\r\n                        for (var key in data.Data[0]) {" +
"\r\n                            colModel.push({ label: key, name: key, index: key," +
" align: \'center\', sortable: true, width: 130 })\r\n\r\n                        }\r\n  " +
"                      var colModelArr = colModel.slice(colModel.length - 3, 8)\r\n" +
"                        colModel.splice(colModel.length - 3, 2);\r\n              " +
"          colModel.splice(0, 0, colModelArr[0]);\r\n                        colMod" +
"el.splice(0, 0, colModelArr[1]);\r\n                    }\r\n\r\n                    /" +
"/if (!!data.Data) {\r\n                    //    if (data.Data === \"{\\\"Table\\\":]}\"" +
") {\r\n                    //        data.Data = \"{\\\"Table\\\":[]}\";\r\n              " +
"      //    }\r\n                    //    params = data.Data;\r\n                  " +
"  //    //console.log(params);\r\n                    //}\r\n                }\r\n\r\n  " +
"              GetGrid(params, colModel);\r\n            }, error: function (e) {\r\n" +
"            },\r\n            cache: false\r\n        });\r\n    }\r\n    function GetGr" +
"id(data,colModel) {\r\n        var queryJson = {};\r\n        var selectedRowIndex =" +
" 0;\r\n        queryJson[\"MONITORPOINTIDS\"] = keyValue;\r\n        queryJson[\"STARTY" +
"EAR\"] = $(\"#starttime\").val();\r\n        queryJson[\"ENDYEAR\"] = $(\"#endtime\").val" +
"();\r\n        var $gridTable = $(\'#gridTable\');\r\n\r\n        $(\'#gridTable\').jqGrid" +
"({\r\n            datatype: \"local\",\r\n            autowidth: true,\r\n            he" +
"ight: $(window).height() - 120,\r\n            colModel: colModel,\r\n            sh" +
"rinkToFit: true,\r\n            gridview: true,\r\n            pager: \"#gridPager\",\r" +
"\n            rowNum: 30,\r\n            rowList: [30, 50, 100],\r\n            sorto" +
"rder: \'desc\',\r\n            altRows: true,\r\n            //viewrecords: false,\r\n  " +
"          //gridview: true,\r\n            //rowNum: -1,\r\n            //rownumbers" +
": true\r\n        });\r\n        if (!!data) {\r\n            for (var i = 0; i < data" +
".length; i++) {\r\n                $(\"#gridTable\").jqGrid(\'addRowData\', i, data[i]" +
");\r\n            }\r\n            if (data.length > 0) {\r\n                $(\".unwri" +
"tten\").css(\'display\', \'none\');\r\n            }\r\n            else {\r\n             " +
"   $(\".unwritten\").css(\'display\', \'block\');\r\n            }\r\n        }\r\n        \r" +
"\n        //禁止列排序\r\n        var column = $(\'#gridTable\').jqGrid(\'getGridParam\', \'c" +
"olModel\');\r\n        for (var i = 0; i < column.length; i++) {\r\n            $(\'#g" +
"ridTable\').setColProp(column[i].index, { sortable: false });\r\n        }\r\n    }\r\n" +
"</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
