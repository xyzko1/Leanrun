#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/MONITORPOINT/Views/TBL_DMCJ_MONITORPOINT/TBL_DMCJ_MONITORPOINTIndex.cshtm" +
        "l")]
    public partial class _Areas_MONITORPOINT_Views_TBL_DMCJ_MONITORPOINT_TBL_DMCJ_MONITORPOINTIndex_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_MONITORPOINT_Views_TBL_DMCJ_MONITORPOINT_TBL_DMCJ_MONITORPOINTIndex_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\MONITORPOINT\Views\TBL_DMCJ_MONITORPOINT\TBL_DMCJ_MONITORPOINTIndex.cshtml"
  
    ViewBag.Title = "列表页面";
    Layout = "~/Views/Shared/_IndexMap.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<link");

WriteLiteral(" rel=\"stylesheet\"");

WriteAttribute("href", Tuple.Create(" href=\"", 107), Tuple.Create("\"", 181)
, Tuple.Create(Tuple.Create("", 114), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/JQueryzTree/css/zTreeStyle/zTreeStyle.css")
, 114), false)
);

WriteLiteral(" type=\"text/css\"");

WriteLiteral(@" />
 <style>
    .ui-layout-center {
       overflow-x: hidden !important;
    }
    .ui-layout-resizer {
        background-color:#f0f3f4 !important;
    }
    .bbit-tree-node a:hover{
        text-decoration:none !important;
    }
     .fa-folder-open {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px -16px;
        margin-right: 2px;
        width: 16px !important;
        height: 16px !important;
    }

    .fa-folder {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px 0;
        margin-right: 2px;
        width: 16px !important;
        height: 16px !important;
    }

    .fa-file-o {
        color: transparent !important;
        background: url(""../../Content/images/zTreeStandard.png"") no-repeat;
        background-position: -110px -32px;
        width: 16px !important;
        height: 16px !important;
    }
    .bbit-tree-arrows .bbit-tree-elbow-end-plus{
        margin-top: 5px !important;
    }
    .bbit-tree-arrows .bbit-tree-elbow-minus{
         margin-top: 5px !important;
    }
    .color:hover{
            color:#23527c !important;
        }
      #ui_center{
        overflow:hidden!important;
    }
</style>
      
<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"ui-layout-west\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"west-Panel\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(">行政区划信息</div>\r\n            <div");

WriteLiteral(" id=\"itemTree\"");

WriteLiteral(" style=\"overflow:auto;\"");

WriteLiteral("></div>\r\n        </div>\r\n    </div>\r\n\r\n    <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_center\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"center-Panel\"");

WriteLiteral(" style=\"height: 100%;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout2\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"ui-layout-north\"");

WriteLiteral(" id=\"ui_map\"");

WriteLiteral(" style=\"height: 432px;\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" id=\"mapControl\"");

WriteLiteral(" style=\"height:432px;\"");

WriteLiteral("></div>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_grid\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" id=\"filter-form\"");

WriteLiteral(">\r\n                            <table>\r\n                                <tr>\r\n   " +
"                                 <td>\r\n                                        <" +
"input");

WriteLiteral(" id=\"MONITOROBJECTMH\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入监测点名称，编号\"");

WriteLiteral(" style=\"width: 200px;\"");

WriteLiteral(" />\r\n                                    </td>\r\n                                 " +
"   <td");

WriteLiteral(" style=\"padding-left: 5px;\"");

WriteLiteral(">\r\n                                        <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>查询</a>\r\n                                    </td>\r\n                         " +
"       </tr>\r\n                            </table>\r\n                        </di" +
"v>\r\n                        <div");

WriteLiteral(" class=\"toolbar\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                                <a");

WriteLiteral(" id=\"lr-replace\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"SearchEvent()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-refresh\"");

WriteLiteral("></i>刷新</a>\r\n                                <a");

WriteLiteral(" id=\"lr-add\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_add()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-plus\"");

WriteLiteral("></i>新增</a>\r\n                                <a");

WriteLiteral(" id=\"lr-edit\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_edit()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>编辑</a>\r\n                                <a");

WriteLiteral(" id=\"lr-edit1\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_detil()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>详情</a>\r\n                                <a");

WriteLiteral(" id=\"lr-delete\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_delete()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-trash-o\"");

WriteLiteral("></i>删除</a>\r\n                                <a");

WriteLiteral(" id=\"lr-delete1\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_addjc()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-trash-o\"");

WriteLiteral("></i>监测数据填报</a>\r\n                            </div>\r\n                            " +
"<div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                                <a");

WriteLiteral(" id=\"lr-colgrid\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"ColDataGrid()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-chevron-down\"");

WriteLiteral("></i>列表</a>\r\n                                <a");

WriteLiteral(" id=\"lr-colmap\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"ColMapDiv()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-chevron-up\"");

WriteLiteral("></i>地图</a>\r\n                            </div>\r\n                        </div>\r\n" +
"                        <div");

WriteLiteral(" style=\"clear:both;\"");

WriteLiteral("></div>\r\n                    </div>\r\n                    <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                        <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                        <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n" +
"        </div>\r\n    </div>\r\n</div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 4803), Tuple.Create("\"", 4878)
, Tuple.Create(Tuple.Create("", 4809), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/JQueryzTree/js/jquery.ztree.core-3.5.min.js")
, 4809), false)
);

WriteLiteral("></script>\r\n<script>\r\n    var layout2NorthH = 1;\r\n    var authToken = getAuthoriz" +
"ationToken();\r\n    $(function () {\r\n        InitialPage();\r\n        GetTree();\r\n" +
"        GetMapData();\r\n        GetGrid();\r\n        BindMapMarker();\r\n        //查" +
"询点击事件\r\n        $(\"#btn_Search\").click(function () {\r\n            BindMapMarker()" +
";\r\n            SearchEvent();\r\n        });\r\n    });\r\n    //初始化页面\r\n    function I" +
"nitialPage() {\r\n        $(\'#ui_map\').height($(window).height() * 0.58);\r\n       " +
" $(\'#mapControl\').height($(window).height() * 0.58);\r\n        //layout布局\r\n      " +
"  $(\'#layout\').layout({\r\n            applyDemoStyles: true,\r\n            west__s" +
"ize: 190,\r\n            onresize: function () {\r\n                if (isResize < 1" +
"0) {\r\n                    isResize++;\r\n                }\r\n                resize" +
"();\r\n            }\r\n        });\r\n        var isResize = 0;\r\n        var count = " +
"0;\r\n        var resized = 0;\r\n        $(\'#layout2\').layout({\r\n            applyD" +
"emoStyles: true,\r\n            onresize: function () {\r\n                resize();" +
"\r\n                if (isResize > 1) {\r\n                    resized = 1;\r\n       " +
"         } else {\r\n                    if (count == 1 || resized == 0) {\r\n      " +
"                  $(\'#layout2 .ui-layout-center\').height($(\'#layout2 .ui-layout-" +
"center\').height() - 18);\r\n                    }\r\n                }\r\n            " +
"    count++;\r\n            }\r\n        });\r\n        //resize重设布局;\r\n        $(windo" +
"w).resize(function (e) {\r\n            if (isResize < 10) {\r\n                isRe" +
"size++;\r\n            }\r\n            resize();\r\n            e.stopPropagation();\r" +
"\n        });\r\n        function resize() {\r\n            window.setTimeout(functio" +
"n () {\r\n                if (mapCtlExt != null) {\r\n                    mapCtlExt." +
"setHeight($(\'#mapControl\').parent().height() - 4);\r\n                }\r\n         " +
"       $(\'#gridTable\').setGridWidth(($(\'.gridPanel\').width()));\r\n               " +
" $(\'#layout2 .ui-layout-center\').width($(\'#layout2 .ui-layout-center\').parent()." +
"width());\r\n                $(\'#layout2 .ui-layout-resizer\').width($(\'#layout2 .u" +
"i-layout-center\').parent().width());\r\n                $(\'.ui-jqgrid-bdiv\').heigh" +
"t($(\'#layout2 .ui-layout-center\').height() - 60 - 60);\r\n                $(\'#layo" +
"ut2 .ui-layout-center\').height($(\'#layout2\').height() - $(\'#layout2 .ui-layout-n" +
"orth\').height());\r\n                $(\'#gridTable\').setGridHeight($(\'#layout2 .ui" +
"-layout-center\').height() - 123 -10);\r\n                $(\'#layout2 .ui-layout-ce" +
"nter\').css(\'overflow\', \'hidden\');\r\n                $(\"#itemTree\").height($(\'.ui-" +
"layout-west\').height() - 45);\r\n            }, 200);\r\n        };\r\n        $(windo" +
"w).resize();\r\n        $(\'#layout2 .ui-layout-center\').height($(\'#layout2 .ui-lay" +
"out-center\').height() - 18);\r\n        layout2NorthH = $(\"#layout2 .ui-layout-nor" +
"th\").height();\r\n    }\r\n    //加载行政区划树\r\n    var  PROVINCE = \"\", CITY = \"\", COUNTY " +
"= \"\";\r\n    function GetTree() {\r\n        var item = {\r\n            height: $(win" +
"dow).height() - 52,\r\n            isAllExpand: false,\r\n            url: \"../../Ma" +
"p/GetTreeJsonForMap\",\r\n            onnodeclick: function (item) {\r\n             " +
"   AreaCode = item.id;\r\n                var level = item.value.split(\',\')[1];\r\n " +
"               var data = [{\r\n                    latitude: item.value.split(\',\'" +
")[3],\r\n                    longitude: item.value.split(\',\')[2],\r\n               " +
" }]\r\n                if (level == -1) {\r\n                    PROVINCE = \"\";\r\n   " +
"                 CITY = \"\";\r\n                    COUNTY = \"\";\r\n                }" +
" else if (level == 1) {\r\n                    PROVINCE = item.id;\r\n              " +
"      CITY = \"\";\r\n                    COUNTY = \"\";\r\n                } else if (l" +
"evel == 2) {\r\n                    PROVINCE = item.id.substring(0, 2) + \"0000\";\r\n" +
"                    CITY = item.id;\r\n                    COUNTY = \"\";\r\n         " +
"       } else if (level == 3) {\r\n                    PROVINCE = item.id.substrin" +
"g(0, 2) + \"0000\";\r\n                    CITY = item.id.substring(0, 4) + \"00\";\r\n " +
"                   COUNTY = item.id;\r\n                }\r\n                mapCtlE" +
"xt.addLocation(data, false, level);\r\n                $(\'#btn_Search\').trigger(\"c" +
"lick\");\r\n            },\r\n        };\r\n        //初始化\r\n        $(\"#itemTree\").treev" +
"iew(item);\r\n    };\r\n    //加载地图\r\n    var mapCtlExt = null;\r\n    function GetMapDa" +
"ta() {\r\n        mapCtlExt = $(\"#mapControl\").mapCtl(\r\n            cfGetMapData({" +
" gdzbdbx: true })\r\n            );\r\n     };\r\n    //加载表格\r\n    function GetGrid() {" +
"\r\n        var selectedRowIndex = 0;\r\n        var queryJson = $(\"#filter-form\").g" +
"etWebControls();\r\n        var $gridTable = $(\'#gridTable\');\r\n        $gridTable." +
"jqGrid({\r\n            autowidth: true,\r\n            postData: { queryJson: JSON." +
"stringify(queryJson) },\r\n            height: $(window).height() - 570,\r\n        " +
"    url: \"../../api/MONITORPOINT/TBL_DMCJ_MONITORPOINT/GetPageListJson\",\r\n      " +
"      loadBeforeSend: function (request) {\r\n                request.setRequestHe" +
"ader(\"Authorization\", authToken);\r\n            },\r\n            datatype: \"json\"," +
"\r\n            colModel: [\r\n                { label: \'GUID\', name: \'GUID\', index:" +
" \'GUID\', width: 230, align: \'left\', sortable: true,hidden:true },\r\n             " +
"   { label: \'监测点编号\', name: \'MONITORPOINTID\', index: \'MONITORPOINTID\', width: 230" +
", align: \'left\', sortable: true },\r\n                { label: \'监测点名称\', name: \'MON" +
"ITORPOINTNAME\', index: \'MONITORPOINTNAME\', width: 300, align: \'left\', sortable: " +
"true },\r\n                { label: \'地面沉降编号\', name: \'DMCJBH\', index: \'DMCJBH\', wid" +
"th: 230, align: \'left\', sortable: true },\r\n                { label: \'地面沉降名称\', na" +
"me: \'DMCJNAME\', index: \'DMCJNAME\', width: 230, align: \'left\', sortable: true },\r" +
"\n                { label: \'监测点类别\', name: \'MONITORPOINTTYPE\', index: \'MONITORPOIN" +
"TTYPE\', width: 200, align: \'left\', sortable: true },\r\n                {\r\n       " +
"             label: \'监测点等级\', name: \'MONITORPOINTLEVEL\', index: \'MONITORPOINTLEVE" +
"L\', width: 200, align: \'left\', sortable: true,\r\n                    formatter: f" +
"unction (cellvalue, options, rowObject) {\r\n                        return cfDicF" +
"ormat(cellvalue, options, rowObject, \"MONITORPOINTLEVEL\");\r\n                    " +
"}\r\n                },\r\n                { label: \'建设单位\', name: \'BUILDDEPT\', index" +
": \'BUILDDEPT\', hidden: true, width: 300, align: \'left\', sortable: true },\r\n     " +
"           { label: \'建设时间\', name: \'BUILDTIME\', index: \'BUILDTIME\', hidden: true," +
" width: 200, align: \'left\', sortable: true },\r\n                { label: \'监测点位置\'," +
" name: \'LOCATION\', index: \'LOCATION\', hidden: true, width: 300, align: \'left\', s" +
"ortable: true },\r\n                { label: \'经度\', name: \'LONGITUDE\', index: \'LONG" +
"ITUDE\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n            " +
"    { label: \'纬度\', name: \'LATITUDE\', index: \'LATITUDE\', width: 100, align: \'left" +
"\', sortable: true, hidden: true },\r\n            ],\r\n            viewrecords: tru" +
"e,\r\n            rowNum: 30,\r\n            rowList: [30, 50, 100],\r\n            pa" +
"ger: \"#gridPager\",\r\n            sortname: \'MONITORPOINTID\',\r\n            sortord" +
"er: \'desc\',\r\n            rownumbers: true,\r\n            shrinkToFit: true,\r\n    " +
"        gridview: true,\r\n            altRows: true,\r\n            onSelectRow: fu" +
"nction (rowId, status) {\r\n                selectedRowIndex = $(\'#\' + this.id).ge" +
"tGridParam(\'selrow\');\r\n                var dt = $gridTable.jqGrid(\"getRowData\", " +
"rowId);\r\n                var objArr = { guid: dt.GUID, name: dt.MONITORPOINTNAME" +
", code: dt.MONITORPOINTID, jd: dt.LONGITUDE, wd: dt.LATITUDE, };\r\n              " +
"  var html = GetHtml(objArr);\r\n                var data = [];\r\n                d" +
"ata.push({ longitude: dt.LONGITUDE, latitude: dt.LATITUDE, popupHtml: html });\r\n" +
"                //map.getView().setZoom(8);\r\n                if (isMarkerClick) " +
"{\r\n                    isMarkerClick = false;\r\n                    //cfShowGDZBA" +
"rea(dt.KQGD, mapCtlExt);\r\n                    return;\r\n                }\r\n      " +
"          else if (dt.LONGITUDE && dt.LATITUDE) {\r\n                    mapCtlExt" +
".addLocation(data,true);\r\n                    //cfShowGDZBArea(dt.KQGD, mapCtlEx" +
"t);\r\n                }\r\n            },\r\n            gridComplete: function () {\r" +
"\n                $(\'#\' + this.id).setSelection(selectedRowIndex, false);\r\n      " +
"      }\r\n        });\r\n    }\r\n    //新增\r\n    function btn_add() {\r\n        dialogO" +
"pen({\r\n            id: \'Form\',\r\n            title: \'添加地面沉降监测点信息表\',\r\n            " +
"url: \'/MONITORPOINT/TBL_DMCJ_MONITORPOINT/TBL_DMCJ_MONITORPOINTForm\',\r\n         " +
"   width: \'650px\',\r\n            height: \'400px\',\r\n            callBack: function" +
" (iframeId) {\r\n                getInfoTop().frames[iframeId].AcceptClick();\r\n   " +
"         }\r\n        });\r\n    }\r\n    //监测数据填报\r\n    function btn_addjc() {\r\n      " +
"  var MONITORPOINTID = $(\"#gridTable\").jqGridRowValue(\'MONITORPOINTID\');\r\n      " +
"  var MONITORPOINTNAME = $(\"#gridTable\").jqGridRowValue(\'MONITORPOINTNAME\');\r\n  " +
"      var IDNAME = escape(MONITORPOINTID + \'&\' + MONITORPOINTNAME);\r\n        che" +
"ckedRow(MONITORPOINTID) && dialogOpen({\r\n            id: \'Form\',\r\n            ti" +
"tle: \'监测数据填报\',\r\n            url: \'/MONITORPOINT/TBL_DMCJ_MONITORPOINT/TBL_DMCJ_M" +
"ONITORPOINTJCSJForm?IDNAME=\' + IDNAME,\r\n            width: \'650px\',\r\n           " +
" height: \'280px\',\r\n            callBack: function (iframeId) {\r\n                " +
"getInfoTop().frames[iframeId].AcceptClick();\r\n            }\r\n        });\r\n    }\r" +
"\n    //编辑\r\n    function btn_edit() {\r\n        var keyValue = $(\"#gridTable\").jqG" +
"ridRowValue(\'MONITORPOINTID\');\r\n        if (checkedRow(keyValue)) {\r\n           " +
" dialogOpen({\r\n                id: \'Form\',\r\n                title: \'编辑地面沉降监测点信息表" +
"\',\r\n                url: \'/MONITORPOINT/TBL_DMCJ_MONITORPOINT/TBL_DMCJ_MONITORPO" +
"INTForm?keyValue=\' + keyValue + \"&formType=Edit\",\r\n                width: \'650px" +
"\',\r\n                height: \'400px\',\r\n                callBack: function (iframe" +
"Id) {\r\n                    getInfoTop().frames[iframeId].AcceptClick();\r\n       " +
"         }\r\n            })\r\n        }\r\n    }\r\n    //详情\r\n    function btn_detil(k" +
"eyValue) {\r\n        var keyValue = $(\"#gridTable\").jqGridRowValue(\'MONITORPOINTI" +
"D\');\r\n        if (checkedRow(keyValue)) {\r\n            dialogOpen({\r\n           " +
"     id: \'Form\',\r\n                title: \'查看地面沉降监测点信息表\',\r\n                url: \'" +
"/MONITORPOINT/TBL_DMCJ_MONITORPOINT/TBL_DMCJ_MONITORPOINTForm?keyValue=\' + keyVa" +
"lue + \"&formType=Detail\",\r\n                width: \'650px\',\r\n                heig" +
"ht: \'400px\',\r\n                callBack: function (iframeId) {\r\n                 " +
"   getInfoTop().frames[iframeId].AcceptClick();\r\n                }\r\n            " +
"})\r\n        }\r\n    }\r\n    //删除\r\n    function btn_delete() {\r\n        var keyValu" +
"e = $(\"#gridTable\").jqGridRowValue(\'MONITORPOINTID\');\r\n        if (keyValue) {\r\n" +
"            $.RemoveForm({\r\n                url: \'../../api/MONITORPOINT/TBL_DMC" +
"J_MONITORPOINT/RemoveForm?keyValue=\'+keyValue,\r\n                authToken: authT" +
"oken,\r\n                //param: { keyValue: keyValue },\r\n                success" +
": function (data) {\r\n                    $(\'#gridTable\').trigger(\'reloadGrid\');\r" +
"\n                }\r\n            })\r\n        } else {\r\n            dialogMsg(\'请选择" +
"需要删除的地面沉降监测点信息表！\', 0);\r\n        }\r\n    }\r\n      //查询表格函数\r\n      function SearchE" +
"vent() {\r\n            $(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n                " +
"postData: { queryJson: JSON.stringify($.extend($(\'.titlePanel\').getWebControls()" +
", { PROVINCE: PROVINCE, CITY: CITY, COUNTY: COUNTY })) },\r\n                url: " +
"\"../../api/MONITORPOINT/TBL_DMCJ_MONITORPOINT/GetPageListJson\",\r\n               " +
"   page: 1\r\n            }).trigger(\'reloadGrid\');\r\n        }\r\n      function Col" +
"DataGrid() {\r\n        var centerHeight = $(\"#layout2\").height();\r\n        var la" +
"yout2 = $(\'#layout2\').layout();\r\n        if ($(\"#lr-colgrid i\").hasClass(\"fa-che" +
"vron-down\")) {\r\n             var northH = centerHeight - 65;\r\n             layou" +
"t2.sizePane(\"north\", northH);\r\n             $(\"#lr-colgrid i\").removeClass(\"fa-c" +
"hevron-down\");\r\n             $(\"#lr-colgrid i\").addClass(\"fa-chevron-up\");\r\n    " +
"         if ($(\"#lr-colmap i\").hasClass(\"fa-chevron-down\")) {\r\n                 " +
" $(\"#lr-colmap i\").removeClass(\"fa-chevron-down\");\r\n                  $(\"#lr-col" +
"map i\").addClass(\"fa-chevron-up\");\r\n             }\r\n        }\r\n        else {\r\n " +
"            layout2.sizePane(\"north\", layout2NorthH);\r\n             $(\"#lr-colgr" +
"id i\").removeClass(\"fa-chevron-up\");\r\n             $(\"#lr-colgrid i\").addClass(\"" +
"fa-chevron-down\");\r\n        }\r\n        mapCtlExt.updateSize();\r\n      }\r\n      f" +
"unction ColMapDiv() {\r\n        var layout2 = $(\'#layout2\').layout();\r\n        if" +
" ($(\"#lr-colmap i\").hasClass(\"fa-chevron-up\")) {\r\n            layout2.sizePane(\"" +
"north\", 1);\r\n            $(\"#lr-colmap i\").removeClass(\"fa-chevron-up\");\r\n      " +
"      $(\"#lr-colmap i\").addClass(\"fa-chevron-down\");\r\n            if ($(\"#lr-col" +
"grid i\").hasClass(\"fa-chevron-up\")) {\r\n                $(\"#lr-colgrid i\").remove" +
"Class(\"fa-chevron-up\");\r\n                $(\"#lr-colgrid i\").addClass(\"fa-chevron" +
"-down\");\r\n            }\r\n        }\r\n        else {\r\n            layout2.sizePane" +
"(\"north\", layout2NorthH);\r\n            $(\"#lr-colmap i\").removeClass(\"fa-chevron" +
"-down\");\r\n            $(\"#lr-colmap i\").addClass(\"fa-chevron-up\");\r\n            " +
"if (mapCtlExt != null) {\r\n                mapCtlExt.setHeight($(\"#mapControl\").p" +
"arent().height() - 32 - 4);\r\n            }\r\n        }\r\n        mapCtlExt.updateS" +
"ize();\r\n      }\r\n\r\n      //加载地图标记\r\n      function BindMapMarker() {\r\n          v" +
"ar queryJson = $(\"#filter-form\").getWebControls();\r\n          $.ajax({\r\n        " +
"      url: \"../../api/MONITORPOINT/TBL_DMCJ_MONITORPOINT/GetListJson?queryJson=\"" +
" + JSON.stringify(queryJson),\r\n              beforeSend: function (request) {\r\n " +
"                 request.setRequestHeader(\"Authorization\", authToken);\r\n        " +
"      },\r\n              type: \"GET\",\r\n              success: function (dataList)" +
" {\r\n                  var data = eval(dataList);\r\n                  var returnVa" +
"lue = [];\r\n                  var img = \"../../../../Content/images/地面沉降16.png\";\r" +
"\n                  for (var i = 0; i < data.length; i++) {\r\n                    " +
"  var objArr = { guid: data[i].MONITORPOINTID, code: data[i].MONITORPOINTID, nam" +
"e: data[i].MONITORPOINTNAME, jd: data[i].LONGITUDE, wd: data[i].LATITUDE };\r\n   " +
"                   var html = GetHtml(objArr);\r\n                      returnValu" +
"e.push({ id: \"all\", url: img, location: [data[i].LONGITUDE, data[i].LATITUDE], p" +
"opupHtml: html, tybh: objArr.code });\r\n                  }\r\n                  ma" +
"pCtlExt.addMarker(returnValue);\r\n              }, error: function (e) {\r\n       " +
"       },\r\n              cache: false\r\n          });\r\n\r\n      };\r\n      //获取点击Ma" +
"rker时对应的数据\r\n      var isMarkerClick = false;\r\n      function getMarkerData(MONIT" +
"ORPOINTID) {\r\n          isMarkerClick = true;\r\n          var datas = $(\'#gridTab" +
"le\').jqGrid(\"getRowData\");\r\n          var count = 0;\r\n          $.each(datas, fu" +
"nction (i, e) {\r\n              if (e.MONITORPOINTID.trim().indexOf(MONITORPOINTI" +
"D) > -1) {\r\n                  count = 1;\r\n                  $(\'#gridTable\').setS" +
"election(i + 1);\r\n                  $(\'#gridTable tr\').eq(i + 1).focus();\r\n     " +
"         }\r\n          });\r\n          if (count == 0) {\r\n              $.ajax({\r\n" +
"                  url: \"../../api/MONITORPOINT/TBL_DMCJ_MONITORPOINT/GetFormJson" +
"\",\r\n                  beforeSend: function (request) {\r\n                      re" +
"quest.setRequestHeader(\"Authorization\", authToken);\r\n                  },\r\n     " +
"             data: { keyValue: MONITORPOINTID },\r\n                  type: \"get\"," +
"\r\n                  dataType: \"json\",\r\n                  success: function (res)" +
" {\r\n                      var rowId = datas.length + 1;\r\n                      $" +
"(\"#gridTable\").addRowData(rowId.toString(), res);\r\n                      window." +
"setTimeout(function () { $(\'#gridTable\').setSelection(rowId); }, 200);\r\n        " +
"              $(\'#gridTable tr:last\').focus();\r\n                  },\r\n          " +
"    });\r\n          };\r\n      };\r\n      function GetHtml(objArr) {\r\n          var" +
" divhtml = \'<div style=\"font-weight: bold;\"></div>\';\r\n          divhtml += \'<div" +
" style=\"font-weight: bold;margin-bottom:5px;\"><span style=\"margin-left:10px;\">监测" +
"点名称：</span><span>\' + objArr.name + \'</span></div>\';\r\n          divhtml += \'<div>" +
"<input type=\"hidden\" id=\"keyID\" value=\"\' + objArr.code + \'\"/></div>\';\r\n         " +
" divhtml += \'<div style=\"margin-bottom:5px;\"><span style=\"margin-left:10px;\">监测点" +
"编号：</span><span>\' + objArr.code + \'</span></div>\';\r\n          divhtml += \'<div s" +
"tyle=\"margin-bottom:5px;\"><span style=\"margin-left:10px;\">经度：</span><span>\' + ob" +
"jArr.jd + \'</span></div>\';\r\n          divhtml += \'<div style=\"margin-bottom:5px;" +
"\"><span style=\"margin-left:10px;\">纬度：</span><span>\' + objArr.wd + \'</span></div>" +
"\';\r\n          divhtml += \'<span style=\"margin-right:20px; float:right; cursor: p" +
"ointer;\"><a onclick=\"btn_edit(\\\'\' + objArr.guid + \'\\\')\" href=\"#\" style=\"text-dec" +
"oration: underline !important;\" class=\"color\">详细信息</a></span>\';\r\n\r\n          ret" +
"urn divhtml;\r\n\r\n      }\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
