#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/MONITORPOINT/Views/TBL_DMCJ_MONITORPOINTSELECT/TBL_DMCJ_MONITORPOINTIndex" +
        ".cshtml")]
    public partial class _Areas_MONITORPOINT_Views_TBL_DMCJ_MONITORPOINTSELECT_TBL_DMCJ_MONITORPOINTIndex_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_MONITORPOINT_Views_TBL_DMCJ_MONITORPOINTSELECT_TBL_DMCJ_MONITORPOINTIndex_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\MONITORPOINT\Views\TBL_DMCJ_MONITORPOINTSELECT\TBL_DMCJ_MONITORPOINTIndex.cshtml"
  
    ViewBag.Title = "列表页面";
    Layout = "~/Views/Shared/_IndexMap.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<link");

WriteLiteral(" rel=\"stylesheet\"");

WriteAttribute("href", Tuple.Create(" href=\"", 107), Tuple.Create("\"", 181)
, Tuple.Create(Tuple.Create("", 114), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/JQueryzTree/css/zTreeStyle/zTreeStyle.css")
, 114), false)
);

WriteLiteral(" type=\"text/css\"");

WriteLiteral(" />\r\n <style>\r\n    .ui-layout-center {\r\n       overflow-x: hidden !important;\r\n  " +
"  }\r\n    .ui-layout-resizer {\r\n        background-color:#f0f3f4 !important;\r\n   " +
" }\r\n    .bbit-tree-node a:hover{\r\n        text-decoration:none !important;\r\n    " +
"}\r\n     .fa-folder-open {\r\n        color: transparent !important;\r\n        backg" +
"round: url(\"../../Content/images/zTreeStandard.png\") no-repeat;\r\n        backgro" +
"und-position: -110px -16px;\r\n        margin-right: 2px;\r\n        width: 16px !im" +
"portant;\r\n        height: 16px !important;\r\n    }\r\n\r\n    .fa-folder {\r\n        c" +
"olor: transparent !important;\r\n        background: url(\"../../Content/images/zTr" +
"eeStandard.png\") no-repeat;\r\n        background-position: -110px 0;\r\n        mar" +
"gin-right: 2px;\r\n        width: 16px !important;\r\n        height: 16px !importan" +
"t;\r\n    }\r\n\r\n    .fa-file-o {\r\n        color: transparent !important;\r\n        b" +
"ackground: url(\"../../Content/images/zTreeStandard.png\") no-repeat;\r\n        bac" +
"kground-position: -110px -32px;\r\n        width: 16px !important;\r\n        height" +
": 16px !important;\r\n    }\r\n    .bbit-tree-arrows .bbit-tree-elbow-plus, .bbit-tr" +
"ee-arrows .bbit-tree-elbow-end-minus {\r\n        margin-top: 5px !important;\r\n   " +
" }\r\n .ui-layout-north {\r\n    overflow:hidden!important;\r\n    }\r\n .color:hover{\r\n" +
"            color:#23527c !important;\r\n        }\r\n .single_cell{\r\n     font-weig" +
"ht:normal!important;\r\n }\r\n .single_cell input{\r\n     font-weight:normal!importan" +
"t;\r\n }\r\n   #ui_center{\r\n        overflow:hidden!important;\r\n    }\r\n</style>\r\n   " +
"   \r\n<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"ui-layout-west\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"west-Panel\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(">行政区划信息</div>\r\n            <div");

WriteLiteral(" id=\"itemTree\"");

WriteLiteral(" style=\"overflow:auto;\"");

WriteLiteral("></div>\r\n        </div>\r\n    </div>\r\n\r\n    <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_center\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"center-Panel\"");

WriteLiteral(" style=\"height: 100%;overflow:hidden;\"");

WriteLiteral(" >\r\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(" style=\"background: #ECF7FF;height:33px;\"");

WriteLiteral(" id=\"filter-form\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" style=\"position: absolute; width: 99%;\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" style=\"float:left;\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(">\r\n                            <table>\r\n                                <tr>\r\n   " +
"                                 <td");

WriteLiteral(" style=\"font-size:14px; color: #000; padding: 0px 6px 0px 0px;\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-bars\"");

WriteLiteral(" style=\"margin-right:10px;\"");

WriteLiteral("></i>查询条件:</td>\r\n                                    <td>\r\n                      " +
"                  <div");

WriteLiteral(" id=\"XZQHCODE\"");

WriteLiteral(" style=\"width: 100%;\"");

WriteLiteral("></div>\r\n                                    </td>\r\n                             " +
"       <td>\r\n                                        <input");

WriteLiteral(" id=\"MONITOROBJECTMH\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入监测点名称，编号\"");

WriteLiteral(" style=\"width: 200px; height:28px; outline:none; margin:0px 10px 0px 20px;font-we" +
"ight:normal !important\"");

WriteLiteral(" />\r\n                                    </td>\r\n                                 " +
"   <td");

WriteLiteral(" style=\"padding-left: 10px;\"");

WriteLiteral(">\r\n                                        <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" style=\"font-size:16px; cursor:pointer;\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral(" style=\"margin: -9px 10px 0px 0px\"");

WriteLiteral("></i></a>\r\n                                    </td>\r\n                           " +
"     </tr>\r\n                            </table>\r\n                        </div>" +
"\r\n                    </div>\r\n                </div>\r\n                <div");

WriteLiteral(" id=\"accordion\"");

WriteLiteral(" style=\"float:right\"");

WriteLiteral(">\r\n                    <h3");

WriteLiteral(" style=\"background: #ECF7FF;\"");

WriteLiteral(">高级查询</h3>\r\n                    <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" style=\"min-height:160px;\"");

WriteLiteral(">\r\n                        ");

WriteLiteral("\r\n                        <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">监测点类别:</span>\r\n                            <input");

WriteLiteral(" id=\"MONITORPOINTTYPE\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">监测点等级:</span>\r\n                            <input");

WriteLiteral(" id=\"MONITORPOINTLEVEL\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">地理位置:</span>\r\n                            <input");

WriteLiteral(" id=\"LOCATION\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">建设单位:</span>\r\n                            <input");

WriteLiteral(" id=\"BUILDDEPT\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">开始时间:</span>\r\n                            <input");

WriteLiteral(" id=\"starttime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" datefmt=\"yyyy-MM-dd\"");

WriteLiteral(" onfocus=\"WdatePicker({dateFmt:\'yyyy-MM-dd\',isShowToday:false,isShowClear:false})" +
"\"");

WriteLiteral(" />\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(" id=\"line\"");

WriteLiteral(">结束时间</span>\r\n                            <input");

WriteLiteral(" id=\"enddtime\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control input-wdatepicker\"");

WriteLiteral(" datefmt=\"yyyy-MM-dd\"");

WriteLiteral(" onfocus=\"WdatePicker({ dateFmt: \'yyyy-MM-dd\', isShowToday: false, isShowClear: f" +
"alse })\"");

WriteLiteral(" />\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"single_cell\"");

WriteLiteral(">\r\n                            <a");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral(" onclick=\"reset()\"");

WriteLiteral(">重置</a>\r\n                            <a");

WriteLiteral(" id=\"btn_Search_higher\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>查询</a>\r\n                        </div>\r\n                    </div>\r\n        " +
"        </div>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout2\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"ui-layout-north\"");

WriteLiteral(" id=\"ui_map\"");

WriteLiteral(" style=\"height: 432px;\"");

WriteLiteral(">                  \r\n                    <div");

WriteLiteral(" id=\"mapControl\"");

WriteLiteral(" style=\"height:432px;\"");

WriteLiteral("></div>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(" id=\"ui_grid\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(" id=\"filter-form-detail\"");

WriteLiteral(">\r\n                            <span");

WriteLiteral(" style=\"font-weight:bold; font-size:14px;\"");

WriteLiteral(">数据列表</span>\r\n                        </div>\r\n                        <div");

WriteLiteral(" class=\"toolbar\"");

WriteLiteral(">\r\n                            <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                                ");

WriteLiteral("\r\n                            </div>\r\n                            <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                                <a");

WriteLiteral(" id=\"btn_export\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_export()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-sign-in\"");

WriteLiteral("></i>&nbsp;导出</a>\r\n                                <a");

WriteLiteral(" id=\"lr-edit\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_detil()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>详情</a>\r\n                                <a");

WriteLiteral(" id=\"lr-data\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"btn_detildata()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>监测数据</a>\r\n                                <a");

WriteLiteral(" id=\"lr-colgrid\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"ColDataGrid()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-chevron-down\"");

WriteLiteral("></i>列表</a>\r\n                                <a");

WriteLiteral(" id=\"lr-colmap\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"ColMapDiv()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-chevron-up\"");

WriteLiteral("></i>地图</a>\r\n                            </div>\r\n                        </div>\r\n" +
"                        <div");

WriteLiteral(" style=\"clear:both;\"");

WriteLiteral("></div>\r\n                    </div>\r\n                    <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                        <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                        <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n" +
"        </div>\r\n    </div>\r\n</div>\r\n\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 8477), Tuple.Create("\"", 8536)
, Tuple.Create(Tuple.Create("", 8483), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/districts/multiDistricts.js")
, 8483), false)
);

WriteLiteral("></script>\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 8556), Tuple.Create("\"", 8631)
, Tuple.Create(Tuple.Create("", 8562), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/JQueryzTree/js/jquery.ztree.core-3.5.min.js")
, 8562), false)
);

WriteLiteral("></script>\r\n<script>\r\n    var layout2NorthH = 1;\r\n    var authToken = getAuthoriz" +
"ationToken();\r\n    $(function () {\r\n        mapshow = true;\r\n        InitialPage" +
"();\r\n        GetTree();\r\n        GetMapData();\r\n        GetGrid();\r\n        //in" +
"itControl();\r\n        BindMapMarker();\r\n        //查询点击事件  \r\n        $(\"#btn_Sear" +
"ch\").click(function () {\r\n            var queryJson = $.extend($(\"#filter-form\")" +
".getWebControls(), $(\"#itemTree\").getWebControls());\r\n            queryJson[\"PRO" +
"VINCE\"] = PROVINCE;\r\n            queryJson[\"CITY\"] = CITY;\r\n            queryJso" +
"n[\"COUNTY\"] = COUNTY;\r\n            SearchEvent(queryJson);\r\n        });\r\n       " +
" $(\"#MONITOROBJECTMH\").keydown(function (event) {\r\n            if (event.keyCode" +
" == \"13\") {\r\n                var queryJson = $.extend($(\"#filter-form\").getWebCo" +
"ntrols(), $(\"#itemTree\").getWebControls());\r\n                queryJson[\"PROVINCE" +
"\"] = PROVINCE;\r\n                queryJson[\"CITY\"] = CITY;\r\n                query" +
"Json[\"COUNTY\"] = COUNTY;\r\n                SearchEvent(queryJson);\r\n            }" +
"\r\n        });\r\n        $(\".title-search input\").keydown(function (event) {\r\n    " +
"        if (event.keyCode == \"13\") {\r\n                var queryJson = $.extend($" +
"(\"#filter-form\").getWebControls(), $(\"#itemTree\").getWebControls());\r\n          " +
"      queryJson[\"PROVINCE\"] = PROVINCE;\r\n                queryJson[\"CITY\"] = CIT" +
"Y;\r\n                queryJson[\"COUNTY\"] = COUNTY;\r\n                SearchEvent(q" +
"ueryJson);\r\n            }\r\n        })\r\n        //高级查询点击事件\r\n        $(\"#btn_Searc" +
"h_higher\").click(function () {\r\n            var queryJson = $.extend($(\"#filter-" +
"form\").getWebControls(), $(\"#itemTree\").getWebControls());\r\n            queryJso" +
"n[\"PROVINCE\"] = PROVINCE;\r\n            queryJson[\"CITY\"] = CITY;\r\n            qu" +
"eryJson[\"COUNTY\"] = COUNTY;\r\n            SearchEvent(queryJson);\r\n        })\r\n  " +
"      //折叠面板显隐\r\n        $(\'#accordion\').accordion({\r\n            active: false,\r" +
"\n            collapsible: false,\r\n            autoHeight: true\r\n        })\r\n    " +
"    $(\'#accordion>div\').hide();\r\n        $(\'.ui-icon-triangle-1-s\').addClass(\'ui" +
"-icon-triangle-1-e\');\r\n        $(\'.ui-icon-triangle-1-e\').removeClass(\'ui-icon-t" +
"riangle-1-s\');\r\n        $(\'#accordion h3\').click(function () {\r\n            if (" +
"$(\'#accordion>div\').css(\'display\') === \'none\') {\r\n                $(\'#accordion>" +
"div\').show();\r\n                $(\'.ui-icon-triangle-1-e\').addClass(\'ui-icon-tria" +
"ngle-1-s\');\r\n            } else {\r\n                $(\'#accordion>div\').hide();\r\n" +
"                $(\'.ui-icon-triangle-1-e\').removeClass(\'ui-icon-triangle-1-s\');\r" +
"\n            }\r\n        });\r\n        $(\"#itemTree\").click(function () {\r\n       " +
"     if ($(\'#accordion>div\').css(\'display\') === \'block\') {\r\n                $(\'#" +
"accordion>div\').hide();\r\n                $(\'.ui-icon-triangle-1-e\').removeClass(" +
"\'ui-icon-triangle-1-s\');\r\n            }\r\n        });\r\n        $(\"#mapControl\").c" +
"lick(function () {\r\n            if ($(\'#accordion>div\').css(\'display\') === \'bloc" +
"k\') {\r\n                $(\'#accordion>div\').hide();\r\n                $(\'.ui-icon-" +
"triangle-1-e\').removeClass(\'ui-icon-triangle-1-s\');\r\n            }\r\n        });\r" +
"\n        $(\"#ui_grid\").click(function () {\r\n            if ($(\'#accordion>div\')." +
"css(\'display\') === \'block\') {\r\n                $(\'#accordion>div\').hide();\r\n    " +
"            $(\'.ui-icon-triangle-1-e\').removeClass(\'ui-icon-triangle-1-s\');\r\n   " +
"         }\r\n        });\r\n        //$(\"#ui-accordion-accordion-panel-0\").mouselea" +
"ve(function () {\r\n        //    $(\"#accordion h3\").click();\r\n        //})\r\n    }" +
");\r\n    //初始化页面\r\n    //初始化页面\r\n    function InitialPage() {\r\n        $(\'#ui_map\')" +
".height($(window).height() * 0.53)\r\n        $(\'#mapControl\').height($(window).he" +
"ight() * 0.53)\r\n        //layout布局\r\n        $(\'#layout\').layout({\r\n            a" +
"pplyDemoStyles: true,\r\n            west__size: 190,\r\n            onresize: funct" +
"ion () {\r\n                if (isResize < 10) {\r\n                    isResize++;\r" +
"\n                }\r\n                resize();\r\n            }\r\n        });\r\n     " +
"   var isResize = 0;\r\n        var count = 0;\r\n        var resized = 0;\r\n        " +
"$(\'#layout2\').layout({\r\n            applyDemoStyles: true,\r\n            onresize" +
": function () {\r\n                resize($(\'.panel-Title\').height());\r\n          " +
"      if (isResize > 1) {\r\n                    resized = 1;\r\n                } e" +
"lse {\r\n                    if (count == 1 || resized == 0) {\r\n                  " +
"      $(\'#layout2 .ui-layout-center\').height($(\'#layout2 .ui-layout-center\').hei" +
"ght() - 18);\r\n                    }\r\n                }\r\n                count++;" +
"\r\n            }\r\n        });\r\n        //resize重设布局;\r\n        $(window).resize(fu" +
"nction (e) {\r\n            if (isResize < 10) {\r\n                isResize++;\r\n   " +
"         }\r\n            resize($(\'.panel-Title\').height());\r\n            e.stopP" +
"ropagation();\r\n        });\r\n        function resize() {\r\n            window.setT" +
"imeout(function () {\r\n                if (mapCtlExt != null) {\r\n                " +
"    mapCtlExt.setHeight($(\'#mapControl\').parent().height() - 4);\r\n              " +
"  }\r\n                $(\'#gridTable\').setGridWidth(($(\'.gridPanel\').width()));\r\n " +
"               $(\'#layout2 .ui-layout-center\').width($(\'#layout2 .ui-layout-cent" +
"er\').parent().width());\r\n                $(\'#layout2 .ui-layout-resizer\').width(" +
"$(\'#layout2 .ui-layout-center\').parent().width());\r\n                $(\'#gridTabl" +
"e\').setGridHeight($(window).height() - $(\'#mapControl\').height() - $(\'.panel-Tit" +
"le\').height());\r\n                $(\'#gridTable\').setGridHeight($(\'#layout2 .ui-l" +
"ayout-center\').height() - 60 - 60);\r\n                $(\'.ui-jqgrid-bdiv\').height" +
"($(\'#layout2 .ui-layout-center\').height() - 60 - 60);\r\n                $(\'#layou" +
"t2 .ui-layout-center\').height($(\'#layout2\').height() - $(\'#layout2 .ui-layout-no" +
"rth\').height());\r\n                $(\'#gridTable\').setGridHeight($(\'#layout2 .ui-" +
"layout-center\').height() - 123 -46);\r\n                $(\'#layout2 .ui-layout-cen" +
"ter\').css(\'overflow\', \'hidden\');\r\n                $(\"#itemTree\").height($(\'.ui-l" +
"ayout-west\').height() - 45);\r\n            }, 200);\r\n        };\r\n        $(window" +
").resize();\r\n        $(\'#layout2 .ui-layout-center\').height($(\'#layout2 .ui-layo" +
"ut-center\').height() - 18);\r\n        layout2NorthH = $(\"#layout2 .ui-layout-nort" +
"h\").height();\r\n    }\r\n    //加载行政区划树\r\n    var PROVINCE = \"\", CITY = \"\", COUNTY = " +
"\"\";\r\n    function GetTree() {\r\n        var item = {\r\n            height: $(windo" +
"w).height() - 52,\r\n            isAllExpand: false,\r\n            url: \"../../Map/" +
"GetTreeJsonForMap\",\r\n            onnodeclick: function (item) {\r\n               " +
" AreaCode = item.id;\r\n                var level = item.value.split(\',\')[1];\r\n   " +
"             var data = [{\r\n                    latitude: item.value.split(\',\')[" +
"3],\r\n                    longitude: item.value.split(\',\')[2],\r\n                }" +
"]\r\n                if (level == -1) {\r\n                    PROVINCE = \"\";\r\n     " +
"               CITY = \"\";\r\n                    COUNTY = \"\";\r\n                } e" +
"lse if (level == 1) {\r\n                    PROVINCE = item.id;\r\n                " +
"    CITY = \"\";\r\n                    COUNTY = \"\";\r\n                } else if (lev" +
"el == 2) {\r\n                    PROVINCE = item.id.substring(0, 2) + \"0000\";\r\n  " +
"                  CITY = item.id;\r\n                    COUNTY = \"\";\r\n           " +
"     } else if (level == 3) {\r\n                    PROVINCE = item.id.substring(" +
"0, 2) + \"0000\";\r\n                    CITY = item.id.substring(0, 4) + \"00\";\r\n   " +
"                 COUNTY = item.id;\r\n                }\r\n                mapCtlExt" +
".addLocation(data,false,level);\r\n                $(\'#btn_Search\').trigger(\"click" +
"\");\r\n            },\r\n        };\r\n        //初始化\r\n        $(\"#itemTree\").treeview(" +
"item);\r\n    };\r\n    //加载地图\r\n    function GetConfig(keyvalue) {\r\n        var url " +
"= \"\";\r\n        $.ajax({\r\n            url: \"/Utility/GetAppSetting\",\r\n           " +
" async: false, //同步请求\r\n            data: { key: keyvalue },\r\n            type: \"" +
"GET\",\r\n            success: function (data) {\r\n                url = data;\r\n    " +
"        }\r\n        });\r\n        return url;\r\n    }\r\n    var mapCtlExt = null;\r\n " +
"   function GetMapData() {\r\n        mapCenter = GetConfig(\"center\");\r\n          " +
"$.ajax({\r\n             url: \'../../Map/GetMapDatas\',\r\n             async: false," +
"\r\n             type: \"GET\",\r\n             success: function (data) {\r\n          " +
"             var dataSet = JSON.parse(data);\r\n                        mapCtlExt=" +
" $(\"#mapControl\").mapCtl({\r\n                                zoom: mapCenter.spli" +
"t(\',\')[2],\r\n                                center: mapCenter.split(\',\'),\r\n     " +
"                           mapwidth: 1500,\r\n                                isSh" +
"owGisLayer:false,\r\n                                isFrame:true,\r\n              " +
"                  dataset: dataSet,\r\n                                isCluster: " +
"true\r\n                             });\r\n                        }, error: functi" +
"on (e) {\r\n                    },\r\n             cache: false\r\n         });\r\n     " +
"};\r\n    //加载表格\r\n    function GetGrid() {\r\n        var selectedRowIndex = 0;\r\n   " +
"     var queryJson = $(\"#filter-form\").getWebControls();\r\n        var $gridTable" +
" = $(\'#gridTable\');\r\n        $gridTable.jqGrid({\r\n            autowidth: true,\r\n" +
"            mtype: \'POST\',\r\n            postData: { queryJson: JSON.stringify(qu" +
"eryJson) },\r\n            height: $(window).height() - 570,\r\n            url: \".." +
"/../api/MONITORPOINT/TBL_DMCJ_MONITORPOINT/PostPageListJson\",\r\n            loadB" +
"eforeSend: function (request) {\r\n                request.setRequestHeader(\"Autho" +
"rization\", authToken);\r\n            },\r\n            datatype: \"json\",\r\n         " +
"   colModel: [\r\n                { label: \'监测点编号\', name: \'MONITORPOINTID\', index:" +
" \'MONITORPOINTID\', width: 230, align: \'left\',sortable: true  },\r\n               " +
" { label: \'监测点名称\', name: \'MONITORPOINTNAME\', index: \'MONITORPOINTNAME\', width: 3" +
"00, align: \'left\',sortable: true  },\r\n                { label: \'地面沉降编号\', name: \'" +
"DMCJBH\', index: \'DMCJBH\', width: 230, align: \'left\', sortable: true },\r\n        " +
"        { label: \'地面沉降名称\', name: \'DMCJNAME\', index: \'DMCJNAME\', width: 230, alig" +
"n: \'left\', sortable: true },\r\n                { label: \'监测点类别\', name: \'MONITORPO" +
"INTTYPE\', index: \'MONITORPOINTTYPE\', width: 200, align: \'left\',sortable: true  }" +
",\r\n                {\r\n                    label: \'监测点等级\', name: \'MONITORPOINTLEV" +
"EL\', index: \'MONITORPOINTLEVEL\', width: 200, align: \'left\', sortable: true,\r\n   " +
"                 formatter: function (cellvalue, options, rowObject) {\r\n        " +
"                return cfDicFormat(cellvalue, options, rowObject, \"MONITORPOINTL" +
"EVEL\");\r\n                    }\r\n                },\r\n                { label: \'建设" +
"单位\', name: \'BUILDDEPT\', index: \'BUILDDEPT\', hidden: true, width: 300, align: \'le" +
"ft\', sortable: true },\r\n                { label: \'建设时间\', name: \'BUILDTIME\', inde" +
"x: \'BUILDTIME\', hidden: true, width: 200, align: \'left\', sortable: true },\r\n    " +
"            { label: \'监测点位置\', name: \'LOCATION\', index: \'LOCATION\', hidden: true," +
" width: 300, align: \'left\', sortable: true },\r\n                { label: \'经度\', na" +
"me: \'LONGITUDE\', index: \'LONGITUDE\', width: 100, align: \'left\', sortable: true,h" +
"idden:true },\r\n                { label: \'纬度\', name: \'LATITUDE\', index: \'LATITUDE" +
"\', width: 100, align: \'left\', sortable: true, hidden: true },\r\n            ],\r\n " +
"           viewrecords: true,\r\n            rowNum: 30,\r\n            rowList: [30" +
", 50, 100],\r\n            pager: \"#gridPager\",\r\n            sortname: \'MONITORPOI" +
"NTID\',\r\n            sortorder: \'desc\',\r\n            rownumbers: true,\r\n         " +
"   shrinkToFit: true,\r\n            gridview: true,\r\n            multiselect: tru" +
"e,\r\n            altRows: true,\r\n            onSelectRow: function (rowId, status" +
") {\r\n                selectedRowIndex = $(\'#\' + this.id).getGridParam(\'selrow\');" +
"\r\n                var dt = $gridTable.jqGrid(\"getRowData\", rowId);\r\n            " +
"    var objArr = { guid: dt.GUID, name: dt.MONITORPOINTNAME, code: dt.MONITORPOI" +
"NTID, jd: dt.LONGITUDE, wd: dt.LATITUDE, };\r\n                var html = GetHtml(" +
"objArr);\r\n                var data = [];\r\n                data.push({ longitude:" +
" dt.LONGITUDE, latitude: dt.LATITUDE, popupHtml: html });\r\n                //map" +
".getView().setZoom(8);\r\n                if (isMarkerClick) {\r\n                  " +
"  isMarkerClick = false;\r\n                    //cfShowGDZBArea(dt.KQGD, mapCtlEx" +
"t);\r\n                    return;\r\n                }\r\n                else if (dt" +
".LONGITUDE && dt.LATITUDE) {\r\n                    mapCtlExt.addLocation(data,tru" +
"e);\r\n                    //cfShowGDZBArea(dt.KQGD, mapCtlExt);\r\n                " +
"}\r\n            },\r\n            gridComplete: function () {\r\n                $(\'#" +
"\' + this.id).setSelection(selectedRowIndex, false);\r\n            }\r\n        });\r" +
"\n    }\r\n      //查询表格函数\r\n    function SearchEvent(queryJson) {\r\n            BindM" +
"apMarker();\r\n            $(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n             " +
"   postData: { queryJson: JSON.stringify($.extend($(\'#filter-form\').getWebContro" +
"ls(), { PROVINCE: PROVINCE, CITY: CITY, COUNTY: COUNTY })), condition: JSON.stri" +
"ngify(WKTString) },\r\n                url: \"../../api/MONITORPOINT/TBL_DMCJ_MONIT" +
"ORPOINT/PostPageListJson\",\r\n                    page: 1\r\n            }).trigger(" +
"\'reloadGrid\');\r\n        }\r\n      function ColDataGrid() {\r\n        var centerHei" +
"ght = $(\"#layout2\").height();\r\n        var layout2 = $(\'#layout2\').layout();\r\n  " +
"      if ($(\"#lr-colgrid i\").hasClass(\"fa-chevron-down\")) {\r\n             var no" +
"rthH = centerHeight - 65;\r\n             layout2.sizePane(\"north\", northH);\r\n    " +
"         $(\"#lr-colgrid i\").removeClass(\"fa-chevron-down\");\r\n             $(\"#lr" +
"-colgrid i\").addClass(\"fa-chevron-up\");\r\n             if ($(\"#lr-colmap i\").hasC" +
"lass(\"fa-chevron-down\")) {\r\n                  $(\"#lr-colmap i\").removeClass(\"fa-" +
"chevron-down\");\r\n                  $(\"#lr-colmap i\").addClass(\"fa-chevron-up\");\r" +
"\n             }\r\n        }\r\n        else {\r\n             layout2.sizePane(\"north" +
"\", layout2NorthH);\r\n             $(\"#lr-colgrid i\").removeClass(\"fa-chevron-up\")" +
";\r\n             $(\"#lr-colgrid i\").addClass(\"fa-chevron-down\");\r\n        }\r\n    " +
"    map.updateSize();\r\n      }\r\n      function ColMapDiv() {\r\n        var layout" +
"2 = $(\'#layout2\').layout();\r\n        if ($(\"#lr-colmap i\").hasClass(\"fa-chevron-" +
"up\")) {\r\n            layout2.sizePane(\"north\", 1);\r\n            $(\"#lr-colmap i\"" +
").removeClass(\"fa-chevron-up\");\r\n            $(\"#lr-colmap i\").addClass(\"fa-chev" +
"ron-down\");\r\n            if ($(\"#lr-colgrid i\").hasClass(\"fa-chevron-up\")) {\r\n  " +
"              $(\"#lr-colgrid i\").removeClass(\"fa-chevron-up\");\r\n                " +
"$(\"#lr-colgrid i\").addClass(\"fa-chevron-down\");\r\n            }\r\n        }\r\n     " +
"   else {\r\n            layout2.sizePane(\"north\", layout2NorthH);\r\n            $(" +
"\"#lr-colmap i\").removeClass(\"fa-chevron-down\");\r\n            $(\"#lr-colmap i\").a" +
"ddClass(\"fa-chevron-up\");\r\n            if (mapCtlExt != null) {\r\n               " +
" mapCtlExt.setHeight($(\"#mapControl\").parent().height() - 32 - 4);\r\n            " +
"}\r\n        }\r\n        map.updateSize();\r\n      }\r\n      //function initControl()" +
" {\r\n      //    var html = \" <table><tr><td class=\\\"formTitle\\\"  style=\\\"float: " +
"left; margin: -1px 8px 8px 12px; display: none;\\\">省:</td><td style=\\\"display: no" +
"ne;\\\"> <div id=\\\"PROVINCE\\\" multiples=\\\"true\\\" type=\\\"select\\\" class=\\\"ui-select" +
"\\\" style=\\\"float: left; width: 160px; margin: 1px 4px 8px 4px;\\\" ></div></td>\" +" +
"\r\n      //       \"<td class=\\\"formTitle\\\" style=\\\"float: left; margin: -1px 8px " +
"8px 12px;\\\">市:</td><td><div id=\\\"CITY\\\" multiples=\\\"true\\\" type=\\\"select\\\" class" +
"=\\\"ui-select\\\" style=\\\"float: left; width: 160px; margin: 1px 4px 8px 4px;\\\"></d" +
"iv></td>\" +\r\n      //    \"<td class=\\\"formTitle\\\" style=\\\"float: left; margin: -" +
"1px 8px 8px 12px;\\\">区:</td><td><div id=\\\"COUNTY\\\" multiples=\\\"true\\\" type=\\\"sele" +
"ct\\\" class=\\\"ui-select\\\" style=\\\"float: left; width: 160px; margin: 1px 4px 8px " +
"4px;\\\"></div> </td></tr></table>\";\r\n\r\n      //    var district = $(\"#XZQHCODE\")." +
"mulDistrictsCtl({\r\n      //        provinceId: \"370000\",\r\n      //        select" +
"ProviceId: \"370000\",\r\n      //        selectCityId: \"\",\r\n      //        selectC" +
"ounty: \"\",\r\n      //        html: html\r\n      //    });\r\n\r\n\r\n      //    provinc" +
"eData = GetXZQH(\"370000\");\r\n      //    var strValue = \"\";\r\n      //    for (var" +
" i = 0; i < provinceData.length; i++) {\r\n      //        strValue += provinceDat" +
"a[i].F_AreaCode + \',\';\r\n      //    }\r\n      //    strValue = strValue.substring" +
"(0, strValue.length - 1);\r\n      //    cityData = GetXZQH(strValue);\r\n\r\n      //" +
"    //$(\"#JCDJB\").ComboBox({\r\n      //    //    url: \"../../SystemManage/DataIte" +
"mDetail/GetDataItemTreeJson?EnCode=JCDJB\",\r\n      //    //    id: \"value\",\r\n    " +
"  //    //    text: \"text\",\r\n      //    //    height: \'200px\'\r\n      //    //})" +
";\r\n      //}\r\n      //function GetXZQH(value) {\r\n      //    var data = [];\r\n   " +
"   //    $.ajax({\r\n      //        url: \"../../SystemManage/Area/GetAllByParentC" +
"odes\",\r\n      //        data: { codes: value },\r\n      //        async: false,\r\n" +
"      //        type: \"GET\",\r\n      //        success: function (dataList) {\r\n  " +
"    //            data = eval(dataList);\r\n      //        }, error: function (e)" +
" {\r\n      //        },\r\n      //        cache: false\r\n      //    });\r\n      // " +
"   return data;\r\n      //}\r\n      //重置\r\n      function reset() {\r\n          $(\"#" +
"XMMC\").val(\"\");\r\n          $(\"#DMCJBH\").val(\"\");\r\n          $(\"#DCR\").val(\"\");\r\n" +
"          $(\"#starttime\").comboBoxSetValue(\"\");\r\n          $(\"#enddtime\").comboB" +
"oxSetValue(\"\");\r\n          $(\"#LOCATION\").comboBoxSetValue(\"\");\r\n      }\r\n\r\n    " +
"  //加载地图标记\r\n      function BindMapMarker() {\r\n          var queryJson = $(\"#filt" +
"er-form\").getWebControls();\r\n          $.ajax({\r\n              url: \"../../api/M" +
"ONITORPOINT/TBL_DMCJ_MONITORPOINT/PostListJson\",\r\n              data: { queryJso" +
"n: JSON.stringify(queryJson), condition: JSON.stringify(WKTString) },\r\n         " +
"     type: \"POST\",\r\n              beforeSend: function (request) {\r\n            " +
"      request.setRequestHeader(\"Authorization\", authToken);\r\n              },\r\n " +
"             success: function (dataList) {\r\n                  var data = dataLi" +
"st;\r\n                  var returnValue = [];\r\n                  var img = \"../.." +
"/../../Content/images/地面沉降16.png\";\r\n                  for (var i = 0; i < data.l" +
"ength; i++) {\r\n                      var objArr = { guid: data[i].MONITORPOINTID" +
", code: data[i].MONITORPOINTID, name: data[i].MONITORPOINTNAME, jd: data[i].LONG" +
"ITUDE, wd: data[i].LATITUDE };\r\n                      var html = GetHtml(objArr)" +
";\r\n                      returnValue.push({ id: \"all\", url: img, location: [data" +
"[i].LONGITUDE, data[i].LATITUDE], popupHtml: html, tybh: objArr.code });\r\n      " +
"            }\r\n                  mapCtlExt.addMarker(returnValue);\r\n            " +
"  }, error: function (e) {\r\n              },\r\n              cache: false\r\n      " +
"    });\r\n\r\n      };\r\n      //获取点击Marker时对应的数据\r\n      var isMarkerClick = false;\r" +
"\n      function getMarkerData(MONITORPOINTID) {\r\n          isMarkerClick = true;" +
"\r\n          var datas = $(\'#gridTable\').jqGrid(\"getRowData\");\r\n          var cou" +
"nt = 0;\r\n          $.each(datas, function (i, e) {\r\n              if (e.MONITORP" +
"OINTID.trim().indexOf(MONITORPOINTID) > -1) {\r\n                  count = 1;\r\n   " +
"               $(\'#gridTable\').setSelection(i + 1);\r\n                  $(\'#gridT" +
"able tr\').eq(i + 1).focus();\r\n              }\r\n          });\r\n          if (coun" +
"t == 0) {\r\n              $.ajax({\r\n                  beforeSend: function (reque" +
"st) {\r\n                      request.setRequestHeader(\"Authorization\", authToken" +
");\r\n                  },\r\n                  url: \"api/MONITORPOINT/TBL_DMCJ_MONI" +
"TORPOINT/GetFormJson\",\r\n                  data: { keyValue: MONITORPOINTID },\r\n " +
"                 type: \"get\",\r\n                  dataType: \"json\",\r\n            " +
"      success: function (res) {\r\n                      var rowId = datas.length " +
"+ 1;\r\n                      $(\"#gridTable\").addRowData(rowId.toString(), res);\r\n" +
"                      window.setTimeout(function () { $(\'#gridTable\').setSelecti" +
"on(rowId); }, 200);\r\n                      $(\'#gridTable tr:last\').focus();\r\n   " +
"               },\r\n              });\r\n          };\r\n      };\r\n      function Get" +
"Html(objArr) {\r\n          var divhtml = \'<div style=\"font-weight: bold;\"></div>\'" +
";\r\n          divhtml += \'<div style=\"font-weight: bold;margin-bottom:5px;\"><span" +
" style=\"margin-left:10px;\">监测点名称：</span><span>\' + objArr.name + \'</span></div>\';" +
"\r\n          divhtml += \'<div><input type=\"hidden\" id=\"keyID\" value=\"\' + objArr.c" +
"ode + \'\"/></div>\';\r\n          divhtml += \'<div style=\"margin-bottom:5px;\"><span " +
"style=\"margin-left:10px;\">监测点编号：</span><span>\' + objArr.code + \'</span></div>\';\r" +
"\n          divhtml += \'<div style=\"margin-bottom:5px;\"><span style=\"margin-left:" +
"10px;\">经度：</span><span>\' + objArr.jd + \'</span></div>\';\r\n          divhtml += \'<" +
"div style=\"margin-bottom:5px;\"><span style=\"margin-left:10px;\">纬度：</span><span>\'" +
" + objArr.wd + \'</span></div>\';\r\n          divhtml += \'<span style=\"margin-right" +
":20px; float:right; cursor: pointer;\"><a onclick=\"btn_edit(\\\'\' + objArr.guid + \'" +
"\\\')\" href=\"#\" style=\"text-decoration: underline;\" class=\"color\">详细信息</a></span>\'" +
";\r\n\r\n          return divhtml;\r\n\r\n      }\r\n      //详情\r\n      function btn_detil(" +
"keyValue) {\r\n          var keyValue = $(\"#gridTable\").jqGridRowValue(\'MONITORPOI" +
"NTID\');\r\n          if (checkedRow(keyValue)) {\r\n              dialogOpen({\r\n    " +
"              id: \'Form\',\r\n                  title: \'编辑地面沉降监测点信息表\',\r\n           " +
"       url: \'/MONITORPOINT/TBL_DMCJ_MONITORPOINT/TBL_DMCJ_MONITORPOINTForm?keyVa" +
"lue=\' + keyValue + \"&formType=Detail\",\r\n                  width: \'650px\',\r\n     " +
"             height: \'400px\',\r\n                  callBack: function (iframeId) {" +
"\r\n                      getInfoTop().frames[iframeId].AcceptClick();\r\n          " +
"        }\r\n              })\r\n          }\r\n      }\r\n    //监测数据\r\n      function bt" +
"n_detildata(keyValue) {\r\n          var keyValue = $(\"#gridTable\").jqGridRowValue" +
"(\'MONITORPOINTID\');\r\n          dialogOpen({\r\n              id: \'Form\',\r\n        " +
"      title: \'监测数据查看\',\r\n              url: \'/MONITORPOINT/TBL_DMCJ_MONITORPOINT/" +
"TBL_DMCJ_MONITORForm?keyValue=\' + keyValue,\r\n              width: \'1200px\',\r\n   " +
"           height: \'600px\',\r\n              callBack: function (iframeId) {\r\n    " +
"              getInfoTop().frames[iframeId].AcceptClick();\r\n              }\r\n\r\n " +
"         });\r\n      }\r\n      //导出excel\r\n      function btn_export() {\r\n         " +
" var queryJson = $.extend($(\"#filter-form\").getWebControls(), $(\"#itemTree\").get" +
"WebControls());\r\n          queryJson[\"PROVINCE\"] = PROVINCE;\r\n          queryJso" +
"n[\"CITY\"] = CITY;\r\n          queryJson[\"COUNTY\"] = COUNTY;\r\n          if (!query" +
"Json) {\r\n              return;\r\n          }\r\n          var outColumn = \"MONITORP" +
"OINTID,MONITORPOINTNAME,DMCJBH,DMCJNAME,MONITORPOINTTYPE,MONITORPOINTLEVEL\";\r\n  " +
"        DownExcel(\"../../api/TBL_DMCJ_MONITORPOINT/ExcelDownload_POST\", {\r\n     " +
"         outColumn: outColumn,\r\n              queryJson: JSON.stringify(queryJso" +
"n),\r\n              condition: JSON.stringify(WKTString)\r\n          });\r\n      };" +
"\r\n      //下载excel:先在服务器生成excel，然后下载文件（删除）\r\n      function DownExcel(url, data) {" +
"\r\n          $.ajax({\r\n              url: url,\r\n              data: data,\r\n      " +
"        async: false,\r\n              type: \"POST\",\r\n              beforeSend: fu" +
"nction (a) {\r\n                  a.setRequestHeader(\"Authorization\", getAuthoriza" +
"tionToken());\r\n              },\r\n              success: function (data) {\r\n     " +
"             location.href = \"../../api/Utility/FileDownload/ExcelDownloadByFile" +
"Name?fileName=\" + data.fileNameGuid + \"&DownFileName=\" + data.DownFileName;\r\n   " +
"           }, error: function (e) {\r\n              },\r\n              cache: fals" +
"e\r\n          });\r\n      }\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
