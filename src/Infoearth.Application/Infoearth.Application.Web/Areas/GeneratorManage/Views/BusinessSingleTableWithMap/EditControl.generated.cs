#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/GeneratorManage/Views/BusinessSingleTableWithMap/EditControl.cshtml")]
    public partial class _Areas_GeneratorManage_Views_BusinessSingleTableWithMap_EditControl_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_GeneratorManage_Views_BusinessSingleTableWithMap_EditControl_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n");

            
            #line 6 "..\..\Areas\GeneratorManage\Views\BusinessSingleTableWithMap\EditControl.cshtml"
  
    ViewBag.Title = "编辑控件";
    Layout = "~/Views/Shared/_Form.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<style>\r\n    .dataSources {\r\n        display:none;\r\n    }\r\n</style>\r\n<div");

WriteLiteral(" style=\"margin-left: 10px; margin-top: 20px; margin-right: 30px;\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" class=\"form\"");

WriteLiteral(">\r\n        <tr>\r\n            <th");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">字段标识</th>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"ControlId\"");

WriteLiteral(" disabled");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">字段名称</th>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"ControlName\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">字段验证</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlValidator\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(">\r\n                    <option");

WriteLiteral(" value=\"\"");

WriteLiteral(">==请选择==</option>\r\n                    <option");

WriteLiteral(" value=\"NotNull\"");

WriteLiteral(">不能为空</option>\r\n                    <option");

WriteLiteral(" value=\"Num\"");

WriteLiteral(">数字</option>\r\n                    <option");

WriteLiteral(" value=\"NumOrNull\"");

WriteLiteral(">数字或空</option>\r\n                    <option");

WriteLiteral(" value=\"Double\"");

WriteLiteral(">小数</option>\r\n                    <option");

WriteLiteral(" value=\"DoubleOrNull\"");

WriteLiteral(">小数或空</option>\r\n                    <option");

WriteLiteral(" value=\"Phone\"");

WriteLiteral(">必须电话格式</option>\r\n                    <option");

WriteLiteral(" value=\"PhoneOrNull\"");

WriteLiteral(">必须电话格式或空</option>\r\n                    <option");

WriteLiteral(" value=\"Mobile\"");

WriteLiteral(">手机格式</option>\r\n                    <option");

WriteLiteral(" value=\"MobileOrNull\"");

WriteLiteral(">手机格式或空</option>\r\n                    <option");

WriteLiteral(" value=\"Email\"");

WriteLiteral(">电子邮件格式</option>\r\n                    <option");

WriteLiteral(" value=\"isEmailOrNull\"");

WriteLiteral(">电子邮件格式或空</option>\r\n                    <option");

WriteLiteral(" value=\"IDCard\"");

WriteLiteral(">身份证格式</option>\r\n                    <option");

WriteLiteral(" value=\"IDCardOrNull\"");

WriteLiteral(">身份证格式或空</option>\r\n                </select>\r\n            </td>\r\n        </tr>\r\n " +
"       <tr>\r\n            <th");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">合并列</th>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"radio\"");

WriteLiteral(">\r\n                    <label>\r\n                        <input");

WriteLiteral(" name=\"ControlColspan\"");

WriteLiteral(" type=\"radio\"");

WriteLiteral(" checked=\"checked\"");

WriteLiteral(" value=\"0\"");

WriteLiteral(">\r\n                        不合并\r\n                    </label>\r\n                   " +
" <label>\r\n                        <input");

WriteLiteral(" name=\"ControlColspan\"");

WriteLiteral(" type=\"radio\"");

WriteLiteral(" value=\"1\"");

WriteLiteral(">\r\n                        合并\r\n                    </label>\r\n                </di" +
"v>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">默认值</th>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"ControlDefault\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">字段类型</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlType\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(">\r\n                    <option");

WriteLiteral(" value=\"input\"");

WriteLiteral(">文本框</option>\r\n                    <option");

WriteLiteral(" value=\"select\"");

WriteLiteral(">下拉框</option>\r\n                    <option");

WriteLiteral(" value=\"datetime\"");

WriteLiteral(">日期框</option>\r\n                    <option");

WriteLiteral(" value=\"textarea\"");

WriteLiteral(">文本区</option>\r\n                    <option");

WriteLiteral(" value=\"xzqh\"");

WriteLiteral(">行政区划</option>\r\n                </select>\r\n            </td>\r\n        </tr>\r\n    " +
"    <tr");

WriteLiteral(" class=\"dataSources\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">数据类型</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataSource\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(">\r\n                    <option");

WriteLiteral(" value=\"dataItem\"");

WriteLiteral(">数据字典</option>\r\n                    <option");

WriteLiteral(" value=\"dataDb\"");

WriteLiteral(">数据表</option>\r\n                </select>\r\n            </td>\r\n        </tr>\r\n     " +
"   <tr");

WriteLiteral(" class=\"dataSources dataDataItem\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">数据字典</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"ControlDataItemEncode\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"dataSources dataDataDb\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">数据库</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataDb\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral("></select>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"dataSources dataDataDb\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">数据表</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataTable\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral("></select>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"dataSources dataDataDb\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">id字段名</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataFliedId\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral("></select>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"dataSources dataDataDb\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">text字段名</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataFliedText\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral("></select>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n\r\n<script>\r\n " +
"   (function ($) {\r\n        \"use strict\";\r\n\r\n        $.formJS = {\r\n            c" +
"ontrolId: request(\'controlId\'),\r\n            dataJson: getInfoTop().Form.binding" +
"FormJson,\r\n            initial: function () {\r\n                $.formJS.initialC" +
"ontrol();\r\n                $.formJS.initialData();\r\n            },\r\n            " +
"initialData: function () {\r\n                $.each($.formJS.dataJson, function (" +
"i,item) {\r\n                    if (item.controlId == $.formJS.controlId) {\r\n    " +
"                    $(\"#ControlId\").val(item.controlId);\r\n                      " +
"  $(\"#ControlName\").val(item.controlName);\r\n                        $(\"#ControlV" +
"alidator\").val(item.controlValidator);\r\n                        $(\"input[name=\'C" +
"ontrolColspan\'][value=\" + item.controlColspan + \"]\").attr(\"checked\", true);\r\n   " +
"                     $(\"#ControlDefault\").val(item.controlDefault);\r\n           " +
"             $(\'#ControlType\').val(item.controlType);\r\n                        i" +
"f (item.controlType == \"select\") {\r\n                            $(\'#ControlType\'" +
").trigger(\'change\');\r\n                            $(\'#ControlDataSource\').val(it" +
"em.controlDataSource);\r\n                            $(\'#ControlDataSource\').trig" +
"ger(\'change\');\r\n                            if (item.controlDataSource == \"dataI" +
"tem\") {\r\n                                console.log(item.controlDataItemEncode)" +
";\r\n                                $(\'#ControlDataItemEncode\').ComboBoxTreeSetVa" +
"lue(item.controlDataItemEncode);\r\n                            }\r\n               " +
"             else {\r\n                                $(\'#ControlDataDb\').val(ite" +
"m.controlDataDb);\r\n                                $(\'#ControlDataDb\').trigger(\'" +
"change\');\r\n                                $(\'#ControlDataTable\').val(item.contr" +
"olDataTable);\r\n                                $(\'#ControlDataTable\').trigger(\'c" +
"hange\');\r\n                                $(\'#ControlDataFliedId\').val(item.cont" +
"rolDataFliedId);\r\n                                $(\'#ControlDataFliedText\').val" +
"(item.controlDataFliedText);\r\n                            }\r\n                   " +
"     }\r\n                        return false;\r\n                    }\r\n          " +
"      });\r\n            },\r\n            initialControl: function () {\r\n          " +
"      $(\'#ControlType\').on(\'change\', function () {\r\n                    var $obj" +
" = $(this);\r\n                    var value = $obj.val();\r\n                    if" +
" (value == \"select\") {\r\n                        $(\'.dataSources\').show();\r\n     " +
"                   var datasourceType = $(\'#ControlDataSource\').val();\r\n        " +
"                if (datasourceType == \"dataItem\") {\r\n                           " +
" $(\'.dataDataDb\').hide();\r\n                        }\r\n                        el" +
"se {\r\n                            $(\'.dataDataItem\').hide();\r\n                  " +
"      }\r\n                    }\r\n                    else {\r\n                    " +
"    $(\'.dataSources\').hide();\r\n                    }\r\n                });\r\n     " +
"           $(\'#ControlDataSource\').on(\'change\', function () {\r\n                 " +
"   var $obj = $(this);\r\n                    var value = $obj.val();\r\n           " +
"         if (value == \"dataItem\") {\r\n                        $(\'.dataDataItem\')." +
"show();\r\n                        $(\'.dataDataDb\').hide();\r\n                    }" +
"\r\n                    else {\r\n                        $(\'.dataDataItem\').hide();" +
"\r\n                        $(\'.dataDataDb\').show();\r\n                    }\r\n     " +
"           });\r\n                $(\"#ControlDataItemEncode\").comboBoxTree({\r\n    " +
"                url: \"../../SystemManage/DataItem/GetTreeJson\",\r\n               " +
"     maxHeight: \"200px\",\r\n                    click: function (item) {\r\n        " +
"                $.formJS.dataJson.controlDataItemEncodeValue = item.value;\r\n    " +
"                }\r\n                });\r\n                $.ajax({\r\n              " +
"      url: \"../../SystemManage/DataBaseLink/GetListJson\",\r\n                    t" +
"ype: \"get\",\r\n                    dataType: \"json\",\r\n                    async: f" +
"alse,\r\n                    success: function (data) {\r\n                        $" +
"(\"#ControlDataDb\").append($(\"<option title=\'请选择\'></option>\").html(\"请选择\"));\r\n    " +
"                    $.each(data, function (i) {\r\n                            $(\"" +
"#ControlDataDb\").append($(\"<option title=\'\" + data[i].F_DBName + \"\'></option>\")." +
"val(data[i].F_DatabaseLinkId).html(data[i].F_DBAlias));\r\n                       " +
"     $(\"#ControlDataDb\").change(function () {\r\n                                $" +
".ajax({\r\n                                    url: \"../../SystemManage/DataBaseTa" +
"ble/GetTableListJson\",\r\n                                    data: { dataBaseLink" +
"Id: $(\"#ControlDataDb\").val() },\r\n                                    type: \"get" +
"\",\r\n                                    dataType: \"json\",\r\n                     " +
"               async: false,\r\n                                    success: funct" +
"ion (data) {\r\n\r\n                                        $(\"#ControlDataTable\").h" +
"tml(\"\");\r\n                                        $(\"#ControlDataFliedId\").html(" +
"\"\");\r\n                                        $(\"#ControlDataFliedText\").html(\"\"" +
");\r\n                                        $(\"#ControlDataTable\").append($(\"<op" +
"tion title=\'请选择\'></option>\").html(\"请选择\"));\r\n                                    " +
"    if (data.errorcode != 0) {\r\n                                            //绑定" +
"表\r\n                                            $.each(data, function (i) {\r\n    " +
"                                            $(\"#ControlDataTable\").append($(\"<op" +
"tion></option>\").val(data[i].f_name).html(data[i].f_name));\r\n                   " +
"                         });\r\n                                            //表字段\r" +
"\n                                            $(\"#ControlDataTable\").change(funct" +
"ion () {\r\n\r\n                                                $.ajax({\r\n          " +
"                                          url: \"../../SystemManage/DataBaseTable" +
"/GetTableFiledListJson\",\r\n                                                    da" +
"ta: { dataBaseLinkId: $(\"#ControlDataDb\").val(), tableName: $(\"#ControlDataTable" +
"\").val() },\r\n                                                    type: \"get\",\r\n " +
"                                                   dataType: \"json\",\r\n          " +
"                                          async: false,\r\n                       " +
"                             success: function (data) {\r\n                       " +
"                                 $(\"#ControlDataFliedId\").html(\"\");\r\n           " +
"                                             $(\"#ControlDataFliedText\").html(\"\")" +
";\r\n                                                        $.each(data, function" +
" (i) {\r\n                                                            $(\"#ControlD" +
"ataFliedId\").append($(\"<option title=\'\" + data[i].f_remark + \"\'></option>\").val(" +
"data[i].f_column).html(data[i].f_column));\r\n                                    " +
"                        $(\"#ControlDataFliedText\").append($(\"<option title=\'\" + " +
"data[i].f_remark + \"\'></option>\").val(data[i].f_column).html(data[i].f_column));" +
"\r\n                                                        });\r\n                 " +
"                                   }\r\n                                          " +
"      });\r\n                                            });\r\n                    " +
"                    }\r\n                                    }\r\n                  " +
"              });\r\n                            });\r\n                        });\r" +
"\n                    }\r\n                });\r\n            },\r\n            acceptC" +
"lick: function (callBack) {//保存表单\r\n                var data = {\r\n               " +
"     controlId: $(\"#ControlId\").val(),\r\n                    controlName: $(\"#Con" +
"trolName\").val(),\r\n                    controlValidator: $(\"#ControlValidator\")." +
"val(),\r\n                    controlColspan: parseInt($(\"input[name=\'ControlColsp" +
"an\']:checked\").val()),\r\n                    controlDefault: $(\"#ControlDefault\")" +
".val(),\r\n                    controlType: $(\"#ControlType\").val(),\r\n            " +
"        controlDataSource: $(\"#ControlDataSource\").val(),\r\n                    c" +
"ontrolDataItemEncode: $(\"#ControlDataItemEncode\").attr(\'data-value\'),\r\n         " +
"           controlDataItemEncodeValue: $.formJS.dataJson.controlDataItemEncodeVa" +
"lue,\r\n                    controlDataDb: $(\"#ControlDataDb\").val(),\r\n           " +
"         controlDataTable: $(\"#ControlDataTable\").val(),\r\n                    co" +
"ntrolDataFliedId: $(\"#ControlDataFliedId\").val(),\r\n                    controlDa" +
"taFliedText: $(\"#ControlDataFliedText\").val()\r\n                }\r\n              " +
"  if (data.controlName == \"\") {\r\n                    dialogTop(\"请填写字段名称\", \"error" +
"\");\r\n                }\r\n                else {\r\n                    callBack(dat" +
"a);\r\n                    dialogClose();\r\n                }\r\n            }\r\n     " +
"   };\r\n\r\n        $(function () {\r\n            $.formJS.initial();\r\n        });\r\n" +
"\r\n    })(window.jQuery);\r\n</script>");

        }
    }
}
#pragma warning restore 1591
