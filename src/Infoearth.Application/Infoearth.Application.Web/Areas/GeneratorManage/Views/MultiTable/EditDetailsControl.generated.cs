#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/GeneratorManage/Views/MultiTable/EditDetailsControl.cshtml")]
    public partial class _Areas_GeneratorManage_Views_MultiTable_EditDetailsControl_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_GeneratorManage_Views_MultiTable_EditDetailsControl_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n");

            
            #line 6 "..\..\Areas\GeneratorManage\Views\MultiTable\EditDetailsControl.cshtml"
  
    ViewBag.Title = "编辑详情页控件";
    Layout = "~/Views/Shared/_Form.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<style>\r\n    .dataSources, .dataDataDb {\r\n        display: none;\r\n    }\r\n</styl" +
"e>\r\n<div");

WriteLiteral(" style=\"margin-left: 10px; margin-top: 20px; margin-right: 30px;\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" class=\"form\"");

WriteLiteral(">\r\n        <tr>\r\n            <th");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">字段标识</th>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"ControlId\"");

WriteLiteral(" disabled");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">字段类型</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlType\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(">\r\n                    <option");

WriteLiteral(" value=\"input\"");

WriteLiteral(">文本框</option>\r\n                    <option");

WriteLiteral(" value=\"select\"");

WriteLiteral(">下拉框</option>\r\n                </select>\r\n            </td>\r\n        </tr>\r\n     " +
"   <tr");

WriteLiteral(" class=\"dataSources\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">数据类型</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataSource\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(">\r\n                    <option");

WriteLiteral(" value=\"dataItem\"");

WriteLiteral(">数据字典</option>\r\n                    <option");

WriteLiteral(" value=\"dataDb\"");

WriteLiteral(">数据表</option>\r\n                </select>\r\n            </td>\r\n        </tr>\r\n\r\n   " +
"     <tr");

WriteLiteral(" class=\"dataSources dataDataItem\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">数据字典</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"ControlDataItemEncode\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral("></div>\r\n            </td>\r\n        </tr>\r\n\r\n        <tr");

WriteLiteral(" class=\"dataSources dataDataDb\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">数据库</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataDb\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral("></select>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"dataSources dataDataDb\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">数据表</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataTable\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral("></select>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"dataSources dataDataDb\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">id字段名</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataFliedId\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral("></select>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"dataSources dataDataDb\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">text字段名</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" id=\"ControlDataFliedText\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral("></select>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n<script>\r\n   " +
" (function ($) {\r\n        \"use strict\";\r\n\r\n        $.form = {\r\n            contr" +
"olId: request(\'controlId\'),\r\n            dataJson: {\r\n                controlId:" +
" \"\",\r\n                controlType: \"\",\r\n                controlDataSource: \"\",\r\n" +
"                controlDataItemEncode: \"\",\r\n                controlDataItemEncod" +
"eValue: \"\",\r\n                controlDataDb: \"\",\r\n                controlDataTabl" +
"e: \"\",\r\n                controlDataFliedId: \"\",\r\n                controlDataFlie" +
"dText: \"\"\r\n            },\r\n            initControl: function () {\r\n             " +
"   $(\'#ControlType\').on(\'change\', function () {\r\n                    var $obj = " +
"$(this);\r\n                    var value = $obj.val();\r\n                    if (v" +
"alue == \"select\") {\r\n                        $(\'.dataSources\').show();\r\n        " +
"                var datasourceType = $(\'#ControlDataSource\').val();\r\n           " +
"             if (datasourceType == \"dataItem\") {\r\n                            $(" +
"\'.dataDataDb\').hide();\r\n                        }\r\n                        else " +
"{\r\n                            $(\'.dataDataItem\').hide();\r\n                     " +
"   }\r\n                    }\r\n                    else {\r\n                       " +
" $(\'.dataSources\').hide();\r\n                    }\r\n                });\r\n        " +
"        $(\'#ControlDataSource\').on(\'change\', function () {\r\n                    " +
"var $obj = $(this);\r\n                    var value = $obj.val();\r\n              " +
"      if (value == \"dataItem\") {\r\n                        $(\'.dataDataItem\').sho" +
"w();\r\n                        $(\'.dataDataDb\').hide();\r\n                    }\r\n " +
"                   else {\r\n                        $(\'.dataDataItem\').hide();\r\n " +
"                       $(\'.dataDataDb\').show();\r\n                    }\r\n        " +
"        });\r\n                $(\"#ControlDataItemEncode\").comboBoxTree({\r\n       " +
"             url: \"../../SystemManage/DataItem/GetTreeJson\",\r\n                  " +
"  maxHeight: \"200px\",\r\n                    click: function (item) {\r\n           " +
"             $.form.dataJson.controlDataItemEncodeValue = item.value;\r\n         " +
"           }\r\n                });\r\n                $.ajax({\r\n                   " +
" url: \"../../SystemManage/DataBaseLink/GetListJson\",\r\n                    type: " +
"\"get\",\r\n                    dataType: \"json\",\r\n                    async: false," +
"\r\n                    success: function (data) {\r\n                        $(\"#Co" +
"ntrolDataDb\").append($(\"<option title=\'请选择\'></option>\").html(\"请选择\"));\r\n         " +
"               $.each(data, function (i) {\r\n                            $(\"#Cont" +
"rolDataDb\").append($(\"<option title=\'\" + data[i].F_DBName + \"\'></option>\").val(d" +
"ata[i].F_DatabaseLinkId).html(data[i].F_DBAlias));\r\n                            " +
"$(\"#ControlDataDb\").change(function () {\r\n                                $.ajax" +
"({\r\n                                    url: \"../../SystemManage/DataBaseTable/G" +
"etTableListJson\",\r\n                                    data: { dataBaseLinkId: $" +
"(\"#ControlDataDb\").val() },\r\n                                    type: \"get\",\r\n " +
"                                   dataType: \"json\",\r\n                          " +
"          async: false,\r\n                                    success: function (" +
"data) {\r\n                                        $(\"#ControlDataTable\").html(\"\")" +
";\r\n                                        $(\"#ControlDataFliedId\").html(\"\");\r\n " +
"                                       $(\"#ControlDataFliedText\").html(\"\");\r\n   " +
"                                     $(\"#ControlDataTable\").append($(\"<option ti" +
"tle=\'请选择\'></option>\").html(\"请选择\"));\r\n                                        if " +
"(data.errorcode != 0) {\r\n                                            //绑定表\r\n    " +
"                                        $.each(data, function (i) {\r\n           " +
"                                     $(\"#ControlDataTable\").append($(\"<option></" +
"option>\").val(data[i].f_name).html(data[i].f_name));\r\n                          " +
"                  });\r\n                                            //表字段\r\n      " +
"                                      $(\"#ControlDataTable\").change(function () " +
"{\r\n\r\n                                                $.ajax({\r\n                 " +
"                                   url: \"../../SystemManage/DataBaseTable/GetTab" +
"leFiledListJson\",\r\n                                                    data: { d" +
"ataBaseLinkId: $(\"#ControlDataDb\").val(), tableName: $(\"#ControlDataTable\").val(" +
") },\r\n                                                    type: \"get\",\r\n        " +
"                                            dataType: \"json\",\r\n                 " +
"                                   async: false,\r\n                              " +
"                      success: function (data) {\r\n                              " +
"                          $(\"#ControlDataFliedId\").html(\"\");\r\n                  " +
"                                      $(\"#ControlDataFliedText\").html(\"\");\r\n    " +
"                                                    $.each(data, function (i) {\r" +
"\n                                                            $(\"#ControlDataFlie" +
"dId\").append($(\"<option title=\'\" + data[i].f_remark + \"\'></option>\").val(data[i]" +
".f_column).html(data[i].f_column));\r\n                                           " +
"                 $(\"#ControlDataFliedText\").append($(\"<option title=\'\" + data[i]" +
".f_remark + \"\'></option>\").val(data[i].f_column).html(data[i].f_column));\r\n     " +
"                                                   });\r\n                        " +
"                            }\r\n                                                }" +
");\r\n                                            });\r\n                           " +
"             }\r\n                                    }\r\n                         " +
"       });\r\n                            });\r\n                        });\r\n      " +
"              }\r\n                });\r\n            },\r\n            initData: func" +
"tion () {\r\n                $.form.dataJson = $.extend($.form.dataJson, getInfoTo" +
"p().Form.$.codeBuilder.formPage.detailsFormJson);\r\n                $.each($.form" +
".dataJson, function (id, item) {\r\n                    if (item.controlId == $.fo" +
"rm.controlId) {\r\n                        $(\"#ControlId\").val(item.controlId);\r\n " +
"                       $(\'#ControlType\').val(item.controlType);\r\n               " +
"         if (item.controlType == \"select\") {\r\n                            $(\'#Co" +
"ntrolType\').trigger(\'change\');\r\n                            $(\'#ControlDataSourc" +
"e\').val(item.controlDataSource);\r\n                            $(\'#ControlDataSou" +
"rce\').trigger(\'change\');\r\n                            if (item.controlDataSource" +
" == \"dataItem\") {\r\n                                console.log(item.controlDataI" +
"temEncode);\r\n                                $(\'#ControlDataItemEncode\').ComboBo" +
"xTreeSetValue(item.controlDataItemEncode);\r\n                            }\r\n     " +
"                       else {\r\n                                $(\'#ControlDataDb" +
"\').val(item.controlDataDb);\r\n                                $(\'#ControlDataDb\')" +
".trigger(\'change\');\r\n                                $(\'#ControlDataTable\').val(" +
"item.controlDataTable);\r\n                                $(\'#ControlDataTable\')." +
"trigger(\'change\');\r\n                                $(\'#ControlDataFliedId\').val" +
"(item.controlDataFliedId);\r\n                                $(\'#ControlDataFlied" +
"Text\').val(item.controlDataFliedText);\r\n                            }\r\n         " +
"               }\r\n                        return false;\r\n                    }\r\n" +
"                });\r\n            },\r\n            acceptClick: function (callBack" +
") {\r\n                var _data = {\r\n                    controlId: $(\"#ControlId" +
"\").val(),\r\n                    controlType: $(\"#ControlType\").val(),\r\n          " +
"          controlDataSource: $(\"#ControlDataSource\").val(),\r\n                   " +
" controlDataItemEncode: $(\"#ControlDataItemEncode\").attr(\'data-value\'),\r\n       " +
"             controlDataItemEncodeValue: $.form.dataJson.controlDataItemEncodeVa" +
"lue,\r\n                    controlDataDb: $(\"#ControlDataDb\").val(),\r\n           " +
"         controlDataTable: $(\"#ControlDataTable\").val(),\r\n                    co" +
"ntrolDataFliedId: $(\"#ControlDataFliedId\").val(),\r\n                    controlDa" +
"taFliedText: $(\"#ControlDataFliedText\").val()\r\n                }\r\n              " +
"  callBack(_data);\r\n                dialogClose();\r\n            }\r\n        };\r\n " +
"       $(function () {\r\n            $.form.initControl();\r\n            $.form.in" +
"itData();\r\n        });\r\n    })(window.jQuery);\r\n</script>\r\n\r\n");

        }
    }
}
#pragma warning restore 1591
