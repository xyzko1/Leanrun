#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/FlowManage/Views/FlowDesign/FlowLineForm.cshtml")]
    public partial class _Areas_FlowManage_Views_FlowDesign_FlowLineForm_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_FlowManage_Views_FlowDesign_FlowLineForm_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n");

            
            #line 6 "..\..\Areas\FlowManage\Views\FlowDesign\FlowLineForm.cshtml"
  
    ViewBag.Title = "流转条件设置";
    Layout = "~/Views/Shared/_Index.cshtml";

            
            #line default
            #line hidden
WriteLiteral(@"
<style>
.ui-widget-content{border-left:none;border-bottom:none}
.ui-jqgrid tr.ui-row-ltr td{padding:0}
.ui-widget-content .ui-state-hover{background:#fff}
.ui-widget-content .ui-state-highlight{background:#fff;color:#000}
.unwritten{display:none}
.ui-jqgrid tr.ui-row-ltr td{border-right:1px solid #ccc}
option{font-family:微软雅黑,宋体,Arial,Helvetica,Verdana,sans-serif;font-size:9pt}
.ui-jqgrid .ui-jqgrid-view input,.ui-jqgrid .ui-jqgrid-view select{height:26px}
</style>
<form>
    <div");

WriteLiteral(" style=\"margin: 10px;\"");

WriteLiteral(">\r\n        <input");

WriteLiteral(" id=\"LineName\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入箭头标签\"");

WriteLiteral(" style=\"width: 260px;display:inline-block;\"");

WriteLiteral(" />\r\n        <div");

WriteLiteral(" style=\"float:right;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                <a");

WriteLiteral(" id=\"btn_add\"");

WriteLiteral(" class=\"btn btn-default btn-sm\"");

WriteLiteral(" onclick=\"$.formJs.btn.add()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-plus\"");

WriteLiteral("></i>&nbsp;添加栏位</a>\r\n                <a");

WriteLiteral(" id=\"btn_delete\"");

WriteLiteral(" class=\"btn btn-default  btn-sm\"");

WriteLiteral(" onclick=\"$.formJs.btn.deleteBtn()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-minus\"");

WriteLiteral("></i>&nbsp;删除栏位</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div>\r\n " +
"       <div");

WriteLiteral("  style=\" overflow: auto; height: 301px;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" id=\"seniorcondition\"");

WriteLiteral(" class=\"tabPanel\"");

WriteLiteral(">\r\n                <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n<script>\r\n   " +
" (function ($) {\r\n        $.formJs = {\r\n            line: {},\r\n            rownu" +
"m: 1,\r\n            formHaven: [],\r\n            formContentData:{},\r\n            " +
"loadData: function () {\r\n                var _flowObject = top.FlowSchemeDesigne" +
"r.$.indexJs.step.workFlowInfo.object;\r\n                var _lineId = top.FlowSch" +
"emeDesigner.$.indexJs.step.workFlowInfo.lineId;\r\n                $.formJs.line =" +
" _flowObject.$lineData[_lineId];\r\n                $.formJs.line.id = _lineId;\r\n " +
"               $.formJs.formHaven = top.FlowSchemeDesigner.$.indexJs.focusForm;\r" +
"\n                $.formJs.formContentData = top.FlowSchemeDesigner.$.indexJs.for" +
"mContentData;\r\n            },\r\n            initialGrid: function () {\r\n         " +
"       //显示表里面字段\r\n                var FieldValue = \":\";\r\n                for (va" +
"r j in $.formJs.formHaven)\r\n                {\r\n                    var frmId = $" +
".formJs.formHaven[j];\r\n                    if ($.formJs.formContentData[frmId] !" +
"= undefined) {\r\n                        var __data = [];\r\n                      " +
"  if ($.formJs.formContentData[frmId].data.type == 2) {\r\n                       " +
"     __data = $.formJs.formContentData[frmId].data.data.fields;\r\n               " +
"         }\r\n                        else {\r\n                            $.each($" +
".formJs.formContentData[frmId].data.data, function (i, item) {\r\n                " +
"                $.each(item.fields, function (j, jitem) {\r\n                     " +
"               __data.push(jitem);\r\n                                });\r\n       " +
"                     });\r\n                        }\r\n                        $.e" +
"ach(__data, function (i, item) {\r\n                            if (item.type != \'" +
"image\' && item.type != \'upload\' && item.type != \'file\') {\r\n                     " +
"           FieldValue += \";\" + frmId +\'|\'+ item.field + \":\" + $.formJs.formConte" +
"ntData[frmId].name + \"-\" + item.label;\r\n                            }\r\n         " +
"               });\r\n                    }\r\n                    else {\r\n         " +
"               learun.getDataForm({\r\n                            type: \'get\',\r\n " +
"                           url: \"../../FormManage/FormModule/GetEntityJson\",\r\n  " +
"                          param: { keyValue: frmId },\r\n                         " +
"   success: function (dd) {\r\n                                if (dd != null) {\r\n" +
"                                    var _dataJson = JSON.parse(dd.F_FrmContent);" +
"\r\n                                    top.FlowSchemeDesigner.$.indexJs.formConte" +
"ntData[frmId] = { name: dd.F_FrmName, data: _dataJson };\r\n\r\n                    " +
"                var __data = [];\r\n                                    if ($.form" +
"Js.formContentData[frmId].data.type == 2) {\r\n                                   " +
"     __data = $.formJs.formContentData[frmId].data.data.fields;\r\n               " +
"                     }\r\n                                    else {\r\n            " +
"                            $.each($.formJs.formContentData[frmId].data.data, fu" +
"nction (i, item) {\r\n                                            $.each(item.fiel" +
"ds, function (j, jitem) {\r\n                                                __dat" +
"a.push(jitem);\r\n                                            });\r\n               " +
"                         });\r\n                                    }\r\n\r\n\r\n       " +
"                             $.each(__data, function (i, item) {\r\n              " +
"                          if (item.type != \'image\' && item.type != \'upload\' && i" +
"tem.type != \'file\') {\r\n                                            FieldValue +=" +
" \";\" + frmId + \'|\' + item.field + \":\" + $.formJs.formContentData[frmId].name + \"" +
"-\" + item.label;\r\n                                        }\r\n                   " +
"                 });\r\n                                }\r\n                       " +
"     }\r\n                        });\r\n                    }\r\n\r\n\r\n                " +
"  \r\n                }\r\n                var lastsel = 0;\r\n                $(\"#gri" +
"dTable\").jqGrid({\r\n                    datatype: \"local\",\r\n                    h" +
"eight: 271,\r\n                    autowidth: true,\r\n                    colModel:" +
" [\r\n                        { label: \'字段ID\', name: \'FieldId\', index: \'FieldId\', " +
"hidden: true },\r\n                        {\r\n                            label: \"" +
"字段名称\", name: \"FieldName\", index: \"FieldName\", width: 240, sortable: false, edita" +
"ble: true, edittype: \'select\', editoptions: {\r\n                                v" +
"alue: FieldValue\r\n                            }\r\n                        },\r\n   " +
"                     { label: \'比较Id\', name: \'FilterId\', index: \'FilterId\', hidde" +
"n: true },\r\n                        {\r\n                            label: \"比较\", " +
"name: \"FilterName\", index: \"FilterName\", align: \'center\', width: 80, sortable: f" +
"alse, editable: true, edittype: \'select\', editoptions: {\r\n                      " +
"          value: \":;Equal:等于;NotEqual:不等于;Greater:大于;GreaterThan:大于等于;Less:小于;Le" +
"ssThan:小于等于;Null:为空;NotNull:不为空;Like:包含;NotLike:不包含\"//;LeftLike:左包含;RightLike:右包" +
"含\"\r\n                            }\r\n                        },\r\n                 " +
"       { label: \"比较值\", name: \"FilterValue\", index: \"FilterValue\", width: 300, so" +
"rtable: false, editable: true },\r\n                        {\r\n                   " +
"         label: \"逻辑\", name: \"Logic\", index: \"Logic\", width: 60, sortable: false," +
" editable: true, edittype: \'select\', editoptions: {\r\n                           " +
"     value: \":;AND:AND;OR:OR\"\r\n                            }\r\n                  " +
"      }\r\n                    ],\r\n                    pager: \"false\",\r\n          " +
"          rowNum: 300,\r\n                    rownumbers: true,\r\n                 " +
"   shrinkToFit: false,\r\n                    altRows: false,\r\n                   " +
" onSelectRow: function (id) {\r\n                        var RowData = {\r\n        " +
"                    FieldId: $(\"[name=\'FieldName\']\").val(),\r\n                   " +
"         FieldName: $(\"[name=\'FieldName\']\").find(\'option:selected\').text(),\r\n   " +
"                         FilterId: $(\"[name=\'FilterName\']\").val(),\r\n            " +
"                FilterName: $(\"[name=\'FilterName\']\").find(\'option:selected\').tex" +
"t(),\r\n                            FilterValue: $(\"[name=\'FilterValue\']\").val(),\r" +
"\n                            Logic: $(\"[name=\'Logic\']\").val(),\r\n                " +
"        }\r\n                        $(\'#gridTable\').jqGrid(\'restoreRow\', lastsel)" +
";\r\n                        $(\'#gridTable\').jqGrid(\'editRow\', id, true);\r\n       " +
"                 $(\'#gridTable\').jqGrid(\'setRowData\', lastsel, RowData, \'\');\r\n  " +
"                      lastsel = id;\r\n                    }\r\n                });\r" +
"\n                $(\'#gridTable\').jqGrid(\'restoreRow\', 1);\r\n                $(\'#g" +
"ridTable\').jqGrid(\'addRowData\', 1, {}, \"last\");\r\n                //表格自适应（高度、宽度）\r" +
"\n                $(window).resize(function () {\r\n                    $(\"#gridTab" +
"le\").jqGrid(\'setGridWidth\', $(window).width() - 4);\r\n                });\r\n      " +
"      },\r\n            initialData: function () {\r\n                $(\"#LineName\")" +
".val($.formJs.line.name);\r\n                if ($.formJs.line.setInfo) {\r\n       " +
"             $(\"#gridTable\")[0].addJSONData($.formJs.line.setInfo.conditionJson)" +
";\r\n                }\r\n            },\r\n            btn: {\r\n                add: f" +
"unction () {\r\n                    $(\'#gridTable\').jqGrid(\'restoreRow\', $.formJs." +
"rownum + 1);\r\n                    $(\'#gridTable\').jqGrid(\'addRowData\', $.formJs." +
"rownum + 1, {}, \"last\");\r\n                    $.formJs.rownum++;\r\n              " +
"  },\r\n                deleteBtn: function () {\r\n                    $(\'#gridTabl" +
"e\').jqGrid(\'restoreRow\', $.formJs.rownum);\r\n                    $(\'#gridTable\')." +
"jqGrid(\'delRowData\', $.formJs.rownum);\r\n                    $.formJs.rownum--;\r\n" +
"                }\r\n            },\r\n            acceptClick: function (callBack) " +
"{\r\n                var index = $(\"#gridTable\").jqGrid(\'getGridParam\', \'selrow\');" +
"\r\n                var RowData = {\r\n                    FieldId: $(\"[name=\'FieldN" +
"ame\']\").val(),\r\n                    FieldName: $(\"[name=\'FieldName\']\").find(\'opt" +
"ion:selected\').text(),\r\n                    FilterId: $(\"[name=\'FilterName\']\").v" +
"al(),\r\n                    FilterName: $(\"[name=\'FilterName\']\").find(\'option:sel" +
"ected\').text(),\r\n                    FilterValue: $(\"[name=\'FilterValue\']\").val(" +
"),\r\n                    Logic: $(\"[name=\'Logic\']\").val(),\r\n                }\r\n  " +
"              $(\'#gridTable\').jqGrid(\'setRowData\', index, RowData, \'\');\r\n       " +
"         var ConditionJson = $(\"#gridTable\").jqGrid(\"getRowData\");\r\n            " +
"    var postData = {\r\n                    lineMyName: $(\"#LineName\").val(),\r\n   " +
"                 conditionJson: ConditionJson\r\n                }\r\n\r\n            " +
"    callBack($.formJs.line.id, postData);\r\n                dialogClose();\r\n     " +
"       }\r\n        }\r\n\r\n        $(function () {\r\n            $.formJs.loadData();" +
"\r\n            $.formJs.initialGrid();\r\n            $.formJs.initialData();\r\n    " +
"    });\r\n    })(window.jQuery);\r\n\r\n\r\n    var frmtype, lineobject, fromnode, frmC" +
"otent, nodePramData;\r\n\r\n    function initLoadPageData() {\r\n        var _FlowDesi" +
"gnObject = top.FlowSchemeBuider.FlowDesignObject;\r\n        lineobject = _FlowDes" +
"ignObject.$lineData[top.FlowSchemeBuider.LineId];\r\n        lineobject.id = top.F" +
"lowSchemeBuider.LineId;\r\n        fromnode = _FlowDesignObject.$nodeData[lineobje" +
"ct.from];\r\n\r\n        frmtype = top.FlowSchemeBuider.postData[\"F_FrmType\"];\r\n    " +
"    if (frmtype == 0) {\r\n            frmCotent = JSON.parse(top.FlowSchemeBuider" +
".frmData[\"F_FrmContent\"]);\r\n        }\r\n        else {\r\n            nodePramData " +
"= top.FlowSchemeBuider.sysFrmData;\r\n        }\r\n        $(\"#LineName\").val(lineob" +
"ject.name);\r\n    }\r\n</script>\r\n\r\n\r\n\r\n");

        }
    }
}
#pragma warning restore 1591
