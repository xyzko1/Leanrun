#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Infoearth.Application.Web;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/FormManage/Views/FormModule/ManageIndex.cshtml")]
    public partial class _Areas_FormManage_Views_FormModule_ManageIndex_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_FormManage_Views_FormModule_ManageIndex_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\FormManage\Views\FormModule\ManageIndex.cshtml"
  
    ViewBag.Title = "表单管理中心";
    Layout = "~/Views/Shared/_LayoutIndex.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<div");

WriteLiteral(" class=\"ui-layout\"");

WriteLiteral(" id=\"layout\"");

WriteLiteral(" style=\"height: 100%; width: 100%;\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"ui-layout-west\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"west-Panel\"");

WriteLiteral(" style=\"border-right: none;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(" >\r\n                关联模块\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"profile-nav\"");

WriteLiteral(" style=\"overflow: auto;\"");

WriteLiteral(">\r\n                <ul");

WriteLiteral(" id=\"muduleType\"");

WriteLiteral(" style=\"padding-top: 10px;\"");

WriteLiteral(">\r\n                    <li");

WriteLiteral(" data-value=\"10\"");

WriteLiteral(" class=\"active\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa fa-sitemap\"");

WriteLiteral(" style=\"vertical-align: middle; margin-top: -2px; margin-right: 8px; font-size: 1" +
"4px; color: #666666; opacity: 0.9;\"");

WriteLiteral("></i>全部关联</li>\r\n                    <li");

WriteLiteral(" data-value=\"0\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-file-text-o\"");

WriteLiteral(" style=\"vertical-align: middle; margin-top: -2px; margin-right: 8px; font-size: 1" +
"4px; color: #666666; opacity: 0.9;\"");

WriteLiteral("></i>自定义表单</li>\r\n                    <li");

WriteLiteral(" data-value=\"1\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-copy\"");

WriteLiteral(" style=\"vertical-align: middle; margin-top: -2px; margin-right: 8px; margin-top: " +
"-2px; font-size: 14px; color: #666666; opacity: 0.9;\"");

WriteLiteral("></i>扩展属性</li>\r\n                    ");

WriteLiteral("\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div" +
"");

WriteLiteral(" class=\"ui-layout-center\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"center-Panel\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"panel-Title\"");

WriteLiteral(">表单管理</div>\r\n            <div");

WriteLiteral(" class=\"titlePanel\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"title-search\"");

WriteLiteral(">\r\n                    <table>\r\n                        <tr>\r\n                   " +
"         <td>\r\n                                <input");

WriteLiteral(" id=\"txt_Keyword\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入要查询关键字\"");

WriteLiteral(" style=\"width: 200px;\"");

WriteLiteral(" />\r\n                            </td>\r\n                            <td");

WriteLiteral(" style=\"padding-left: 5px;\"");

WriteLiteral(">\r\n                                <a");

WriteLiteral(" id=\"btn_Search\"");

WriteLiteral(" class=\"btn btn-primary\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-search\"");

WriteLiteral("></i>&nbsp;查询</a>\r\n                            </td>\r\n                        </t" +
"r>\r\n                    </table>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"toolbar\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n                        <a");

WriteLiteral(" id=\"lr-replace\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral(" onclick=\"learun.reload();\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-refresh\"");

WriteLiteral("></i>&nbsp;刷新</a>\r\n                        <a");

WriteLiteral(" id=\"lr-add\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-plus\"");

WriteLiteral("></i>&nbsp;新增</a>\r\n                        <a");

WriteLiteral(" id=\"lr-update\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-angle-double-up\"");

WriteLiteral("></i>&nbsp;更新表单</a>\r\n                        <a");

WriteLiteral(" id=\"lr-delete\"");

WriteLiteral(" class=\"btn btn-default\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-trash-o\"");

WriteLiteral("></i>&nbsp;删除</a>\r\n                    </div>\r\n                </div>\r\n          " +
"      <div");

WriteLiteral(" style=\"clear:both;\"");

WriteLiteral("></div>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"gridPanel\"");

WriteLiteral(">\r\n                <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n                <div");

WriteLiteral(" id=\"gridPager\"");

WriteLiteral("></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<script>\r\n    (f" +
"unction ($) {\r\n        var indexJs = {\r\n            initialPage: function () {\r\n" +
"                //layout布局\r\n                $(\'#layout\').layout({\r\n             " +
"       applyDemoStyles: true,\r\n                    west__resizable: false,\r\n    " +
"                west__size: 190,\r\n                    spacing_open: 0,\r\n        " +
"            onresize: function () {\r\n                        $(window).resize();" +
"\r\n                    }\r\n                });\r\n\r\n                $(\'.profile-nav\'" +
").height($(window).height() - 51);\r\n                $(\'.profile-content\').height" +
"($(window).height() - 11);\r\n                //resize重设(表格、树形)宽高\r\n               " +
" $(window).resize(function (e) {\r\n                    window.setTimeout(function" +
" () {\r\n                        $(\'#gridTable\').setGridWidth(($(\'.gridPanel\').wid" +
"th()));\r\n                        $(\"#gridTable\").setGridHeight($(window).height(" +
") - 169.5);\r\n                        $(\'.profile-nav\').height($(window).height()" +
" - 51);\r\n                        $(\'.profile-content\').height($(window).height()" +
" - 11);\r\n                    }, 200);\r\n                    e.stopPropagation();\r" +
"\n                });\r\n            },\r\n            initialGrid: function () {\r\n  " +
"              var selectedRowIndex = 0;\r\n                $(\"#gridTable\").jqGrid(" +
"{\r\n                    url: \"../../FormManage/FormModule/GetRelationPageListJson" +
"\",\r\n                    datatype: \"json\",\r\n                    height: $(window)" +
".height() - 169.5,\r\n                    autowidth: true,\r\n                    co" +
"lModel: [\r\n                        { label: \'主键\', name: \'F_Id\', hidden: true },\r" +
"\n                        { label: \'最新表单版本\', name: \'NewVersion\', hidden: true },\r" +
"\n                        { label: \'表单类型\', name: \'F_FrmKind\', hidden: true },\r\n  " +
"                      { label: \'表单名称\', name: \'F_FrmName\', index: \'F_FrmName\', wi" +
"dth: 120, align: \'left\' },\r\n                        { label: \'模块名称\', name: \'F_Ob" +
"jectName\', index: \'F_ObjectName\', width: 160, align: \'left\' },\r\n                " +
"        {\r\n                            label: \"表单类型\", name: \"F_FrmKindLabel\", in" +
"dex: \"F_FrmKindLabel\", width: 120, align: \"center\",\r\n                           " +
" formatter: function (cellvalue, options, rowObject) {\r\n                        " +
"        if (rowObject.F_FrmKind == 0) {\r\n                                    ret" +
"urn \'<span  class=\\\"label label-primary\\\">自定义表单</span>\';\r\n                      " +
"          } else if (rowObject.F_FrmKind == 1) {\r\n                              " +
"      return \'<span  class=\\\"label label-warning\\\">扩展属性</span>\';\r\n              " +
"                  } else {\r\n                                    return \'<span  c" +
"lass=\\\"label label-danger\\\">工作流程</span>\';\r\n                                }\r\n  " +
"                          }\r\n                        },\r\n                       " +
" { label: \"表单版本\", name: \"F_FrmVersion\", index: \"F_FrmVersion\", width: 160, align" +
": \"left\" },\r\n                        {\r\n                            label: \"状态\"," +
" name: \"F_State\", index: \"F_State\", width: 80, align: \"center\",\r\n               " +
"             formatter: function (cellvalue, options, rowObject) {\r\n            " +
"                    if (rowObject.F_FrmVersion == rowObject.NewVersion) {\r\n     " +
"                               return \'<span  class=\\\"label label-success\\\">最新版本" +
"</span>\';\r\n                                } else {\r\n                           " +
"         return \'<span  class=\\\"label label-warning\\\">需要更新</span>\';\r\n           " +
"                     }\r\n                            }\r\n                        }" +
",\r\n                        { label: \"创建用户\", name: \"F_CreateUserName\", index: \"F_" +
"CreateUserName\", width: 120, align: \"left\" },\r\n                        {\r\n      " +
"                      label: \"创建时间\", name: \"F_CreateDate\", index: \"F_CreateDate\"" +
", width: 150, align: \"left\",\r\n                            formatter: function (c" +
"ellvalue, options, rowObject) {\r\n                                return formatDa" +
"te(cellvalue, \'yyyy-MM-dd hh:mm:ss\');\r\n                            }\r\n          " +
"              }\r\n                    ],\r\n                    viewrecords: true,\r" +
"\n                    rowNum: 30,\r\n                    rowList: [30, 50, 100],\r\n " +
"                   pager: \"#gridPager\",\r\n                    sortname: \'F_Create" +
"Date desc\',\r\n                    rownumbers: true,\r\n                    shrinkTo" +
"Fit: false,\r\n                    gridview: true,\r\n                    onSelectRo" +
"w: function () {\r\n                        selectedRowIndex = $(\"#\" + this.id).ge" +
"tGridParam(\'selrow\');\r\n                    },\r\n                    gridComplete:" +
" function () {\r\n                        $(\"#\" + this.id).setSelection(selectedRo" +
"wIndex, false);\r\n                    }\r\n                });\r\n            },\r\n   " +
"         bindEvent: function () {\r\n                $(\"#btn_Search\").unbind();\r\n " +
"               $(\"#lr-add\").unbind();\r\n                $(\"#lr-edit\").unbind();\r\n" +
"                $(\"#lr-delete\").unbind();\r\n                //查询事件\r\n             " +
"   $(\"#btn_Search\").click(function () {\r\n                    var queryJson = { K" +
"eyword: $(\"#txt_Keyword\").val() };\r\n                    var kind = $(\"#muduleTyp" +
"e li.active\").attr(\'data-value\');\r\n                    if (kind != 10) {\r\n      " +
"                  queryJson.F_FrmKind = kind;\r\n                    }\r\n          " +
"          indexJs.event.search(queryJson);\r\n                });\r\n               " +
" //选择模块类型\r\n                $(\"#muduleType li\").click(function () {\r\n            " +
"        var kind = $(this).attr(\'data-value\');\r\n                    var queryJso" +
"n = {};\r\n                    if (kind != 10) {\r\n                        queryJso" +
"n.F_FrmKind = kind;\r\n                    }\r\n                    indexJs.event.se" +
"arch(queryJson);\r\n                });\r\n                //新增\r\n                $(\"" +
"#lr-add\").click(indexJs.event.btnAdd);\r\n                //编辑\r\n                $(" +
"\"#lr-update\").click(indexJs.event.btnUpdate);\r\n                //编辑\r\n           " +
"     $(\"#lr-delete\").click(indexJs.event.btnDelete);\r\n            },\r\n          " +
"  event: {\r\n                search: function (queryJson) {\r\n                    " +
"$(\"#gridTable\").jqGrid(\'setGridParam\', {\r\n                        postData: { qu" +
"eryJson: JSON.stringify(queryJson) },\r\n                    }).trigger(\'reloadGri" +
"d\');\r\n                },\r\n                btnAdd: function () {\r\n               " +
"     dialogOpen({\r\n                        id: \"Form\",\r\n                        " +
"title: \'新增表单关联\',\r\n                        url: \'/FormManage/FormModule/FormRelea" +
"seer\',\r\n                        width: \"800px\",\r\n                        height:" +
" \"500px\",\r\n                        btn: null,\r\n                        callBack:" +
" function (iframeId) {\r\n                            getInfoTop().frames[iframeId" +
"].AcceptClick();\r\n                        }\r\n                    });\r\n          " +
"      },\r\n                btnUpdate: function () {\r\n                    var keyV" +
"alue = $(\"#gridTable\").jqGridRowValue(\"F_Id\");\r\n                    var newVersi" +
"on = $(\"#gridTable\").jqGridRowValue(\"NewVersion\");\r\n                    var curr" +
"entVersion = $(\"#gridTable\").jqGridRowValue(\"F_FrmVersion\");\r\n                  " +
"  if (keyValue) {\r\n                        if (newVersion == currentVersion) {\r\n" +
"                            dialogMsg(\'已经是最新的版本！\', 0);\r\n                        " +
"    return;\r\n                        }\r\n                        $.ConfirmAjax({\r" +
"\n                            msg: \"请确认是否要【升级】表单？\",\r\n                            " +
"url: \"../../FormManage/FormModule/UpdateForm\",\r\n                            para" +
"m: { keyValue: keyValue },\r\n                            success: function (data)" +
" {\r\n                                $(\"#gridTable\").trigger(\"reloadGrid\");\r\n    " +
"                        }\r\n                        })\r\n                    } els" +
"e {\r\n                        dialogMsg(\'请选择要更新项！\', 0);\r\n                    }\r\n " +
"               },\r\n                btnDelete: function () {\r\n                   " +
" var keyValue = $(\"#gridTable\").jqGridRowValue(\"F_Id\");\r\n                    var" +
" frmKind = $(\"#gridTable\").jqGridRowValue(\"F_FrmKind\");\r\n                    if " +
"(frmKind == 2) {\r\n                        dialogMsg(\'流程关联表单不允许删除！\', 0);\r\n       " +
"             }\r\n                    if (keyValue) {\r\n                        $.R" +
"emoveForm({\r\n                            url: \"/FormManage/FormModule/RelationRe" +
"move\",\r\n                            param: { keyValue: keyValue },\r\n            " +
"                success: function (data) {\r\n                                $(\"#" +
"gridTable\").trigger(\"reloadGrid\");\r\n                            }\r\n             " +
"           })\r\n                    } else {\r\n                        dialogMsg(\'" +
"请选择需要删除的表单模板！\', 0);\r\n                    }\r\n                }\r\n            }\r\n  " +
"      };\r\n\r\n\r\n        $(function () {\r\n            indexJs.initialPage();\r\n     " +
"       indexJs.initialGrid();\r\n            indexJs.bindEvent();\r\n        });\r\n\r\n" +
"    })(window.jQuery);\r\n</script>");

        }
    }
}
#pragma warning restore 1591
