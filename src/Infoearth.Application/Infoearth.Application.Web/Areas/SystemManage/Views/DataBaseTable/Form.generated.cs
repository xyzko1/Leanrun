#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/SystemManage/Views/DataBaseTable/Form.cshtml")]
    public partial class _Areas_SystemManage_Views_DataBaseTable_Form_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_SystemManage_Views_DataBaseTable_Form_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\SystemManage\Views\DataBaseTable\Form.cshtml"
  
    ViewBag.Title = "数据表表单";
    Layout = "~/Views/Shared/_Form.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n<!--jqgrid表格组件start-->\r\n<link");

WriteAttribute("href", Tuple.Create(" href=\"", 111), Tuple.Create("\"", 161)
, Tuple.Create(Tuple.Create("", 118), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/jqgrid/jqgrid.css")
, 118), false)
);

WriteLiteral(" rel=\"stylesheet\"");

WriteLiteral(" />\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 191), Tuple.Create("\"", 247)
, Tuple.Create(Tuple.Create("", 197), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/jqgrid/grid.locale-cn.js")
, 197), false)
);

WriteLiteral("></script>\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 267), Tuple.Create("\"", 319)
, Tuple.Create(Tuple.Create("", 273), Tuple.Create<System.Object, System.Int32>(Href("~/Content/scripts/plugins/jqgrid/jqgrid.min.js")
, 273), false)
);

WriteLiteral("></script>\r\n<!--表格组件end-->\r\n<script>\r\n    var dataBaseLinkId = request(\'dataBaseL" +
"inkId\');\r\n    var tableName = request(\'tableName\');\r\n    var tableDescription = " +
"request(\'tableDescription\');\r\n    $(function () {\r\n        if (tableName != \"\") " +
"{\r\n            $(\"#tableName\").val(tableName);\r\n            $(\"#tableDescription" +
"\").val(tableDescription);\r\n        }\r\n        GetGrid();\r\n    })\r\n    function G" +
"etGrid() {\r\n        var $gridTable = $(\"#gridTable\");\r\n        var _url = \"../.." +
"/SystemManage/DataBaseTable/GetTableFiledListJson\";\r\n        if (tableName == \"\"" +
") {\r\n            _url = \"\";\r\n        }\r\n        $gridTable.jqGrid({\r\n           " +
" url: _url,\r\n            postData: { dataBaseLinkId: dataBaseLinkId, tableName: " +
"tableName },\r\n            datatype: \"json\",\r\n            height: 306,\r\n         " +
"   autowidth: true,\r\n            unwritten:false,\r\n            colModel: [\r\n    " +
"            { label: \'f_datatype\', name: \'f_datatype\', hidden: true },\r\n        " +
"        { label: \'f_length\', name: \'f_length\', hidden: true },\r\n                " +
"{ label: \'f_isnullable\', name: \'f_isnullable\', hidden: true },\r\n                " +
"{ label: \'f_identity\', name: \'f_identity\', hidden: true },\r\n                { la" +
"bel: \'f_key\', name: \'f_key\', hidden: true },\r\n                { label: \"字段名称\", n" +
"ame: \"f_column\", width: 150, align: \"left\", sortable: false },\r\n                " +
"{\r\n                    label: \"数据类型\", name: \"_column\", width: 100, align: \"left\"" +
", sortable: false,\r\n                    formatter: function (cellvalue, options," +
" rowObject) {\r\n                        var length = \"\";\r\n                       " +
" if (rowObject.f_datatype == \'varchar\') {\r\n                            length = " +
"\"(\" + rowObject.f_length + \")\";\r\n                        }\r\n                    " +
"    return rowObject.f_datatype + length;\r\n                    }\r\n              " +
"  },\r\n                {\r\n                    label: \"允许空\", name: \"_isnullable\", " +
"width: 50, align: \"center\", sortable: false,\r\n                    formatter: fun" +
"ction (cellvalue, options, rowObject) {\r\n                        return rowObjec" +
"t.f_isnullable == 1 ? \"√\" : \"\";\r\n                    }\r\n                },\r\n    " +
"            {\r\n                    label: \"标识\", name: \"_identity\", width: 50, al" +
"ign: \"center\", sortable: false,\r\n                    formatter: function (cellva" +
"lue, options, rowObject) {\r\n                        return rowObject.f_identity " +
"== 1 ? \"√\" : \"\";\r\n                    }\r\n                },\r\n                {\r\n" +
"                    label: \"主键\", name: \"_key\", width: 50, align: \"center\", sorta" +
"ble: false,\r\n                    formatter: function (cellvalue, options, rowObj" +
"ect) {\r\n                        return rowObject.f_key == 1 ? \"√\" : \"\";\r\n       " +
"             }\r\n                },\r\n                { label: \"默认值\", name: \"f_def" +
"aults\", width: 100, align: \"left\", sortable: false },\r\n                { label: " +
"\"说明\", name: \"f_remark\", width: 100, align: \"left\", sortable: false }\r\n          " +
"  ],\r\n            caption: \"表字段信息\",\r\n            rowNum: \"1000\",\r\n            ro" +
"wnumbers: true,\r\n            shrinkToFit: false,\r\n            gridview: true,\r\n " +
"           hidegrid: false\r\n        });\r\n    }\r\n    //添加\r\n    function btn_add_f" +
"ield() {\r\n        dialogOpen({\r\n            id: \"FieldForm\",\r\n            title:" +
" \'添加字段\',\r\n            url: \'/SystemManage/DataBaseTable/FieldForm\',\r\n           " +
" width: \"450px\",\r\n            height: \"350px\",\r\n            callBack: function (" +
"iframeId) {\r\n                getInfoTop().frames[iframeId].AcceptClick();\r\n     " +
"       }\r\n        });\r\n    };\r\n    //修改\r\n    function btn_edit_field() {\r\n      " +
"  var keyValue = $(\"#gridTable\").getGridParam(\'selrow\');\r\n        if (checkedRow" +
"(keyValue)) {\r\n            dialogOpen({\r\n                id: \"FieldForm\",\r\n     " +
"           title: \'修改字段\',\r\n                url: \'/SystemManage/DataBaseTable/Fie" +
"ldForm?keyValue=\' + keyValue,\r\n                width: \"450px\",\r\n                " +
"height: \"350px\",\r\n                callBack: function (iframeId) {\r\n             " +
"       getInfoTop().frames[iframeId].AcceptClick();\r\n                }\r\n        " +
"    });\r\n        }\r\n    }\r\n    //移除\r\n    function btn_delete_field() {\r\n        " +
"var keyValue = $(\"#gridTable\").getGridParam(\'selrow\');\r\n        if (keyValue) {\r" +
"\n            dialogConfirm(\'注：您确定要移除吗？该操作将无法恢复？\', function (r) {\r\n              " +
"  if (r) {\r\n                    $(\"#gridTable\").delRowData(keyValue);\r\n         " +
"           dialogMsg(\"移除成功。\", 1);\r\n                }\r\n            });\r\n\r\n       " +
" } else {\r\n            dialogMsg(\'请选择需要移除的字段！\', 0);\r\n        }\r\n    }\r\n    //保存表" +
"单\r\n    function AcceptClick() {\r\n        if (!$(\'#form1\').Validform()) {\r\n      " +
"      return false;\r\n        }\r\n        var postData = {\r\n            dataBaseLi" +
"nkId: dataBaseLinkId,\r\n            tableName: $(\"#tableName\").val(),\r\n          " +
"  tableDescription: $(\"#tableDescription\").val(),\r\n            fieldDataJson: \"\"" +
"\r\n        }\r\n        $.SaveForm({\r\n            url: \"../../SystemManage/DataBase" +
"Table/SaveForm\",\r\n            param: postData,\r\n            loading: \"正在保存数据...\"" +
",\r\n            success: function () {\r\n                try {\r\n                  " +
"  getInfoTop().learun.currentIframe().$(\"#gridTable\").trigger(\"reloadGrid\");\r\n  " +
"              } catch (e) {\r\n                    window.parent.$(\"#gridTable\").t" +
"rigger(\"reloadGrid\");\r\n                }\r\n            }\r\n        })\r\n    }\r\n</sc" +
"ript>\r\n<div");

WriteLiteral(" class=\"border-left border-right border-top\"");

WriteLiteral(" style=\"margin: 5px; margin-bottom: 0px; padding-bottom: 2px;\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" class=\"form\"");

WriteLiteral(">\r\n        <tr>\r\n            <th");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(" style=\"text-align: left; padding-left: 7px; width: 55px;\"");

WriteLiteral(">表名称：</th>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"tableName\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" style=\"box-shadow:none ;border-top: 0px; border-left: 0px; border-right: 0px;\"");

WriteLiteral(" placeholder=\"请输入表名称\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" checkexpession=\"NotNull\"");

WriteLiteral(" />\r\n            </td>\r\n            <th");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(" style=\"text-align: left; padding-left: 7px; width: 55px;\"");

WriteLiteral(">表说明：</th>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"tableDescription\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" style=\"box-shadow:none ;border-top: 0px; border-left: 0px; border-right: 0px;\"");

WriteLiteral(" placeholder=\"添加说明\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" checkexpession=\"NotNull\"");

WriteLiteral(" />\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n<div");

WriteLiteral(" style=\"margin: 5px; margin-top: 0px; margin-bottom: 0px;\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" id=\"gridTable\"");

WriteLiteral("></table>\r\n    <style>\r\n        .ui-jqgrid .ui-jqgrid-caption {\r\n            text" +
"-align: right;\r\n            padding-right: 5px;\r\n            background-color: #" +
"F5F5F5;\r\n        }\r\n    </style>\r\n</div>\r\n<div");

WriteLiteral(" style=\"position: absolute; top: 51.5px; left: 10px;\"");

WriteLiteral(">\r\n    <a");

WriteLiteral(" id=\"lr-add\"");

WriteLiteral(" class=\"btn btn-success btn-xs\"");

WriteLiteral(" onclick=\"btn_add_field()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-plus\"");

WriteLiteral("></i>&nbsp;添加</a>\r\n    <a");

WriteLiteral(" id=\"lr-edit\"");

WriteLiteral(" class=\"btn btn-info btn-xs\"");

WriteLiteral(" onclick=\"btn_edit_field()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-pencil-square-o\"");

WriteLiteral("></i>&nbsp;修改</a>\r\n    <a");

WriteLiteral(" id=\"lr-delete\"");

WriteLiteral(" class=\"btn btn-danger btn-xs\"");

WriteLiteral(" onclick=\"btn_delete_field()\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fa fa-trash-o\"");

WriteLiteral("></i>&nbsp;移除</a>\r\n</div>\r\n");

        }
    }
}
#pragma warning restore 1591
