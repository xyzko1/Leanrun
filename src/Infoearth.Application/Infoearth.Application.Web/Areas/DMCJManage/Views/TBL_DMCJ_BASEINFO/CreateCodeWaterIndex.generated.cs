#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/DMCJManage/Views/TBL_DMCJ_BASEINFO/CreateCodeWaterIndex.cshtml")]
    public partial class _Areas_DMCJManage_Views_TBL_DMCJ_BASEINFO_CreateCodeWaterIndex_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_DMCJManage_Views_TBL_DMCJ_BASEINFO_CreateCodeWaterIndex_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\DMCJManage\Views\TBL_DMCJ_BASEINFO\CreateCodeWaterIndex.cshtml"
  
    ViewBag.Title = "获取统一编号";
    Layout = "~/Views/Shared/_Form.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n        \r\n<div");

WriteLiteral(" style=\"margin-top: 20px; margin-right: 30px;\"");

WriteLiteral(" id=\"districtControl\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" class=\"form\"");

WriteLiteral(">\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">省</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"PROVINCE\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" ></div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">市</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"CITY\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" ></div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">区</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"COUNTY\"");

WriteLiteral(" type=\"select\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral("></div>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" style=\" display:none;\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">乡镇<font");

WriteLiteral(" face=\"宋体\"");

WriteLiteral(" style=\"color:red\"");

WriteLiteral(">*</font></td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" id=\"TOWN\"");

WriteLiteral(" type=\"selectTree\"");

WriteLiteral(" class=\"ui-select\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral(" ></div>\r\n            </td>\r\n        </tr>\r\n        <tr");

WriteLiteral(" class=\"IsXZQH\"");

WriteLiteral(">\r\n            <td");

WriteLiteral(" class=\"formTitle\"");

WriteLiteral(">编号</td>\r\n            <td");

WriteLiteral(" class=\"formValue\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" id=\"F_ItemCode\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" maxlength=\"4\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" placeholder=\"请输入编号\"");

WriteLiteral(" isvalid=\"yes\"");

WriteLiteral("  />\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n");

DefineSection("Scripts", () => {

WriteLiteral("\r\n<script>\r\n    var IsXZQH = request(\'IsXZQH\');\r\n    var authToken = getAuthoriza" +
"tionToken();\r\n    $(function () {\r\n        initControl();\r\n    })\r\n    //初始化控件\r\n" +
"    function initControl() {\r\n        var html = $(\"#districtControl\").html();\r\n" +
"        var usercode = usercodes();\r\n        var district = $(\"#districtControl\"" +
").districtsCtl({\r\n            provinceId: usercode.provinceId,\r\n            html" +
": html,\r\n            callBack: SetItemCode\r\n        });\r\n        function SetIte" +
"mCode(value) {\r\n            if (!value)\r\n                return;\r\n            if" +
" ($(\"#COUNTY\").attr(\'data-value\') == null || $(\"#COUNTY\").attr(\'data-value\') == " +
"\"\") {\r\n                $(\"#F_ItemCode\").val(\'\');\r\n                return;\r\n     " +
"       }\r\n            $.ajax({\r\n                url: \'../TBL_DMCJ_BASEINFO/GetMa" +
"xCode?xzqh=\' + value,\r\n                //param: { xzqh: value },\r\n              " +
"  async: false,\r\n                type: \"GET\",\r\n                success: function" +
" (data) {\r\n                    $(\"#F_ItemCode\").val(data);\r\n                }, e" +
"rror: function (e) {\r\n                },\r\n                cache: false\r\n        " +
"    });\r\n        }\r\n\r\n        if (IsXZQH) {\r\n            $(\".IsXZQH\").css(\"displ" +
"ay\", \"none\");\r\n        }\r\n\r\n    }\r\n    //保存表单\r\n    function AcceptClick(callback" +
") {\r\n        //Validform\r\n        if (!$(\'#form1\').Validform()) {\r\n            r" +
"eturn false;\r\n        }\r\n        var data = $(\"#form1\").getWebControls();\r\n     " +
"   data[\"F_ProvinceName\"] = $(\"#PROVINCE\").text();\r\n        data[\"F_CityName\"] =" +
" $(\"#CITY\").text();\r\n        data[\"F_CountyName\"] = $(\"#COUNTY\").text();\r\n      " +
"  data[\"DISTRICTCODE\"] = $(\"#COUNTY\").attr(\'data-value\');\r\n        var isExist =" +
" false;\r\n        var value = data[\"COUNTY\"] + data[\"F_ItemCode\"];\r\n        $.aja" +
"x({\r\n            url: \'../../api/MONITORPOINT/TBL_DMCJ_BASEINFO/GetFormJson?keyV" +
"alue=\' + value,\r\n            //param: { xzqh: value },\r\n            async: false" +
",\r\n            type: \"GET\",\r\n            beforeSend: function (request) {\r\n     " +
"           request.setRequestHeader(\"Authorization\", authToken);\r\n            }," +
"\r\n            success: function (data) {\r\n                if (data == null) {\r\n " +
"                   isExist = true;\r\n                }\r\n            }, error: fun" +
"ction (e) {\r\n            },\r\n            cache: false\r\n        });\r\n        if (" +
"isExist) {\r\n            callback(data);\r\n            learun.dialogClose();\r\n    " +
"    } else {\r\n            alert(\"编号已存在！\");\r\n        }\r\n    }\r\n</script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
